var sl=Object.defineProperty;var al=(n,e,l)=>e in n?sl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[e]=l;var ue=(n,e,l)=>(al(n,typeof e!="symbol"?e+"":e,l),l);import{f as ol,h as cl,s as x,c as Bt,u as zt,g as Ot,d as Ht,o as qt,b as at,t as ul,i as Ze,n as Z,e as _e,r as fl,j as dn,k as pn,l as dl,m as pl}from"./scheduler.0f1e1341.js";import{S as ee,i as te,d as I,t as D,g as _,s as N,m as G,h as v,c as T,j as b,f as d,n as J,k as f,a as P,x as p,C as oe,B as ve,e as le,y as Ne,o as X,z as Re,A as Be,r as z,u as O,v as H,w as q,D as Ye,p as de,b as pe,E as hl,F as bt,G as ml}from"./index.5b24a853.js";import{c as hn,C as _l,L as Se,S as Ut,N as vl}from"./no-contacts-found.551bd3d0.js";import{w as mn}from"./paths.1b9701b9.js";const bl=!0,gl=!1;function he(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}const yl=bl,zs=gl;class wl{constructor(e){ue(this,"writable");this.writable=e}emit(e){return this.writable.set(e)}}let kt=class{constructor(e){ue(this,"states");ue(this,"events");ue(this,"emitter");ue(this,"initialState");ue(this,"state");ue(this,"subscribe");this.initialState=e,this.state=e,this.states=mn(e),this.events=mn(),this.emitter=new wl(this.states),this.subscribe=this.states.subscribe}add(e){this.events.set(e)}on(e,l){this.events.subscribe(t=>{t&&l(t)&&e(t,r=>{this.state=r,this.emitter.emit(r)})})}reset(){this.state=this.initialState,this.emitter.emit(this.state)}};function re(n,e){return n.type===e}function Qn(n){return ol(n)}function Hs(n){return cl(n.constructor,n)}function kl(n){let e;const l=n[3].default,t=Bt(l,n,n[2],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,i){t&&t.m(r,i),e=!0},p(r,[i]){t&&t.p&&(!e||i&4)&&zt(t,l,r,r[2],e?Ht(l,r[2],i,null):Ot(r[2]),null)},i(r){e||(I(t,r),e=!0)},o(r){D(t,r),e=!1},d(r){t&&t.d(r)}}}function $l(n,e,l){let{$$slots:t={},$$scope:r}=e,{reactor:i}=e,{listener:s=void 0}=e;const a="caller"in i?Qn(i):i;if(s!==void 0){const o=s;qt(()=>a.subscribe(o))}return n.$$set=o=>{"reactor"in o&&l(0,i=o.reactor),"listener"in o&&l(1,s=o.listener),"$$scope"in o&&l(2,r=o.$$scope)},[i,s,r,t]}class rt extends ee{constructor(e){super(),te(this,e,$l,kl,x,{reactor:0,listener:1})}}class Cl{constructor(e){ue(this,"window");this.window=e}store(e,l){return Promise.resolve(this.window.localStorage.setItem(e,l))}lookup(e){const l=this.window.localStorage.getItem(e);return Promise.resolve(l??void 0)}}var gt=new Array,El={extras:void 0};function qs(n){gt.length=0,gt.push(...n)}function jt(n,{extras:e}=El){gt.forEach(l=>l.logMessage(n,{extras:e}))}function De(n){gt.forEach(e=>e.logError(n))}var Us=class{logMessage(n,e){console.info(`‚ÑπÔ∏è  (${n})`,e)}logWarning(n,e){console.warn(`‚ö†Ô∏è  (${n})`,e)}logFatal(n,e){console.trace(`üíÄ  (${n})`,e)}logError(n){console.error(`üêõ  (${n})`)}};class Gt{constructor(e){ue(this,"value");this.value=e}}class $e extends Gt{constructor(l,t){super(l);ue(this,"isPublic");this.isPublic=t}static public(l){const t=typeof l=="string"?Mt(l):l;return new $e(t,!0)}static private(l){const t=typeof l=="string"?Mt(l):l;return new $e(t,!1)}toString(){const l=btoa(it(this.value));return this.isPublic?`-----BEGIN PUBLIC KEY-----
${l}
-----END PUBLIC KEY-----`:`-----BEGIN PRIVATE KEY-----
${l}
-----END PRIVATE KEY-----`}}class ze extends Gt{constructor(e){super(e)}static private(e){const l=typeof e=="string"?Mt(e):e;return new ze(l)}toString(){return`-----BEGIN PRIVATE KEY-----
${btoa(it(this.value))}
-----END PRIVATE KEY-----`}}function yt(n){const e=new Uint8Array(n.length);for(let l=0;l<n.length;l++)e[l]=n.charCodeAt(l);return e.buffer}function it(n){return String.fromCodePoint(...new Uint8Array(n))}function Mt(n){const e=n.replaceAll(/(-----([A-Z ]{14,21})-----)|\n/g,""),l=atob(e);return yt(l)}class xn{constructor(){ue(this,"keyUsages");this.keyUsages=["encrypt","decrypt"]}async encryptData(e,l,t,r){const i=await crypto.subtle.importKey(r,e.value,t,!0,["encrypt"]),s=await crypto.subtle.encrypt(t,i,yt(l));return Promise.resolve(it(s))}async decryptData(e,l,t,r){const i=await crypto.subtle.importKey(r,e.value,t,!0,["decrypt"]),s=await crypto.subtle.decrypt(t,i,yt(l));return Promise.resolve(it(s))}}class Sl extends xn{constructor(l){super();ue(this,"algorithm");this.algorithm=l}async generate(){crypto.subtle.digest;const l=await crypto.subtle.generateKey(this.algorithm,!0,this.keyUsages);return ze.private(await crypto.subtle.exportKey("raw",l))}}class Il extends xn{constructor(l){super();ue(this,"algorithm");this.algorithm=l}async generate(){const l=await crypto.subtle.generateKey(this.algorithm,!0,this.keyUsages);return{public:$e.public(await crypto.subtle.exportKey("spki",l.publicKey)),private:$e.private(await crypto.subtle.exportKey("pkcs8",l.privateKey))}}async encrypt(l,t){return super.encryptData(l,t,this.algorithm,"spki")}async decrypt(l,t){return super.decryptData(l,t,this.algorithm,"pkcs8")}async match(l){const t="valid";try{const r=await this.encrypt(l.public,t),i=await this.decrypt(l.private,r);return t===i}catch(r){return De(Pe(r)),!1}}}class Ll extends Sl{constructor(){super({name:"AES-GCM",length:256})}async encrypt(e,l){const t=crypto.getRandomValues(new Uint8Array(12)),r={name:"AES-GCM",iv:t};return{data:await super.encryptData(e,l,r,"raw"),iv:it(t.buffer)}}decrypt(e,l){const t={name:"AES-GCM",iv:yt(l.iv)};return super.decryptData(e,l.data,t,"raw")}}function Vl(n){const e=atob(n.contacts);return{...JSON.parse(e,(t,r)=>typeof r=="string"?atob(r):r)}}class Dl extends Il{constructor(){super({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}})}}class Pl{constructor(e){ue(this,"storage");ue(this,"maxStoredKeys");this.storage=e,this.maxStoredKeys=3}async cache(e){const l=e instanceof ze?"sym":"asy-pair",t=await this.lookupAll(l);return t.length===this.maxStoredKeys&&t.shift(),t.push(this.toJSON(e)),this.storage.store(l,JSON.stringify(t))}async pair(e){const l=await this.lookupAll("asy-pair"),t=this.toJSON(e),r=l.find(i=>"public"in i&&i.public===t.key||"private"in i&&i.private===t.key);if(r)return this.fromJSON([r])[0]}async lookupAll(e){const l=await this.storage.lookup(e)??"[]";return JSON.parse(l)}fromJSON(e){return e.map(t=>{if("public"in t&&"private"in t)return{public:$e.public(atob(`${t.public}`)),private:$e.private(atob(`${t.private}`))};if("key"in t)return ze.private(atob(`${t.key}`));throw new Error(`Invalid JSON: ${JSON.stringify(t)}`)})}toJSON(e){return e instanceof Gt?{key:btoa(e.toString())}:{public:btoa(e.public.toString()),private:btoa(e.private.toString())}}}class Nl{constructor(e){this.client=e}async add(e){try{const l={contacts:e},t=await this.client.add(hn,JSON.stringify(l));return t.status==200?t.json():Promise.resolve(t.status)}catch(l){throw De(Pe(l)),"Could not upload encrypted contacts list"}}async fetch(e,l){try{const t=await this.client.get(`${hn}/${e}`,new Headers({"x-doc-hash":l}));return t.status==200?t.json():Promise.resolve(t.status)}catch(t){throw De(Pe(t)),"Could not fetch encrypted contacts list"}}}let Kt;function js(n){if(!Kt){const e=new Cl(n);Kt={browserStorage:e,contactsManager:new Nl(new _l),asymmetricCrypto:new Dl,symmetricCrypto:new Ll,cryptoCache:new Pl(e)}}}function Ie(){return Kt}function Pe(n){return n instanceof Error?n:new Error(`${n}`)}function Tl(n){return{type:"add-contact",submission:n}}function Al(n){return{type:"share-contacts",submission:n}}function Ml(n){return{type:"import-public-key",submission:n}}function Gs(n,e,l){return{type:"decrypt-contacts",submission:l,ref:n,hash:e}}function Js(){return{type:"load-contacts-list"}}function Kl(){return{type:"save-contacts"}}const Fl=n=>re(n,"load-contacts-list"),Rl=n=>re(n,"add-contact"),Bl=n=>re(n,"save-contacts"),zl=n=>re(n,"share-contacts"),Ol=n=>re(n,"import-contacts"),Hl=n=>re(n,"import-public-key"),ql=n=>re(n,"decrypt-contacts");function Ul(n){let e,l,t,r,i,s,a,o,c,u,h,m,w,C,g,y,k,V,S,L,A,M=n[3].label+"",Q,F,j,R;const K=n[7].default,W=Bt(K,n,n[6],null);return{c(){e=_("input"),l=N(),t=_("div"),r=_("label"),i=N(),s=_("div"),a=_("label"),o=G("‚úï"),c=N(),u=_("div"),h=_("h2"),m=G(n[1]),w=N(),C=_("p"),g=G(n[2]),y=N(),k=_("section"),W&&W.c(),V=N(),S=_("div"),L=_("div"),A=_("button"),Q=G(M),this.h()},l($){e=v($,"INPUT",{class:!0,type:!0,id:!0}),l=T($),t=v($,"DIV",{class:!0});var E=b(t);r=v(E,"LABEL",{class:!0,for:!0}),b(r).forEach(d),i=T(E),s=v(E,"DIV",{class:!0});var U=b(s);a=v(U,"LABEL",{for:!0,class:!0});var Y=b(a);o=J(Y,"‚úï"),Y.forEach(d),c=T(U),u=v(U,"DIV",{class:!0});var se=b(u);h=v(se,"H2",{class:!0});var ie=b(h);m=J(ie,n[1]),ie.forEach(d),w=T(se),C=v(se,"P",{class:!0});var ce=b(C);g=J(ce,n[2]),ce.forEach(d),se.forEach(d),y=T(U),k=v(U,"SECTION",{});var be=b(k);W&&W.l(be),V=T(be),S=v(be,"DIV",{class:!0});var ye=b(S);L=v(ye,"DIV",{class:!0});var ge=b(L);A=v(ge,"BUTTON",{type:!0,class:!0});var ke=b(A);Q=J(ke,M),ke.forEach(d),ge.forEach(d),ye.forEach(d),be.forEach(d),U.forEach(d),E.forEach(d),this.h()},h(){f(e,"class","modal-state"),f(e,"type","checkbox"),f(e,"id",n[4]),f(r,"class","modal-overlay"),f(r,"for",n[4]),f(a,"for",n[4]),f(a,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),f(h,"class","text-center text-2xl font-semibold"),f(C,"class","mx-auto max-w-xs text-center text-sm text-content2"),f(u,"class","flex flex-col gap-2"),f(A,"type","submit"),f(A,"class","btn btn-primary w-full"),f(L,"class","justify-between"),f(S,"class","pt-5"),f(s,"class","modal-content flex w-full flex-col gap-5 p-7"),f(t,"class","modal")},m($,E){P($,e,E),n[8](e),P($,l,E),P($,t,E),p(t,r),p(t,i),p(t,s),p(s,a),p(a,o),p(s,c),p(s,u),p(u,h),p(h,m),p(u,w),p(u,C),p(C,g),p(s,y),p(s,k),W&&W.m(k,null),p(k,V),p(k,S),p(S,L),p(L,A),p(A,Q),F=!0,j||(R=oe(A,"click",n[3].callback),j=!0)},p($,[E]){W&&W.p&&(!F||E&64)&&zt(W,K,$,$[6],F?Ht(K,$[6],E,null):Ot($[6]),null)},i($){F||(I(W,$),F=!0)},o($){D(W,$),F=!1},d($){$&&(d(e),d(l),d(t)),n[8](null),W&&W.d($),j=!1,R()}}}function jl(n,e,l){let{$$slots:t={},$$scope:r}=e,{value:i}=e;const s=i.title,a=i.subtitle,o={label:i.action[0],callback:i.action[1]},c=`alert-${new Date().valueOf()}`;let u;qt(()=>u.click());function h(m){at[m?"unshift":"push"](()=>{u=m,l(0,u)})}return n.$$set=m=>{"value"in m&&l(5,i=m.value),"$$scope"in m&&l(6,r=m.$$scope)},[u,s,a,o,c,i,r,t,h]}class Jt extends ee{constructor(e){super(),te(this,e,jl,Ul,x,{value:5})}}function _t(n){return ul().finally(n)}function Gl(n){try{return new URL(n),!0}catch{return!1}}function Jl(n){let e,l,t='<svg width="32" height="32" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" stroke-width="2" d="M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"></path></svg>',r,i,s;return{c(){e=_("span"),l=_("button"),l.innerHTML=t,this.h()},l(a){e=v(a,"SPAN",{class:!0,"data-tooltip":!0});var o=b(e);l=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(l)!=="svelte-1nnivgr"&&(l.innerHTML=t),o.forEach(d),this.h()},h(){f(l,"class","btn btn-circle h-16 w-16 bg-blue-600"),f(e,"class","tooltip tooltip-top"),f(e,"data-tooltip",r=n[1].new())},m(a,o){P(a,e,o),p(e,l),i||(s=oe(l,"click",function(){Ze(n[0])&&n[0].apply(this,arguments)}),i=!0)},p(a,[o]){n=a,o&2&&r!==(r=n[1].new())&&f(e,"data-tooltip",r)},i:Z,o:Z,d(a){a&&d(e),i=!1,s()}}}function Wl(n,e,l){let t;_e(n,Se,i=>l(1,t=i));let{onClick:r}=e;return n.$$set=i=>{"onClick"in i&&l(0,r=i.onClick)},[r,t]}class Yl extends ee{constructor(e){super(),te(this,e,Wl,Jl,x,{onClick:0})}}function Zl(n){let e,l,t='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 16 16"><path fill="currentColor" d="M5.008 2H2.282c-.181 0-.245.002-.275.007c-.005.03-.007.094-.007.275v11.436c0 .181.002.245.007.275c.03.005.094.007.275.007h11.436c.181 0 .245-.002.275-.007c.005-.03.007-.094.007-.275V4.62c0-.13-.001-.18-.004-.204a2.654 2.654 0 0 0-.141-.147L11.73 2.145a2.654 2.654 0 0 0-.147-.141A2.654 2.654 0 0 0 11.38 2h-.388c.005.08.008.172.008.282v2.436c0 .446-.046.607-.134.77a.909.909 0 0 1-.378.378c-.163.088-.324.134-.77.134H6.282c-.446 0-.607-.046-.77-.134a.909.909 0 0 1-.378-.378C5.046 5.325 5 5.164 5 4.718V2.282c0-.11.003-.202.008-.282M2.282 1h9.098c.259 0 .348.01.447.032a.87.87 0 0 1 .273.113c.086.054.156.11.338.293l2.124 2.124c.182.182.239.252.293.338a.87.87 0 0 1 .113.273c.023.1.032.188.032.447v9.098c0 .446-.046.607-.134.77a.909.909 0 0 1-.378.378c-.163.088-.324.134-.77.134H2.282c-.446 0-.607-.046-.77-.134a.909.909 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77V2.282c0-.446.046-.607.134-.77a.909.909 0 0 1 .378-.378c.163-.088.324-.134.77-.134M6 2.282v2.436c0 .181.002.245.007.275c.03.005.094.007.275.007h3.436c.181 0 .245-.002.275-.007c.005-.03.007-.094.007-.275V2.282c0-.181-.002-.245-.007-.275A2.248 2.248 0 0 0 9.718 2H6.282c-.181 0-.245.002-.275.007c-.005.03-.007.094-.007.275M8 12a2 2 0 1 1 0-4a2 2 0 0 1 0 4m0-1a1 1 0 1 0 0-2a1 1 0 0 0 0 2"></path></svg>',r,i,s;return{c(){e=_("span"),l=_("button"),l.innerHTML=t,this.h()},l(a){e=v(a,"SPAN",{class:!0,"data-tooltip":!0});var o=b(e);l=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(l)!=="svelte-17hxhlb"&&(l.innerHTML=t),o.forEach(d),this.h()},h(){f(l,"class","btn btn-circle h-16 w-16 bg-blue-600"),f(e,"class","tooltip tooltip-top"),f(e,"data-tooltip",r=n[1].saveList())},m(a,o){P(a,e,o),p(e,l),i||(s=oe(l,"click",function(){Ze(n[0])&&n[0].apply(this,arguments)}),i=!0)},p(a,[o]){n=a,o&2&&r!==(r=n[1].saveList())&&f(e,"data-tooltip",r)},i:Z,o:Z,d(a){a&&d(e),i=!1,s()}}}function Xl(n,e,l){let t;_e(n,Se,i=>l(1,t=i));let{onClick:r}=e;return n.$$set=i=>{"onClick"in i&&l(0,r=i.onClick)},[r,t]}class Ql extends ee{constructor(e){super(),te(this,e,Xl,Zl,x,{onClick:0})}}function xl(n){let e,l='<svg width="24" height="24" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"></path></svg>',t,r;return{c(){e=_("div"),e.innerHTML=l,this.h()},l(i){e=v(i,"DIV",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),ve(e)!=="svelte-1tmc88r"&&(e.innerHTML=l),this.h()},h(){f(e,"class","flex items-center"),f(e,"aria-hidden","true")},m(i,s){P(i,e,s),t||(r=oe(e,"click",function(){Ze(n[0])&&n[0].apply(this,arguments)}),t=!0)},p(i,[s]){n=i},i:Z,o:Z,d(i){i&&d(e),t=!1,r()}}}function er(n,e,l){let{onClick:t}=e;return n.$$set=r=>{"onClick"in r&&l(0,t=r.onClick)},[t]}class tr extends ee{constructor(e){super(),te(this,e,er,xl,x,{onClick:0})}}function nr(n){let e,l='<svg width="24" height="24" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><rect width="10" height="1.5" x="3" y="7.25" fill="currentColor" rx=".5"></rect></svg>',t,r;return{c(){e=_("div"),e.innerHTML=l,this.h()},l(i){e=v(i,"DIV",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),ve(e)!=="svelte-qklh5e"&&(e.innerHTML=l),this.h()},h(){f(e,"class","flex items-center"),f(e,"aria-hidden","true")},m(i,s){P(i,e,s),t||(r=oe(e,"click",function(){Ze(n[0])&&n[0].apply(this,arguments)}),t=!0)},p(i,[s]){n=i},i:Z,o:Z,d(i){i&&d(e),t=!1,r()}}}function lr(n,e,l){let{onClick:t}=e;return n.$$set=r=>{"onClick"in r&&l(0,t=r.onClick)},[t]}class rr extends ee{constructor(e){super(),te(this,e,lr,nr,x,{onClick:0})}}function _n(n,e,l){const t=n.slice();return t[9]=e[l],t}function vn(n){let e,l,t=he(n[0]),r=[];for(let i=0;i<t.length;i+=1)r[i]=bn(_n(n,t,i));return{c(){e=_("div"),l=_("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var s=b(e);l=v(s,"DIV",{class:!0});var a=b(l);for(let o=0;o<r.length;o+=1)r[o].l(a);a.forEach(d),s.forEach(d),this.h()},h(){f(l,"class","dropdown-menu"),f(e,"class","dropdown dropdown-open")},m(i,s){P(i,e,s),p(e,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(l,null)},p(i,s){if(s&19){t=he(i[0]);let a;for(a=0;a<t.length;a+=1){const o=_n(i,t,a);r[a]?r[a].p(o,s):(r[a]=bn(o),r[a].c(),r[a].m(l,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&d(e),Ne(r,i)}}}function bn(n){let e,l=n[9]+"",t,r,i,s;function a(){return n[8](n[9])}return{c(){e=_("div"),t=G(l),r=N(),this.h()},l(o){e=v(o,"DIV",{tabindex:!0,class:!0,"aria-hidden":!0});var c=b(e);t=J(c,l),r=T(c),c.forEach(d),this.h()},h(){f(e,"tabindex","-1"),f(e,"class","dropdown-item text-sm"),f(e,"aria-hidden","")},m(o,c){P(o,e,c),p(e,t),p(e,r),i||(s=oe(e,"click",a),i=!0)},p(o,c){n=o,c&1&&l!==(l=n[9]+"")&&X(t,l)},d(o){o&&d(e),i=!1,s()}}}function ir(n){let e,l,t='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M10.5 5A1.5 1.5 0 0 1 12 3.5h.01a1.5 1.5 0 0 1 1.5 1.5v.01a1.5 1.5 0 0 1-1.5 1.5H12a1.5 1.5 0 0 1-1.5-1.5V5Zm0 7a1.5 1.5 0 0 1 1.5-1.5h.01a1.5 1.5 0 0 1 1.5 1.5v.01a1.5 1.5 0 0 1-1.5 1.5H12a1.5 1.5 0 0 1-1.5-1.5V12Zm1.5 5.5a1.5 1.5 0 0 0-1.5 1.5v.01a1.5 1.5 0 0 0 1.5 1.5h.01a1.5 1.5 0 0 0 1.5-1.5V19a1.5 1.5 0 0 0-1.5-1.5H12Z" clip-rule="evenodd"></path></svg>',r,i,s,a,o,c=n[4]&&vn(n);return{c(){e=_("div"),l=_("div"),l.innerHTML=t,i=N(),c&&c.c(),s=le(),this.h()},l(u){e=v(u,"DIV",{class:!0,"aria-hidden":!0});var h=b(e);l=v(h,"DIV",{"data-svelte-h":!0}),ve(l)!=="svelte-1t510vs"&&(l.innerHTML=t),h.forEach(d),i=T(u),c&&c.l(u),s=le(),this.h()},h(){f(e,"class",r="flex items-center "+(n[2]?"cursor-default":"cursor-pointer")),f(e,"aria-hidden","true")},m(u,h){P(u,e,h),p(e,l),n[6](e),P(u,i,h),c&&c.m(u,h),P(u,s,h),a||(o=[oe(window,"click",n[5]),oe(e,"click",n[7])],a=!0)},p(u,[h]){h&4&&r!==(r="flex items-center "+(u[2]?"cursor-default":"cursor-pointer"))&&f(e,"class",r),u[4]?c?c.p(u,h):(c=vn(u),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i:Z,o:Z,d(u){u&&(d(e),d(i),d(s)),n[6](null),c&&c.d(u),a=!1,fl(o)}}}function sr(n,e,l){let t,{values:r}=e,{onClick:i}=e,{disabled:s=!1}=e,a;const o=m=>{m.target instanceof Node&&a.contains(m.target)==!1&&l(4,t=!1)};function c(m){at[m?"unshift":"push"](()=>{a=m,l(3,a)})}const u=()=>l(4,t=!t&&!s),h=m=>{i(m),l(4,t=!1)};return n.$$set=m=>{"values"in m&&l(0,r=m.values),"onClick"in m&&l(1,i=m.onClick),"disabled"in m&&l(2,s=m.disabled)},l(4,t=!1),[r,i,s,a,t,o,c,u,h]}class ar extends ee{constructor(e){super(),te(this,e,sr,ir,x,{values:0,onClick:1,disabled:2})}}function or(n){let e,l,t,r,i,s,a,o;return{c(){e=_("button"),l=_("span"),t=Re("svg"),r=Re("g"),i=Re("path"),s=Re("path"),this.h()},l(c){e=v(c,"BUTTON",{});var u=b(e);l=v(u,"SPAN",{class:!0,"data-tooltip":!0});var h=b(l);t=Be(h,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var m=b(t);r=Be(m,"g",{fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,opacity:!0});var w=b(r);i=Be(w,"path",{d:!0}),b(i).forEach(d),s=Be(w,"path",{d:!0}),b(s).forEach(d),w.forEach(d),m.forEach(d),h.forEach(d),u.forEach(d),this.h()},h(){f(i,"d","M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2H9V5Z"),f(s,"d","M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"),f(r,"fill","none"),f(r,"stroke","currentColor"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(r,"stroke-width","1.5"),f(r,"opacity","0.85"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"width","24"),f(t,"height","24"),f(t,"viewBox","0 0 24 24"),f(l,"class","tooltip-primary tooltip tooltip-left"),f(l,"data-tooltip",n[2])},m(c,u){P(c,e,u),p(e,l),p(l,t),p(t,r),p(r,i),p(r,s),a||(o=oe(e,"click",n[4]),a=!0)},p(c,[u]){u&4&&f(l,"data-tooltip",c[2])},i:Z,o:Z,d(c){c&&d(e),a=!1,o()}}}function cr(n,e,l){let t,r,i;_e(n,Se,o=>l(3,i=o));let{onCopy:s}=e;const a=()=>{navigator.clipboard.writeText(s()),l(1,t=!0)};return n.$$set=o=>{"onCopy"in o&&l(0,s=o.onCopy)},n.$$.update=()=>{n.$$.dirty&10&&l(2,r=t?i.copiedAction():i.copyAction())},l(1,t=!1),[s,t,r,i,a]}class el extends ee{constructor(e){super(),te(this,e,cr,or,x,{onCopy:0})}}function ur(n){let e,l,t,r,i,s,a,o=n[1].downloadAction+"",c,u,h,m;return{c(){e=_("button"),l=_("span"),t=Re("svg"),r=Re("path"),i=Re("path"),s=N(),a=_("a"),c=G(o),u=G("..."),this.h()},l(w){e=v(w,"BUTTON",{});var C=b(e);l=v(C,"SPAN",{class:!0,"data-tooltip":!0});var g=b(l);t=Be(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var y=b(t);r=Be(y,"path",{fill:!0,d:!0}),b(r).forEach(d),i=Be(y,"path",{fill:!0,d:!0}),b(i).forEach(d),y.forEach(d),g.forEach(d),s=T(C),a=v(C,"A",{href:!0,download:!0});var k=b(a);c=J(k,o),u=J(k,"..."),k.forEach(d),C.forEach(d),this.h()},h(){f(r,"fill","currentColor"),f(r,"d","m9 9.114l1.85-1.943a.52.52 0 0 1 .77 0c.214.228.214.6 0 .829l-1.95 2.05a1.552 1.552 0 0 1-2.31 0L5.41 8a.617.617 0 0 1 0-.829a.52.52 0 0 1 .77 0L8 9.082V.556C8 .249 8.224 0 8.5 0s.5.249.5.556z"),f(i,"fill","currentColor"),f(i,"d","M16 13.006V10h-1v3.006a.995.995 0 0 1-.994.994H3.01a.995.995 0 0 1-.994-.994V10h-1v3.006c0 1.1.892 1.994 1.994 1.994h10.996c1.1 0 1.994-.893 1.994-1.994"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"width","24"),f(t,"height","24"),f(t,"viewBox","0 0 16 16"),f(l,"class","tooltip-primary tooltip tooltip-left"),f(l,"data-tooltip",n[3]),f(a,"href","#download"),f(a,"download",""),a.hidden=!0},m(w,C){P(w,e,C),p(e,l),p(l,t),p(t,r),p(t,i),p(e,s),p(e,a),p(a,c),p(a,u),n[5](a),h||(m=oe(e,"click",n[6]),h=!0)},p(w,[C]){C&8&&f(l,"data-tooltip",w[3]),C&2&&o!==(o=w[1].downloadAction+"")&&X(c,o)},i:Z,o:Z,d(w){w&&d(e),n[5](null),h=!1,m()}}}function fr(n,e,l){let t,r,i;_e(n,Se,u=>l(1,i=u));let{onDownload:s}=e,a;function o(u){at[u?"unshift":"push"](()=>{a=u,l(2,a)})}const c=()=>{const u=s(),h=window.URL.createObjectURL(new Blob([u.content],{type:u.type}));l(2,a.download=u.name,a),l(2,a.href=h,a),a.click(),_t(()=>window.URL.revokeObjectURL(h))};return n.$$set=u=>{"onDownload"in u&&l(0,s=u.onDownload)},n.$$.update=()=>{n.$$.dirty&18&&l(3,r=t?i.downloadedAction():i.downloadAction())},l(4,t=!1),[s,i,a,r,t,o,c]}class dr extends ee{constructor(e){super(),te(this,e,fr,ur,x,{onDownload:0})}}function pr(n){let e,l,t='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M11.351 1.091a4.528 4.528 0 0 1 3.44 3.16c.215.724.247 1.49.093 2.23a4.583 4.583 0 0 1-4.437 3.6c-.438 0-.874-.063-1.293-.19l-.8.938l-.379.175H7v1.5l-.5.5H5v1.5l-.5.5h-3l-.5-.5v-2.307l.146-.353L6.12 6.87a4.464 4.464 0 0 1-.2-1.405a4.528 4.528 0 0 1 5.431-4.375zm1.318 7.2a3.568 3.568 0 0 0 1.239-2.005l.004.005A3.543 3.543 0 0 0 9.72 2.08a3.576 3.576 0 0 0-2.8 3.4c-.01.456.07.908.239 1.33l-.11.543L2 12.404v1.6h2v-1.5l.5-.5H6v-1.5l.5-.5h1.245l.876-1.016l.561-.14a3.47 3.47 0 0 0 1.269.238a3.568 3.568 0 0 0 2.218-.795zm-.838-2.732a1 1 0 1 0-1.662-1.11a1 1 0 0 0 1.662 1.11z" clip-rule="evenodd"></path></svg>',r,i,s;return{c(){e=_("span"),l=_("button"),l.innerHTML=t,this.h()},l(a){e=v(a,"SPAN",{class:!0,"data-tooltip":!0});var o=b(e);l=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(l)!=="svelte-1owadpb"&&(l.innerHTML=t),o.forEach(d),this.h()},h(){f(l,"class","btn btn-circle h-16 w-16 bg-orange-600"),f(e,"class","tooltip tooltip-top"),f(e,"data-tooltip",r=n[1].addPublicKey())},m(a,o){P(a,e,o),p(e,l),i||(s=oe(l,"click",function(){Ze(n[0])&&n[0].apply(this,arguments)}),i=!0)},p(a,[o]){n=a,o&2&&r!==(r=n[1].addPublicKey())&&f(e,"data-tooltip",r)},i:Z,o:Z,d(a){a&&d(e),i=!1,s()}}}function hr(n,e,l){let t;_e(n,Se,i=>l(1,t=i));let{onClick:r}=e;return n.$$set=i=>{"onClick"in i&&l(0,r=i.onClick)},[r,t]}class mr extends ee{constructor(e){super(),te(this,e,hr,pr,x,{onClick:0})}}function _r(n){let e,l=n[0].message+"",t;return{c(){e=_("div"),t=G(l),this.h()},l(r){e=v(r,"DIV",{class:!0});var i=b(e);t=J(i,l),i.forEach(d),this.h()},h(){f(e,"class","break-words whitespace-pre-wrap")},m(r,i){P(r,e,i),p(e,t)},p(r,i){i&1&&l!==(l=r[0].message+"")&&X(t,l)},d(r){r&&d(e)}}}function vr(n){let e,l,t=n[0].message+"",r,i;return{c(){e=_("div"),l=_("a"),r=G(t),this.h()},l(s){e=v(s,"DIV",{class:!0});var a=b(e);l=v(a,"A",{class:!0,href:!0});var o=b(l);r=J(o,t),o.forEach(d),a.forEach(d),this.h()},h(){f(l,"class","link link-primary"),f(l,"href",i=n[0].message),f(e,"class","break-all")},m(s,a){P(s,e,a),p(e,l),p(l,r)},p(s,a){a&1&&t!==(t=s[0].message+"")&&X(r,t),a&1&&i!==(i=s[0].message)&&f(l,"href",i)},d(s){s&&d(e)}}}function br(n){let e,l,t,r,i;l=new el({props:{onCopy:n[2]}});function s(c,u){return c[1]?vr:_r}let o=s(n)(n);return{c(){e=_("div"),z(l.$$.fragment),t=N(),o.c(),r=le(),this.h()},l(c){e=v(c,"DIV",{class:!0});var u=b(e);O(l.$$.fragment,u),u.forEach(d),t=T(c),o.l(c),r=le(),this.h()},h(){f(e,"class","flex justify-end")},m(c,u){P(c,e,u),H(l,e,null),P(c,t,u),o.m(c,u),P(c,r,u),i=!0},p(c,u){const h={};u&1&&(h.onCopy=c[2]),l.$set(h),o.p(c,u)},i(c){i||(I(l.$$.fragment,c),i=!0)},o(c){D(l.$$.fragment,c),i=!1},d(c){c&&(d(e),d(t),d(r)),q(l),o.d(c)}}}function gr(n){let e,l;return e=new Jt({props:{value:n[0],$$slots:{default:[br]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,[r]){const i={};r&1&&(i.value=t[0]),r&9&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function yr(n,e,l){let{value:t}=e;const r=Gl(t.message),i=()=>t.message;return n.$$set=s=>{"value"in s&&l(0,t=s.value)},[t,r,i]}class wr extends ee{constructor(e){super(),te(this,e,yr,gr,x,{value:0})}}function kr(n){let e,l;return e=new Ur({}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p:Z,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function $r(n){let e;const l=n[2].default,t=Bt(l,n,n[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,i){t&&t.m(r,i),e=!0},p(r,i){t&&t.p&&(!e||i&8)&&zt(t,l,r,r[3],e?Ht(l,r[3],i,null):Ot(r[3]),null)},i(r){e||(I(t,r),e=!0)},o(r){D(t,r),e=!1},d(r){t&&t.d(r)}}}function gn(n){let e,l,t="Stack-trace",r,i,s=n[0].error.stack+"",a;return{c(){e=_("details"),l=_("summary"),l.textContent=t,r=N(),i=_("div"),a=G(s),this.h()},l(o){e=v(o,"DETAILS",{});var c=b(e);l=v(c,"SUMMARY",{"data-svelte-h":!0}),ve(l)!=="svelte-r7k50o"&&(l.textContent=t),r=T(c),i=v(c,"DIV",{class:!0});var u=b(i);a=J(u,s),u.forEach(d),c.forEach(d),this.h()},h(){f(i,"class","break-words whitespace-pre-wrap")},m(o,c){P(o,e,c),p(e,l),p(e,r),p(e,i),p(i,a)},p(o,c){c&1&&s!==(s=o[0].error.stack+"")&&X(a,s)},d(o){o&&d(e)}}}function Cr(n){let e,l,t,r,i;const s=[$r,kr],a=[];function o(u,h){return u[1]?0:1}e=o(n),l=a[e]=s[e](n);let c=n[0].error&&gn(n);return{c(){l.c(),t=N(),c&&c.c(),r=le()},l(u){l.l(u),t=T(u),c&&c.l(u),r=le()},m(u,h){a[e].m(u,h),P(u,t,h),c&&c.m(u,h),P(u,r,h),i=!0},p(u,h){l.p(u,h),u[0].error?c?c.p(u,h):(c=gn(u),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},i(u){i||(I(l),i=!0)},o(u){D(l),i=!1},d(u){u&&(d(t),d(r)),a[e].d(u),c&&c.d(u)}}}function Er(n){let e,l;return e=new Jt({props:{value:n[0],$$slots:{default:[Cr]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,[r]){const i={};r&1&&(i.value=t[0]),r&9&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Sr(n,e,l){let{$$slots:t={},$$scope:r}=e,{value:i}=e;const s=e.$$slots!==void 0;return n.$$set=a=>{l(4,e=dn(dn({},e),pn(a))),"value"in a&&l(0,i=a.value),"$$scope"in a&&l(3,r=a.$$scope)},e=pn(e),[i,s,t,r]}class tl extends ee{constructor(e){super(),te(this,e,Sr,Er,x,{value:0})}}function yn(n,e,l){const t=n.slice();return t[5]=e[l],t}function wn(n){let e,l=n[5].tab+"",t,r,i,s,a;function o(){return n[4](n[5])}return{c(){e=_("div"),t=G(l),r=N(),this.h()},l(c){e=v(c,"DIV",{class:!0,"aria-hidden":!0});var u=b(e);t=J(u,l),r=T(u),u.forEach(d),this.h()},h(){f(e,"class",i="tab px-6 "+(n[1]===n[5]?"tab-active tab-underline":"")),f(e,"aria-hidden","true")},m(c,u){P(c,e,u),p(e,t),p(e,r),s||(a=oe(e,"click",o),s=!0)},p(c,u){n=c,u&1&&l!==(l=n[5].tab+"")&&X(t,l),u&3&&i!==(i="tab px-6 "+(n[1]===n[5]?"tab-active tab-underline":""))&&f(e,"class",i)},d(c){c&&d(e),s=!1,a()}}}function Ir(n){let e,l,t,r,i,s,a,o,c,u,h=n[1].value+"",m,w;l=new el({props:{onCopy:n[2]}}),r=new dr({props:{onDownload:n[3]}});let C=he(n[0].tabs),g=[];for(let y=0;y<C.length;y+=1)g[y]=wn(yn(n,C,y));return{c(){e=_("div"),z(l.$$.fragment),t=N(),z(r.$$.fragment),i=N(),s=_("div"),a=_("div");for(let y=0;y<g.length;y+=1)g[y].c();o=N(),c=_("div"),u=_("div"),m=G(h),this.h()},l(y){e=v(y,"DIV",{class:!0});var k=b(e);O(l.$$.fragment,k),t=T(k),O(r.$$.fragment,k),k.forEach(d),i=T(y),s=v(y,"DIV",{class:!0});var V=b(s);a=v(V,"DIV",{class:!0});var S=b(a);for(let M=0;M<g.length;M+=1)g[M].l(S);S.forEach(d),o=T(V),c=v(V,"DIV",{class:!0});var L=b(c);u=v(L,"DIV",{class:!0});var A=b(u);m=J(A,h),A.forEach(d),L.forEach(d),V.forEach(d),this.h()},h(){f(e,"class","flex justify-end gap-2"),f(a,"class","tabs"),f(u,"class","break-words whitespace-pre-wrap"),f(c,"class","break-all"),f(s,"class","flex flex-col items-center gap-4")},m(y,k){P(y,e,k),H(l,e,null),p(e,t),H(r,e,null),P(y,i,k),P(y,s,k),p(s,a);for(let V=0;V<g.length;V+=1)g[V]&&g[V].m(a,null);p(s,o),p(s,c),p(c,u),p(u,m),w=!0},p(y,k){const V={};k&2&&(V.onCopy=y[2]),l.$set(V);const S={};if(k&2&&(S.onDownload=y[3]),r.$set(S),k&3){C=he(y[0].tabs);let L;for(L=0;L<C.length;L+=1){const A=yn(y,C,L);g[L]?g[L].p(A,k):(g[L]=wn(A),g[L].c(),g[L].m(a,null))}for(;L<g.length;L+=1)g[L].d(1);g.length=C.length}(!w||k&2)&&h!==(h=y[1].value+"")&&X(m,h)},i(y){w||(I(l.$$.fragment,y),I(r.$$.fragment,y),w=!0)},o(y){D(l.$$.fragment,y),D(r.$$.fragment,y),w=!1},d(y){y&&(d(e),d(i),d(s)),q(l),q(r),Ne(g,y)}}}function Lr(n){let e,l;return e=new Jt({props:{value:n[0],$$slots:{default:[Ir]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,[r]){const i={};r&1&&(i.value=t[0]),r&259&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Vr(n,e,l){let t,{value:r}=e;const i=()=>t.value,s=()=>({name:t.tab,content:t.value,type:"text/plain"}),a=o=>l(1,t=o);return n.$$set=o=>{"value"in o&&l(0,r=o.value)},n.$$.update=()=>{n.$$.dirty&1&&l(1,t=r.tabs[0])},[r,t,i,s,a]}class Dr extends ee{constructor(e){super(),te(this,e,Vr,Lr,x,{value:0})}}function Pr(n){let e,l;return e=new Ut({props:{name:"bug",alt:"a bug reading a book",size:n[0],format:n[1]}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,[r]){const i={};r&1&&(i.size=t[0]),r&2&&(i.format=t[1]),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Nr(n,e,l){let{size:t="m"}=e,{format:r="webp"}=e;return n.$$set=i=>{"size"in i&&l(0,t=i.size),"format"in i&&l(1,r=i.format)},[t,r]}class Tr extends ee{constructor(e){super(),te(this,e,Nr,Pr,x,{size:0,format:1})}}function Ar(n){let e,l;return e=new Ut({props:{name:"logo",alt:"application logo",size:n[0],format:n[1]}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,[r]){const i={};r&1&&(i.size=t[0]),r&2&&(i.format=t[1]),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Mr(n,e,l){let{size:t="m"}=e,{format:r="webp"}=e;return n.$$set=i=>{"size"in i&&l(0,t=i.size),"format"in i&&l(1,r=i.format)},[t,r]}class Kr extends ee{constructor(e){super(),te(this,e,Mr,Ar,x,{size:0,format:1})}}function Fr(n){let e,l;return e=new Ut({props:{name:"keys",alt:"an illustration of two keys",size:n[0],format:n[1]}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,[r]){const i={};r&1&&(i.size=t[0]),r&2&&(i.format=t[1]),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Rr(n,e,l){let{size:t="m"}=e,{format:r="webp"}=e;return n.$$set=i=>{"size"in i&&l(0,t=i.size),"format"in i&&l(1,r=i.format)},[t,r]}class Br extends ee{constructor(e){super(),te(this,e,Rr,Fr,x,{size:0,format:1})}}function zr(n){let e,l,t,r,i,s=n[0].states.emptyContactList()+"",a,o;return t=new Kr({props:{size:"lg"}}),{c(){e=_("div"),l=_("div"),z(t.$$.fragment),r=N(),i=_("p"),a=G(s),this.h()},l(c){e=v(c,"DIV",{class:!0});var u=b(e);l=v(u,"DIV",{class:!0});var h=b(l);O(t.$$.fragment,h),h.forEach(d),r=T(u),i=v(u,"P",{class:!0});var m=b(i);a=J(m,s),m.forEach(d),u.forEach(d),this.h()},h(){f(l,"class","opacity-60 grayscale"),f(i,"class","text-lg"),f(e,"class","flex flex-col items-center gap-4")},m(c,u){P(c,e,u),p(e,l),H(t,l,null),p(e,r),p(e,i),p(i,a),o=!0},p(c,[u]){(!o||u&1)&&s!==(s=c[0].states.emptyContactList()+"")&&X(a,s)},i(c){o||(I(t.$$.fragment,c),o=!0)},o(c){D(t.$$.fragment,c),o=!1},d(c){c&&d(e),q(t)}}}function Or(n,e,l){let t;return _e(n,Se,r=>l(0,t=r)),[t]}class Hr extends ee{constructor(e){super(),te(this,e,Or,zr,x,{})}}function qr(n){let e,l,t,r,i,s="Oops... üêûüò¨",a;return t=new Tr({props:{size:"m"}}),{c(){e=_("div"),l=_("div"),z(t.$$.fragment),r=N(),i=_("p"),i.textContent=s,this.h()},l(o){e=v(o,"DIV",{class:!0});var c=b(e);l=v(c,"DIV",{class:!0});var u=b(l);O(t.$$.fragment,u),u.forEach(d),r=T(c),i=v(c,"P",{class:!0,"data-svelte-h":!0}),ve(i)!=="svelte-8g485"&&(i.textContent=s),c.forEach(d),this.h()},h(){f(l,"class","opacity-60 grayscale"),f(i,"class","text-lg"),f(e,"class","flex flex-col items-center gap-4")},m(o,c){P(o,e,c),p(e,l),H(t,l,null),p(e,r),p(e,i),a=!0},p:Z,i(o){a||(I(t.$$.fragment,o),a=!0)},o(o){D(t.$$.fragment,o),a=!1},d(o){o&&d(e),q(t)}}}class Ur extends ee{constructor(e){super(),te(this,e,null,qr,x,{})}}function jr(n){let e,l,t,r;return t=new Br({props:{size:"m"}}),{c(){e=_("div"),l=_("div"),z(t.$$.fragment),this.h()},l(i){e=v(i,"DIV",{class:!0});var s=b(e);l=v(s,"DIV",{class:!0});var a=b(l);O(t.$$.fragment,a),a.forEach(d),s.forEach(d),this.h()},h(){f(l,"class","opacity-60 grayscale"),f(e,"class","flex flex-col items-center")},m(i,s){P(i,e,s),p(e,l),H(t,l,null),r=!0},p:Z,i(i){r||(I(t.$$.fragment,i),r=!0)},o(i){D(t.$$.fragment,i),r=!1},d(i){i&&d(e),q(t)}}}class Gr extends ee{constructor(e){super(),te(this,e,null,jr,x,{})}}function kn(n,e,l){const t=n.slice();return t[2]=e[l],t}function $n(n){let e,l,t,r=n[2].value+"",i,s,a,o=n[2].type+"",c,u;return{c(){e=_("div"),l=_("div"),t=_("p"),i=G(r),s=N(),a=_("p"),c=G(o),u=N(),this.h()},l(h){e=v(h,"DIV",{id:!0});var m=b(e);l=v(m,"DIV",{class:!0});var w=b(l);t=v(w,"P",{class:!0});var C=b(t);i=J(C,r),C.forEach(d),s=T(w),a=v(w,"P",{});var g=b(a);c=J(g,o),g.forEach(d),w.forEach(d),u=T(m),m.forEach(d),this.h()},h(){f(t,"class","font-bold"),f(l,"class","flex flex-col"),f(e,"id","phone")},m(h,m){P(h,e,m),p(e,l),p(l,t),p(t,i),p(l,s),p(l,a),p(a,c),p(e,u)},p(h,m){m&1&&r!==(r=h[2].value+"")&&X(i,r),m&1&&o!==(o=h[2].type+"")&&X(c,o)},d(h){h&&d(e)}}}function Jr(n){var xt;let e,l,t,r,i=n[0].name.split(" ").reduce(Cn,"")+"",s,a,o,c,u=n[0].name+"",h,m,w,C=n[0].gender+"",g,y,k,V,S=n[1].contactInformation.personalInformation()+"",L,A,M,Q,F,j,R,K='<svg width="24" height="24" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" fill-rule="evenodd" d="M14.95 3.684L8.637 8.912a1 1 0 0 1-1.276 0l-6.31-5.228A.999.999 0 0 0 1 4v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4a.999.999 0 0 0-.05-.316M2 2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m-.21 1l5.576 4.603a1 1 0 0 0 1.27.003L14.268 3z"></path></svg>',W,$,E,U=n[0].email+"",Y,se,ie,ce,be='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M6.998 1.998h2.004v2.004H6.998zm4 0h2.004v2.004h-2.004zm4 0h2.004v2.004h-2.004zM9 5v5h2V5h2v5h2V5h2v5h4v10h2v2H1v-2h2V10h4V5zm-4 7v3h1.162L9 15.946l3-1l3 1L17.838 15H19v-3zm14 5h-.838L15 18.054l-3-1l-3 1L5.838 17H5v3h14z"></path></svg>',ye,ge,ke,Te=(((xt=n[0].birthDate)==null?void 0:xt.toDateString())??"-")+"",Oe,Xe,Ae,Me=n[1].contactInformation.birthday()+"",B,$t,Ce,He,Qe=n[1].contactInformation.phoneNumbers()+"",ot,Ct,xe,Et,Ke,Le,qe,Xt='<svg width="24" height="24" viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M39.156 50.934c4.078 0 6.774-1.102 9.164-3.774c.188-.187.352-.398.54-.586c1.406-1.57 2.062-3.117 2.062-4.593c0-1.688-.984-3.258-3.07-4.712l-6.82-4.734c-2.11-1.453-4.571-1.617-6.54.328l-1.804 1.805c-.54.539-1.008.563-1.547.234c-1.242-.797-3.797-3.023-5.532-4.757c-1.828-1.805-3.609-3.82-4.523-5.297c-.328-.54-.281-.985.258-1.524l1.781-1.805c1.969-1.968 1.805-4.453.352-6.538l-4.758-6.82c-1.43-2.087-3-3.048-4.688-3.071c-1.476-.024-3.023.656-4.593 2.062c-.211.188-.399.352-.61.516c-2.648 2.39-3.75 5.086-3.75 9.14c0 6.704 4.125 14.86 11.696 22.43c7.523 7.524 15.703 11.696 22.382 11.696m.024-3.61c-5.977.117-13.64-4.476-19.711-10.523c-6.117-6.094-10.922-14.016-10.805-19.992c.047-2.579.938-4.805 2.79-6.399c.14-.14.28-.258.444-.375c.68-.61 1.454-.937 2.11-.937c.703 0 1.312.257 1.758.96l4.547 6.82c.492.727.539 1.548-.188 2.274l-2.062 2.063c-1.641 1.617-1.5 3.586-.328 5.156c1.335 1.805 3.656 4.43 5.437 6.211c1.805 1.805 4.64 4.336 6.445 5.695c1.57 1.172 3.563 1.29 5.18-.328l2.062-2.062c.727-.727 1.524-.68 2.25-.211l6.82 4.547c.704.468.985 1.054.985 1.758c0 .68-.328 1.43-.96 2.132a5.82 5.82 0 0 1-.352.446c-1.617 1.828-3.844 2.718-6.422 2.765"></path></svg>',St,Fe,It,Ee,Ue,et=n[1].contactInformation.addresses()+"",ct,Lt,tt,Vt,Ve,Qt='<div id="email" class="flex flex-row gap-2"><div><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M12 3a7 7 0 0 0-7 7c0 2.862 1.782 5.623 3.738 7.762A26.158 26.158 0 0 0 12 20.758a26.14 26.14 0 0 0 3.262-2.994C17.218 15.623 19 12.863 19 10a7 7 0 0 0-7-7m0 20.214l-.567-.39l-.003-.002l-.006-.005l-.02-.014l-.075-.053a25.34 25.34 0 0 1-1.214-.94a28.157 28.157 0 0 1-2.853-2.698C5.218 16.876 3 13.637 3 10a9 9 0 0 1 18 0c0 3.637-2.218 6.877-4.262 9.112a28.145 28.145 0 0 1-3.796 3.44a16.794 16.794 0 0 1-.345.251l-.021.014l-.006.005l-.002.001zM12 8a2 2 0 1 0 0 4a2 2 0 0 0 0-4m-4 2a4 4 0 1 1 8 0a4 4 0 0 1-8 0"></path></svg></div> <div class="flex flex-col"><p class="font-bold">TODO</p> <p>TODO</p></div></div>',je=he(n[0].phoneNumbers),fe=[];for(let ne=0;ne<je.length;ne+=1)fe[ne]=$n(kn(n,je,ne));return{c(){e=_("div"),l=_("div"),t=_("div"),r=_("span"),s=G(i),a=N(),o=_("div"),c=_("p"),h=G(u),m=N(),w=_("p"),g=G(C),y=N(),k=_("div"),V=_("p"),L=G(S),A=N(),M=_("div"),Q=N(),F=_("div"),j=_("div"),R=_("div"),R.innerHTML=K,W=N(),$=_("div"),E=_("p"),Y=G(U),se=N(),ie=_("div"),ce=_("div"),ce.innerHTML=be,ye=N(),ge=_("div"),ke=_("p"),Oe=G(Te),Xe=N(),Ae=_("p"),B=G(Me),$t=N(),Ce=_("div"),He=_("p"),ot=G(Qe),Ct=N(),xe=_("div"),Et=N(),Ke=_("div"),Le=_("div"),qe=_("div"),qe.innerHTML=Xt,St=N(),Fe=_("div");for(let ne=0;ne<fe.length;ne+=1)fe[ne].c();It=N(),Ee=_("div"),Ue=_("p"),ct=G(et),Lt=N(),tt=_("div"),Vt=N(),Ve=_("div"),Ve.innerHTML=Qt,this.h()},l(ne){e=v(ne,"DIV",{class:!0});var ae=b(e);l=v(ae,"DIV",{class:!0});var we=b(l);t=v(we,"DIV",{class:!0});var me=b(t);r=v(me,"SPAN",{class:!0});var nt=b(r);s=J(nt,i),nt.forEach(d),me.forEach(d),a=T(we),o=v(we,"DIV",{class:!0});var ut=b(o);c=v(ut,"P",{class:!0});var en=b(c);h=J(en,u),en.forEach(d),m=T(ut),w=v(ut,"P",{class:!0});var tn=b(w);g=J(tn,C),tn.forEach(d),ut.forEach(d),we.forEach(d),y=T(ae),k=v(ae,"DIV",{class:!0});var Ge=b(k);V=v(Ge,"P",{class:!0});var nn=b(V);L=J(nn,S),nn.forEach(d),A=T(Ge),M=v(Ge,"DIV",{class:!0}),b(M).forEach(d),Q=T(Ge),F=v(Ge,"DIV",{id:!0,class:!0});var ft=b(F);j=v(ft,"DIV",{id:!0,class:!0});var dt=b(j);R=v(dt,"DIV",{"data-svelte-h":!0}),ve(R)!=="svelte-5sgduc"&&(R.innerHTML=K),W=T(dt),$=v(dt,"DIV",{class:!0});var ln=b($);E=v(ln,"P",{class:!0});var rn=b(E);Y=J(rn,U),rn.forEach(d),ln.forEach(d),dt.forEach(d),se=T(ft),ie=v(ft,"DIV",{id:!0,class:!0});var pt=b(ie);ce=v(pt,"DIV",{"data-svelte-h":!0}),ve(ce)!=="svelte-wngxr8"&&(ce.innerHTML=be),ye=T(pt),ge=v(pt,"DIV",{class:!0});var ht=b(ge);ke=v(ht,"P",{class:!0});var sn=b(ke);Oe=J(sn,Te),sn.forEach(d),Xe=T(ht),Ae=v(ht,"P",{});var an=b(Ae);B=J(an,Me),an.forEach(d),ht.forEach(d),pt.forEach(d),ft.forEach(d),Ge.forEach(d),$t=T(ae),Ce=v(ae,"DIV",{class:!0});var Je=b(Ce);He=v(Je,"P",{class:!0});var on=b(He);ot=J(on,Qe),on.forEach(d),Ct=T(Je),xe=v(Je,"DIV",{class:!0}),b(xe).forEach(d),Et=T(Je),Ke=v(Je,"DIV",{id:!0,class:!0});var cn=b(Ke);Le=v(cn,"DIV",{class:!0});var mt=b(Le);qe=v(mt,"DIV",{"data-svelte-h":!0}),ve(qe)!=="svelte-jvl1rq"&&(qe.innerHTML=Xt),St=T(mt),Fe=v(mt,"DIV",{class:!0});var un=b(Fe);for(let Dt=0;Dt<fe.length;Dt+=1)fe[Dt].l(un);un.forEach(d),mt.forEach(d),cn.forEach(d),Je.forEach(d),It=T(ae),Ee=v(ae,"DIV",{class:!0});var We=b(Ee);Ue=v(We,"P",{class:!0});var fn=b(Ue);ct=J(fn,et),fn.forEach(d),Lt=T(We),tt=v(We,"DIV",{class:!0}),b(tt).forEach(d),Vt=T(We),Ve=v(We,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),ve(Ve)!=="svelte-f1kuvr"&&(Ve.innerHTML=Qt),We.forEach(d),ae.forEach(d),this.h()},h(){f(r,"class","text-2xl"),f(t,"class","avatar h-20 w-20"),f(c,"class","text-2xl font-extrabold"),f(w,"class","text-lg"),f(o,"class","flex flex-col items-center"),f(l,"class","flex flex-col gap-2 items-center"),f(V,"class","text-xl font-bold"),f(M,"class","divider divider-horizontal"),f(E,"class","font-bold"),f($,"class","flex flex-col"),f(j,"id","email"),f(j,"class","flex flex-row gap-2"),f(ke,"class","font-bold"),f(ge,"class","flex flex-col"),f(ie,"id","birthDate"),f(ie,"class","flex flex-row gap-2"),f(F,"id","personal-info"),f(F,"class","grid grid-cols-2 px-5"),f(k,"class","py-10"),f(He,"class","text-xl font-bold"),f(xe,"class","divider divider-horizontal"),f(Fe,"class","flex flex-col gap-3"),f(Le,"class","flex flex-row gap-2"),f(Ke,"id","phone-numbers"),f(Ke,"class","flex flex-col gap-4 px-5"),f(Ce,"class","py-10"),f(Ue,"class","text-xl font-bold"),f(tt,"class","divider divider-horizontal"),f(Ve,"id","addresses"),f(Ve,"class","flex flex-col gap-4 px-5"),f(Ee,"class","py-10"),f(e,"class","pt-5 overflow-auto grow")},m(ne,ae){P(ne,e,ae),p(e,l),p(l,t),p(t,r),p(r,s),p(l,a),p(l,o),p(o,c),p(c,h),p(o,m),p(o,w),p(w,g),p(e,y),p(e,k),p(k,V),p(V,L),p(k,A),p(k,M),p(k,Q),p(k,F),p(F,j),p(j,R),p(j,W),p(j,$),p($,E),p(E,Y),p(F,se),p(F,ie),p(ie,ce),p(ie,ye),p(ie,ge),p(ge,ke),p(ke,Oe),p(ge,Xe),p(ge,Ae),p(Ae,B),p(e,$t),p(e,Ce),p(Ce,He),p(He,ot),p(Ce,Ct),p(Ce,xe),p(Ce,Et),p(Ce,Ke),p(Ke,Le),p(Le,qe),p(Le,St),p(Le,Fe);for(let we=0;we<fe.length;we+=1)fe[we]&&fe[we].m(Fe,null);p(e,It),p(e,Ee),p(Ee,Ue),p(Ue,ct),p(Ee,Lt),p(Ee,tt),p(Ee,Vt),p(Ee,Ve)},p(ne,[ae]){var we;if(ae&1&&i!==(i=ne[0].name.split(" ").reduce(Cn,"")+"")&&X(s,i),ae&1&&u!==(u=ne[0].name+"")&&X(h,u),ae&1&&C!==(C=ne[0].gender+"")&&X(g,C),ae&2&&S!==(S=ne[1].contactInformation.personalInformation()+"")&&X(L,S),ae&1&&U!==(U=ne[0].email+"")&&X(Y,U),ae&1&&Te!==(Te=(((we=ne[0].birthDate)==null?void 0:we.toDateString())??"-")+"")&&X(Oe,Te),ae&2&&Me!==(Me=ne[1].contactInformation.birthday()+"")&&X(B,Me),ae&2&&Qe!==(Qe=ne[1].contactInformation.phoneNumbers()+"")&&X(ot,Qe),ae&1){je=he(ne[0].phoneNumbers);let me;for(me=0;me<je.length;me+=1){const nt=kn(ne,je,me);fe[me]?fe[me].p(nt,ae):(fe[me]=$n(nt),fe[me].c(),fe[me].m(Fe,null))}for(;me<fe.length;me+=1)fe[me].d(1);fe.length=je.length}ae&2&&et!==(et=ne[1].contactInformation.addresses()+"")&&X(ct,et)},i:Z,o:Z,d(ne){ne&&d(e),Ne(fe,ne)}}}const Cn=(n,e)=>`${n}${e.charAt(0)}`;function Wr(n,e,l){let t;_e(n,Se,i=>l(1,t=i));let{contact:r}=e;return n.$$set=i=>{"contact"in i&&l(0,r=i.contact)},[r,t]}class Yr extends ee{constructor(e){super(),te(this,e,Wr,Jr,x,{contact:0})}}function Zr(n){let e,l,t,r='<svg width="24" height="24" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M8.195 0c4.527 0 8.196 3.62 8.196 8.084a7.989 7.989 0 0 1-1.977 5.267l5.388 5.473a.686.686 0 0 1-.015.98a.71.71 0 0 1-.993-.014l-5.383-5.47a8.23 8.23 0 0 1-5.216 1.849C3.67 16.169 0 12.549 0 8.084C0 3.62 3.67 0 8.195 0m0 1.386c-3.75 0-6.79 2.999-6.79 6.698c0 3.7 3.04 6.699 6.79 6.699s6.791-3 6.791-6.699c0-3.7-3.04-6.698-6.79-6.698"></path></svg>',i,s,a,o,c;return{c(){e=_("div"),l=_("div"),t=_("div"),t.innerHTML=r,i=N(),s=_("input"),this.h()},l(u){e=v(u,"DIV",{class:!0});var h=b(e);l=v(h,"DIV",{class:!0});var m=b(l);t=v(m,"DIV",{class:!0,"data-svelte-h":!0}),ve(t)!=="svelte-1acvcya"&&(t.innerHTML=r),i=T(m),s=v(m,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),m.forEach(d),h.forEach(d),this.h()},h(){f(t,"class","grid place-items-center h-full w-12 ml-2 text-white"),f(s,"class","peer h-full w-full outline-none text-sm text-white pr-2 bg-gray-800"),f(s,"type","text"),f(s,"id","contacts-search-bar"),f(s,"placeholder",a=n[2].searchBarPlaceholder()),s.disabled=n[1],f(l,"class","relative flex items-center w-full h-12 rounded-3xl focus-within:shadow-lg overflow-hidden bg-gray-800"),f(e,"class","max-w-md")},m(u,h){P(u,e,h),p(e,l),p(l,t),p(l,i),p(l,s),Ye(s,n[0]),o||(c=oe(s,"input",n[3]),o=!0)},p(u,[h]){h&4&&a!==(a=u[2].searchBarPlaceholder())&&f(s,"placeholder",a),h&2&&(s.disabled=u[1]),h&1&&s.value!==u[0]&&Ye(s,u[0])},i:Z,o:Z,d(u){u&&d(e),o=!1,c()}}}function Xr(n,e,l){let t;_e(n,Se,a=>l(2,t=a));let{value:r}=e,{disabled:i=!1}=e;function s(){r=this.value,l(0,r)}return n.$$set=a=>{"value"in a&&l(0,r=a.value),"disabled"in a&&l(1,i=a.disabled)},[r,i,t,s]}class Qr extends ee{constructor(e){super(),te(this,e,Xr,Zr,x,{value:0,disabled:1})}}function xr(n){let e,l,t,r,i=n[0].name.split(" ").reduce(En,"")+"",s,a,o,c,u,h=n[0].name+"",m,w,C,g=n[0].gender+"",y,k,V;return{c(){e=_("a"),l=_("div"),t=_("div"),r=_("span"),s=G(i),a=N(),o=_("div"),c=_("p"),u=_("b"),m=G(h),w=N(),C=_("p"),y=G(g),this.h()},l(S){e=v(S,"A",{href:!0});var L=b(e);l=v(L,"DIV",{class:!0});var A=b(l);t=v(A,"DIV",{class:!0});var M=b(t);r=v(M,"SPAN",{class:!0});var Q=b(r);s=J(Q,i),Q.forEach(d),M.forEach(d),a=T(A),o=v(A,"DIV",{class:!0});var F=b(o);c=v(F,"P",{});var j=b(c);u=v(j,"B",{});var R=b(u);m=J(R,h),R.forEach(d),j.forEach(d),w=T(F),C=v(F,"P",{});var K=b(C);y=J(K,g),K.forEach(d),F.forEach(d),A.forEach(d),L.forEach(d),this.h()},h(){f(r,"class","text-lg"),f(t,"class","avatar ml-1"),f(o,"class","flex flex-col my-1"),f(l,"class","flex flex-row gap-4 items-center hover:rounded-xl hover:bg-slate-800 hover:cli"),f(e,"href","#top")},m(S,L){P(S,e,L),p(e,l),p(l,t),p(t,r),p(r,s),p(l,a),p(l,o),p(o,c),p(c,u),p(u,m),p(o,w),p(o,C),p(C,y),k||(V=oe(e,"click",function(){Ze(n[1])&&n[1].apply(this,arguments)}),k=!0)},p(S,[L]){n=S,L&1&&i!==(i=n[0].name.split(" ").reduce(En,"")+"")&&X(s,i),L&1&&h!==(h=n[0].name+"")&&X(m,h),L&1&&g!==(g=n[0].gender+"")&&X(y,g)},i:Z,o:Z,d(S){S&&d(e),k=!1,V()}}}const En=(n,e)=>`${n}${e.charAt(0)}`;function ei(n,e,l){let{contact:t}=e,{onClick:r}=e;return n.$$set=i=>{"contact"in i&&l(0,t=i.contact),"onClick"in i&&l(1,r=i.onClick)},[t,r]}class ti extends ee{constructor(e){super(),te(this,e,ei,xr,x,{contact:0,onClick:1})}}function Sn(n,e,l){const t=n.slice();return t[3]=e[l],t}function In(n){let e,l,t,r;function i(){return n[2](n[3])}return l=new ti({props:{contact:n[3],onClick:i}}),{c(){e=_("li"),z(l.$$.fragment),t=N(),this.h()},l(s){e=v(s,"LI",{class:!0});var a=b(e);O(l.$$.fragment,a),t=T(a),a.forEach(d),this.h()},h(){f(e,"class","px-4 py-3")},m(s,a){P(s,e,a),H(l,e,null),p(e,t),r=!0},p(s,a){n=s;const o={};a&1&&(o.contact=n[3]),a&3&&(o.onClick=i),l.$set(o)},i(s){r||(I(l.$$.fragment,s),r=!0)},o(s){D(l.$$.fragment,s),r=!1},d(s){s&&d(e),q(l)}}}function ni(n){let e,l,t=he(n[0]),r=[];for(let s=0;s<t.length;s+=1)r[s]=In(Sn(n,t,s));const i=s=>D(r[s],1,1,()=>{r[s]=null});return{c(){e=_("ul");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=v(s,"UL",{class:!0});var a=b(e);for(let o=0;o<r.length;o+=1)r[o].l(a);a.forEach(d),this.h()},h(){f(e,"class","overflow-auto grow")},m(s,a){P(s,e,a);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);l=!0},p(s,[a]){if(a&3){t=he(s[0]);let o;for(o=0;o<t.length;o+=1){const c=Sn(s,t,o);r[o]?(r[o].p(c,a),I(r[o],1)):(r[o]=In(c),r[o].c(),I(r[o],1),r[o].m(e,null))}for(de(),o=t.length;o<r.length;o+=1)i(o);pe()}},i(s){if(!l){for(let a=0;a<t.length;a+=1)I(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)D(r[a]);l=!1},d(s){s&&d(e),Ne(r,s)}}}function li(n,e,l){let{contactsList:t}=e,{onContactSelected:r}=e;const i=s=>r(s);return n.$$set=s=>{"contactsList"in s&&l(0,t=s.contactsList),"onContactSelected"in s&&l(1,r=s.onContactSelected)},[t,r,i]}class ri extends ee{constructor(e){super(),te(this,e,li,ni,x,{contactsList:0,onContactSelected:1})}}function ii(n){let e,l,t;return l=new vl({}),{c(){e=_("div"),z(l.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var i=b(e);O(l.$$.fragment,i),i.forEach(d),this.h()},h(){f(e,"class","flex grow items-center justify-center")},m(r,i){P(r,e,i),H(l,e,null),t=!0},p:Z,i(r){t||(I(l.$$.fragment,r),t=!0)},o(r){D(l.$$.fragment,r),t=!1},d(r){r&&d(e),q(l)}}}function si(n){let e,l;return e=new ri({props:{contactsList:n[5],onContactSelected:n[1]}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,r){const i={};r&32&&(i.contactsList=t[5]),r&2&&(i.onContactSelected=t[1]),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function ai(n){let e,l,t,r,i,s,a,o,c,u,h,m,w;function C(S){n[11](S)}let g={disabled:n[2]};n[3]!==void 0&&(g.value=n[3]),r=new Qr({props:g}),at.push(()=>hl(r,"value",C)),a=new ar({props:{values:n[4].filter(Ln).map(Vn),onClick:n[12]}});const y=[si,ii],k=[];function V(S,L){return S[5].length>0||S[0].length===0?0:1}return c=V(n),u=k[c]=y[c](n),{c(){e=_("div"),l=_("div"),t=_("div"),z(r.$$.fragment),s=N(),z(a.$$.fragment),o=N(),u.c(),h=N(),m=_("div"),this.h()},l(S){e=v(S,"DIV",{class:!0});var L=b(e);l=v(L,"DIV",{class:!0});var A=b(l);t=v(A,"DIV",{class:!0});var M=b(t);O(r.$$.fragment,M),M.forEach(d),s=T(A),O(a.$$.fragment,A),A.forEach(d),o=T(L),u.l(L),L.forEach(d),h=T(S),m=v(S,"DIV",{class:!0}),b(m).forEach(d),this.h()},h(){f(t,"class","flex-grow mx-4"),f(l,"class","flex flex-row justify-between items-center"),f(e,"class","flex flex-col grow gap-4 my-4"),f(m,"class","divider divider-vertical w-min")},m(S,L){P(S,e,L),p(e,l),p(l,t),H(r,t,null),p(l,s),H(a,l,null),p(e,o),k[c].m(e,null),P(S,h,L),P(S,m,L),w=!0},p(S,[L]){const A={};L&4&&(A.disabled=S[2]),!i&&L&8&&(i=!0,A.value=S[3],dl(()=>i=!1)),r.$set(A);const M={};L&16&&(M.values=S[4].filter(Ln).map(Vn)),L&16&&(M.onClick=S[12]),a.$set(M);let Q=c;c=V(S),c===Q?k[c].p(S,L):(de(),D(k[Q],1,1,()=>{k[Q]=null}),pe(),u=k[c],u?u.p(S,L):(u=k[c]=y[c](S),u.c()),I(u,1),u.m(e,null))},i(S){w||(I(r.$$.fragment,S),I(a.$$.fragment,S),I(u),w=!0)},o(S){D(r.$$.fragment,S),D(a.$$.fragment,S),D(u),w=!1},d(S){S&&(d(e),d(h),d(m)),q(r),q(a),k[c].d()}}}const Ln=n=>!n.disabled,Vn=n=>n.option;function oi(n,e,l){let t,r,i,s,a,o;_e(n,Se,y=>l(10,o=y));let{contactsList:c}=e,{readonly:u}=e,{onContactSelected:h}=e,{onShareSelected:m}=e,{onGenerateKeyPairSelected:w}=e;function C(y){t=y,l(3,t)}const g=y=>{var k;return(k=a.find(V=>V.option===y))==null?void 0:k.callback()};return n.$$set=y=>{"contactsList"in y&&l(0,c=y.contactsList),"readonly"in y&&l(6,u=y.readonly),"onContactSelected"in y&&l(1,h=y.onContactSelected),"onShareSelected"in y&&l(7,m=y.onShareSelected),"onGenerateKeyPairSelected"in y&&l(8,w=y.onGenerateKeyPairSelected)},n.$$.update=()=>{n.$$.dirty&8&&l(9,r=new RegExp(t,"i")),n.$$.dirty&513&&l(5,i=c.filter(y=>r.test(y.name))),n.$$.dirty&1&&l(2,s=c.length===0),n.$$.dirty&1476&&l(4,a=[{option:o.share().toString(),callback:m,disabled:s||u},{option:o.generateKeyPair().toString(),callback:w,disabled:!1}])},l(3,t=""),[c,h,s,t,a,i,u,m,w,r,o,C,g]}class ci extends ee{constructor(e){super(),te(this,e,oi,ai,x,{contactsList:0,readonly:6,onContactSelected:1,onShareSelected:7,onGenerateKeyPairSelected:8})}}function Dn(n){let e,l;return e=new tl({props:{value:{title:n[17].title(),subtitle:n[17].subtitle(),action:[n[17].action(),n[25]],error:n[2].error}}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,r){const i={};r[0]&5&&(i.value={title:t[17].title(),subtitle:t[17].subtitle(),action:[t[17].action(),t[25]],error:t[2].error}),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function ui(n){let e,l,t;return l=new Hr({}),{c(){e=_("div"),z(l.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var i=b(e);O(l.$$.fragment,i),i.forEach(d),this.h()},h(){f(e,"class","flex grow items-center justify-center")},m(r,i){P(r,e,i),H(l,e,null),t=!0},p:Z,i(r){t||(I(l.$$.fragment,r),t=!0)},o(r){D(l.$$.fragment,r),t=!1},d(r){r&&d(e),q(l)}}}function fi(n){let e,l;return e=new Yr({props:{contact:n[4]}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,r){const i={};r[0]&16&&(i.contact=t[4]),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function di(n){let e,l;return e=new wr({props:{value:{title:n[16].title(),subtitle:n[16].subtitle(),message:n[2].url.toString(),action:[n[16].action(),n[27]]}}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,r){const i={};r[0]&4&&(i.value={title:t[16].title(),subtitle:t[16].subtitle(),message:t[2].url.toString(),action:[t[16].action(),t[27]]}),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function pi(n){let e,l;return e=new Yt({props:{form:n[5].value,onSubmit:n[26]}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,r){const i={};r[0]&32&&(i.form=t[5].value),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function hi(n){let e,l,t,r,i,s;const a=[pi,di],o=[];function c(u,h){return h[0]&32&&(e=null),h[0]&36&&(l=null),e==null&&(e=!!st(u[5])),e?0:(l==null&&(l=!!(vt(u[5])&&rl(u[2]))),l?1:-1)}return~(t=c(n,[-1,-1]))&&(r=o[t]=a[t](n)),{c(){r&&r.c(),i=le()},l(u){r&&r.l(u),i=le()},m(u,h){~t&&o[t].m(u,h),P(u,i,h),s=!0},p(u,h){let m=t;t=c(u,h),t===m?~t&&o[t].p(u,h):(r&&(de(),D(o[m],1,1,()=>{o[m]=null}),pe()),~t?(r=o[t],r?r.p(u,h):(r=o[t]=a[t](u),r.c()),I(r,1),r.m(i.parentNode,i)):r=null)},i(u){s||(I(r),s=!0)},o(u){D(r),s=!1},d(u){u&&d(i),~t&&o[t].d(u)}}}function Pn(n){let e,l;return e=new Yt({props:{form:n[6].value,onSubmit:n[29]}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,r){const i={};r[0]&64&&(i.form=t[6].value),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function mi(n){let e=st(n[6]),l,t,r=e&&Pn(n);return{c(){r&&r.c(),l=le()},l(i){r&&r.l(i),l=le()},m(i,s){r&&r.m(i,s),P(i,l,s),t=!0},p(i,s){s[0]&64&&(e=st(i[6])),e?r?(r.p(i,s),s[0]&64&&I(r,1)):(r=Pn(i),r.c(),I(r,1),r.m(l.parentNode,l)):r&&(de(),D(r,1,1,()=>{r=null}),pe())},i(i){t||(I(r),t=!0)},o(i){D(r),t=!1},d(i){i&&d(l),r&&r.d(i)}}}function _i(n){let e,l;return e=new tl({props:{value:{title:n[15].title(),subtitle:n[15].subtitle(),action:[n[15].action(),n[32]],error:n[7].value},$$slots:{default:[bi]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,r){const i={};r[0]&128&&(i.value={title:t[15].title(),subtitle:t[15].subtitle(),action:[t[15].action(),t[32]],error:t[7].value}),r[1]&512&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function vi(n){let e,l;return e=new Dr({props:{value:{title:n[14].title(),subtitle:n[14].subtitle(),tabs:[{tab:n[14].tabs.public(),value:n[7].value.public.toString()},{tab:n[14].tabs.private(),value:n[7].value.private.toString()}],action:[n[14].action(),n[31]]}}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,r){const i={};r[0]&128&&(i.value={title:t[14].title(),subtitle:t[14].subtitle(),tabs:[{tab:t[14].tabs.public(),value:t[7].value.public.toString()},{tab:t[14].tabs.private(),value:t[7].value.private.toString()}],action:[t[14].action(),t[31]]}),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function bi(n){let e,l;return e=new Gr({}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function gi(n){let e,l,t,r,i,s;const a=[vi,_i],o=[];function c(u,h){return h[0]&128&&(e=null),h[0]&128&&(l=null),e==null&&(e=!!ms(u[7])),e?0:(l==null&&(l=!!_s(u[7])),l?1:-1)}return~(t=c(n,[-1,-1]))&&(r=o[t]=a[t](n)),{c(){r&&r.c(),i=le()},l(u){r&&r.l(u),i=le()},m(u,h){~t&&o[t].m(u,h),P(u,i,h),s=!0},p(u,h){let m=t;t=c(u,h),t===m?~t&&o[t].p(u,h):(r&&(de(),D(o[m],1,1,()=>{o[m]=null}),pe()),~t?(r=o[t],r?r.p(u,h):(r=o[t]=a[t](u),r.c()),I(r,1),r.m(i.parentNode,i)):r=null)},i(u){s||(I(r),s=!0)},o(u){D(r),s=!1},d(u){u&&d(i),~t&&o[t].d(u)}}}function Nn(n){let e,l;return e=new Yt({props:{form:n[8].value,onSubmit:n[33]}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,r){const i={};r[0]&256&&(i.form=t[8].value),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function yi(n){let e=st(n[8]),l,t,r=e&&Nn(n);return{c(){r&&r.c(),l=le()},l(i){r&&r.l(i),l=le()},m(i,s){r&&r.m(i,s),P(i,l,s),t=!0},p(i,s){s[0]&256&&(e=st(i[8])),e?r?(r.p(i,s),s[0]&256&&I(r,1)):(r=Nn(i),r.c(),I(r,1),r.m(l.parentNode,l)):r&&(de(),D(r,1,1,()=>{r=null}),pe())},i(i){t||(I(r),t=!0)},o(i){D(r),t=!1},d(i){i&&d(l),r&&r.d(i)}}}function wi(n){let e,l;return e=new mr({props:{onClick:n[37]}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p:Z,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function ki(n){let e,l,t,r;e=new Yl({props:{onClick:n[35]}});let i=n[3]&&Tn(n);return{c(){z(e.$$.fragment),l=N(),i&&i.c(),t=le()},l(s){O(e.$$.fragment,s),l=T(s),i&&i.l(s),t=le()},m(s,a){H(e,s,a),P(s,l,a),i&&i.m(s,a),P(s,t,a),r=!0},p(s,a){s[3]?i?(i.p(s,a),a[0]&8&&I(i,1)):(i=Tn(s),i.c(),I(i,1),i.m(t.parentNode,t)):i&&(de(),D(i,1,1,()=>{i=null}),pe())},i(s){r||(I(e.$$.fragment,s),I(i),r=!0)},o(s){D(e.$$.fragment,s),D(i),r=!1},d(s){s&&(d(l),d(t)),q(e,s),i&&i.d(s)}}}function Tn(n){let e,l;return e=new Ql({props:{onClick:n[36]}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,r){const i={};r[0]&1&&(i.onClick=t[36]),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function $i(n){let e,l,t,r,i=Zn(n[2]),s,a,o,c,u,h,m,w,C,g,y,k,V,S,L,A;t=new ci({props:{contactsList:n[1],readonly:n[2].readonly,onContactSelected:n[22],onShareSelected:n[23],onGenerateKeyPairSelected:n[24]}});let M=i&&Dn(n);const Q=[fi,ui],F=[];function j($,E){return $[4]?0:1}a=j(n),o=F[a]=Q[a](n),u=new rt({props:{reactor:n[9],listener:n[28],$$slots:{default:[hi]},$$scope:{ctx:n}}}),m=new rt({props:{reactor:n[11],listener:n[30],$$slots:{default:[mi]},$$scope:{ctx:n}}}),C=new rt({props:{reactor:n[12],$$slots:{default:[gi]},$$scope:{ctx:n}}}),y=new rt({props:{reactor:n[10],listener:n[34],$$slots:{default:[yi]},$$scope:{ctx:n}}});const R=[ki,wi],K=[];function W($,E){return $[2].readonly?1:0}return S=W(n),L=K[S]=R[S](n),{c(){e=_("div"),l=_("div"),z(t.$$.fragment),r=N(),M&&M.c(),s=N(),o.c(),c=N(),z(u.$$.fragment),h=N(),z(m.$$.fragment),w=N(),z(C.$$.fragment),g=N(),z(y.$$.fragment),k=N(),V=_("div"),L.c(),this.h()},l($){e=v($,"DIV",{class:!0});var E=b(e);l=v(E,"DIV",{class:!0});var U=b(l);O(t.$$.fragment,U),U.forEach(d),r=T(E),M&&M.l(E),s=T(E),o.l(E),c=T(E),O(u.$$.fragment,E),h=T(E),O(m.$$.fragment,E),w=T(E),O(C.$$.fragment,E),g=T(E),O(y.$$.fragment,E),k=T(E),V=v(E,"DIV",{class:!0});var Y=b(V);L.l(Y),Y.forEach(d),E.forEach(d),this.h()},h(){f(l,"class","flex w-1/4"),f(V,"class","flex flex-col fixed bottom-10 right-8 gap-3"),f(e,"class","flex flex-row h-screen")},m($,E){P($,e,E),p(e,l),H(t,l,null),p(e,r),M&&M.m(e,null),p(e,s),F[a].m(e,null),p(e,c),H(u,e,null),p(e,h),H(m,e,null),p(e,w),H(C,e,null),p(e,g),H(y,e,null),p(e,k),p(e,V),K[S].m(V,null),A=!0},p($,E){const U={};E[0]&2&&(U.contactsList=$[1]),E[0]&4&&(U.readonly=$[2].readonly),E[0]&16&&(U.onContactSelected=$[22]),t.$set(U),E[0]&4&&(i=Zn($[2])),i?M?(M.p($,E),E[0]&4&&I(M,1)):(M=Dn($),M.c(),I(M,1),M.m(e,s)):M&&(de(),D(M,1,1,()=>{M=null}),pe());let Y=a;a=j($),a===Y?F[a].p($,E):(de(),D(F[Y],1,1,()=>{F[Y]=null}),pe(),o=F[a],o?o.p($,E):(o=F[a]=Q[a]($),o.c()),I(o,1),o.m(e,c));const se={};E[0]&1&&(se.listener=$[28]),E[0]&36|E[1]&512&&(se.$$scope={dirty:E,ctx:$}),u.$set(se);const ie={};E[0]&1&&(ie.listener=$[30]),E[0]&64|E[1]&512&&(ie.$$scope={dirty:E,ctx:$}),m.$set(ie);const ce={};E[0]&128|E[1]&512&&(ce.$$scope={dirty:E,ctx:$}),C.$set(ce);const be={};E[0]&1&&(be.listener=$[34]),E[0]&256|E[1]&512&&(be.$$scope={dirty:E,ctx:$}),y.$set(be);let ye=S;S=W($),S===ye?K[S].p($,E):(de(),D(K[ye],1,1,()=>{K[ye]=null}),pe(),L=K[S],L?L.p($,E):(L=K[S]=R[S]($),L.c()),I(L,1),L.m(V,null))},i($){A||(I(t.$$.fragment,$),I(M),I(o),I(u.$$.fragment,$),I(m.$$.fragment,$),I(C.$$.fragment,$),I(y.$$.fragment,$),I(L),A=!0)},o($){D(t.$$.fragment,$),D(M),D(o),D(u.$$.fragment,$),D(m.$$.fragment,$),D(C.$$.fragment,$),D(y.$$.fragment,$),D(L),A=!1},d($){$&&d(e),q(t),M&&M.d(),F[a].d(),q(u),q(m),q(C),q(y),K[S].d()}}}function Ci(n){let e,l;return e=new rt({props:{reactor:n[0],listener:n[38],$$slots:{default:[$i]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,r){H(e,t,r),l=!0},p(t,r){const i={};r[0]&1&&(i.reactor=t[0]),r[0]&511|r[1]&512&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Ei(n,e,l){let t,r,i,s,a=Z,o=()=>(a(),a=pl(C,B=>l(2,s=B)),C),c,u,h,m,w;_e(n,Se,B=>l(39,c=B)),n.$$.on_destroy.push(()=>a());let{contactsReactor:C}=e;o();const g=new Ss(c);_e(n,g,B=>l(5,u=B));const y=new Cs(c);_e(n,y,B=>l(8,w=B));const k=new Ts(c);_e(n,k,B=>l(6,h=B));const V=new vs;_e(n,V,B=>l(7,m=B));const S=Qn(Ps),L=c.alert.generateKeyPair,A=c.alert.generatePublicKeyFailure,M=c.alert.sharedContactsList,Q=c.alert.initializationFailure,F=c.notification.saveFailed,j=c.notification.shareFailed,R=c.notification.missingPublicKey,K=c.notification.importPublicKeyFailed,W=B=>l(4,r=B),$=()=>{g.reset(),_t(()=>g.add(Pt()))},E=()=>{V.reset(),_t(()=>V.add(us()))},U=()=>{C.reset()},Y=B=>{g.add(Nt(B))},se=()=>{g.reset()},ie=B=>{vt(B)&&C.add(Al(B.submission))},ce=B=>{k.add(Nt(B))},be=B=>{vt(B)&&C.add(Ml(B.submission))},ye=()=>{V.reset()},ge=()=>{V.reset()},ke=B=>{y.add(Nt(B))},Te=B=>{vt(B)&&C.add(Tl(B.submission))},Oe=()=>{y.reset(),_t(()=>y.add(Pt()))},Xe=()=>C.add(Kl()),Ae=()=>{k.add(Pt())},Me=B=>{ns(B)?S.add(Tt(F.title(),F.message())):ls(B)?S.add(Tt(j.title(),j.message())):rs(B)?S.add(Tt(K.title(),K.message())):ts(B)&&B.isMissingPublicKey&&S.add(Ls(R.title(),R.message()))};return n.$$set=B=>{"contactsReactor"in B&&o(l(0,C=B.contactsReactor))},n.$$.update=()=>{n.$$.dirty[0]&4&&l(1,t=s.value),n.$$.dirty[0]&2&&l(4,r=t.at(-1)),n.$$.dirty[0]&4&&l(3,i=!es(s)&&!rl(s)&&!xi(s)&&s.value.length>0)},[C,t,s,i,r,u,h,m,w,g,y,k,V,S,L,A,M,Q,F,j,R,K,W,$,E,U,Y,se,ie,ce,be,ye,ge,ke,Te,Oe,Xe,Ae,Me]}class Ws extends ee{constructor(e){super(),te(this,e,Ei,Ci,x,{contactsReactor:0},null,[-1,-1])}}function Si(n){return!Wt(n)&&n.type==="list"}function Wt(n){return"types"in n}function Ft(n){return typeof n!="string"}function nl(n){return n==="area"}function An(n){return n.type==="button"}function Mn(){return""}function Rt(n){return{id:`${new Date().getMilliseconds()}`,input:"",type:n.types.values[0]}}function Ii(n){const e=n.additional,l=n.required;return{additional:new Map(e.map(t=>[t,"count"in t?Array(t.count).fill(Rt(t)):Mn()])),required:new Map(l.map(t=>[t,"count"in t?Array(t.count).fill(Rt(t)):Mn()]))}}function wt(n){switch(n){case"email":return"email";case"number":return"number";case"phone-number":return"tel";case"secret":return"password";case"date":return"date";case"raw":default:return"text"}}function Kn(n,e,l){const t=n.slice();t[12]=e[l];const r=t[1].get(t[12])??[];return t[13]=r,t}function Fn(n,e,l){const t=n.slice();return t[16]=e[l],t[19]=e,t[20]=l,t}function Rn(n,e,l){const t=n.slice();return t[16]=e[l],t}function Bn(n,e,l){const t=n.slice();return t[16]=e[l],t}function Li(n){let e,l,t;function r(o,c){return c&1&&(e=null),e==null&&(e=!!nl(o[12].type)),e?Ni:Pi}let i=r(n,-1),s=i(n),a=n[12].description&&zn(n);return{c(){s.c(),l=N(),a&&a.c(),t=le()},l(o){s.l(o),l=T(o),a&&a.l(o),t=le()},m(o,c){s.m(o,c),P(o,l,c),a&&a.m(o,c),P(o,t,c)},p(o,c){i===(i=r(o,c))&&s?s.p(o,c):(s.d(1),s=i(o),s&&(s.c(),s.m(l.parentNode,l))),o[12].description?a?a.p(o,c):(a=zn(o),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i:Z,o:Z,d(o){o&&(d(l),d(t)),s.d(o),a&&a.d(o)}}}function Vi(n){let e=Ft(n[13]),l,t,r,i=e&&On(n),s=n[12].input.description&&Un(n);return{c(){i&&i.c(),l=N(),s&&s.c(),t=le()},l(a){i&&i.l(a),l=T(a),s&&s.l(a),t=le()},m(a,o){i&&i.m(a,o),P(a,l,o),s&&s.m(a,o),P(a,t,o),r=!0},p(a,o){o&3&&(e=Ft(a[13])),e?i?(i.p(a,o),o&3&&I(i,1)):(i=On(a),i.c(),I(i,1),i.m(l.parentNode,l)):i&&(de(),D(i,1,1,()=>{i=null}),pe()),a[12].input.description?s?s.p(a,o):(s=Un(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i(a){r||(I(i),r=!0)},o(a){D(i),r=!1},d(a){a&&(d(l),d(t)),i&&i.d(a),s&&s.d(a)}}}function Di(n){let e,l,t,r,i,s,a,o,c=he(n[12].values),u=[];for(let w=0;w<c.length;w+=1)u[w]=jn(Bn(n,c,w));function h(...w){return n[4](n[12],...w)}let m=n[12].description&&Gn(n);return{c(){e=_("select");for(let w=0;w<u.length;w+=1)u[w].c();i=N(),m&&m.c(),s=le(),this.h()},l(w){e=v(w,"SELECT",{id:!0,placeholder:!0,class:!0});var C=b(e);for(let g=0;g<u.length;g+=1)u[g].l(C);C.forEach(d),i=T(w),m&&m.l(w),s=le(),this.h()},h(){f(e,"id",l="input-"+n[12].id),f(e,"placeholder",t=n[12].placeholder),f(e,"class","select max-w-full"),e.required=n[3]},m(w,C){P(w,e,C);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(e,null);bt(e,n[12].placeholder),P(w,i,C),m&&m.m(w,C),P(w,s,C),a||(o=oe(e,"input",h),a=!0)},p(w,C){if(n=w,C&1){c=he(n[12].values);let g;for(g=0;g<c.length;g+=1){const y=Bn(n,c,g);u[g]?u[g].p(y,C):(u[g]=jn(y),u[g].c(),u[g].m(e,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=c.length}C&1&&l!==(l="input-"+n[12].id)&&f(e,"id",l),C&1&&t!==(t=n[12].placeholder)&&f(e,"placeholder",t),C&1&&r!==(r=n[12].placeholder)&&bt(e,n[12].placeholder),C&8&&(e.required=n[3]),n[12].description?m?m.p(n,C):(m=Gn(n),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i:Z,o:Z,d(w){w&&(d(e),d(i),d(s)),Ne(u,w),m&&m.d(w),a=!1,o()}}}function Pi(n){let e,l,t,r,i,s;function a(...o){return n[11](n[12],...o)}return{c(){e=_("input"),this.h()},l(o){e=v(o,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),this.h()},h(){f(e,"id",l="input-"+n[12].id),f(e,"placeholder",t=n[12].placeholder),f(e,"type",r=wt(n[12].type)),f(e,"class","input max-w-full"),e.required=n[3]},m(o,c){P(o,e,c),i||(s=oe(e,"input",a),i=!0)},p(o,c){n=o,c&1&&l!==(l="input-"+n[12].id)&&f(e,"id",l),c&1&&t!==(t=n[12].placeholder)&&f(e,"placeholder",t),c&1&&r!==(r=wt(n[12].type))&&f(e,"type",r),c&8&&(e.required=n[3])},d(o){o&&d(e),i=!1,s()}}}function Ni(n){let e,l,t,r,i;function s(...a){return n[10](n[12],...a)}return{c(){e=_("textarea"),this.h()},l(a){e=v(a,"TEXTAREA",{id:!0,placeholder:!0,class:!0,rows:!0}),b(e).forEach(d),this.h()},h(){f(e,"id",l="input-"+n[12].id),f(e,"placeholder",t=n[12].placeholder),f(e,"class","textarea max-w-full"),f(e,"rows","5"),e.required=n[3]},m(a,o){P(a,e,o),r||(i=oe(e,"input",s),r=!0)},p(a,o){n=a,o&1&&l!==(l="input-"+n[12].id)&&f(e,"id",l),o&1&&t!==(t=n[12].placeholder)&&f(e,"placeholder",t),o&8&&(e.required=n[3])},d(a){a&&d(e),r=!1,i()}}}function zn(n){let e,l,t=n[12].description+"",r,i;return{c(){e=_("label"),l=_("span"),r=G(t),this.h()},l(s){e=v(s,"LABEL",{class:!0,for:!0});var a=b(e);l=v(a,"SPAN",{class:!0});var o=b(l);r=J(o,t),o.forEach(d),a.forEach(d),this.h()},h(){f(l,"class","form-label-alt"),f(e,"class","form-label"),f(e,"for",i="input-"+n[12].id)},m(s,a){P(s,e,a),p(e,l),p(l,r)},p(s,a){a&1&&t!==(t=s[12].description+"")&&X(r,t),a&1&&i!==(i="input-"+s[12].id)&&f(e,"for",i)},d(s){s&&d(e)}}}function On(n){let e,l,t=he(n[13]),r=[];for(let s=0;s<t.length;s+=1)r[s]=qn(Fn(n,t,s));const i=s=>D(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=le()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);e=le()},m(s,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(s,a);P(s,e,a),l=!0},p(s,a){if(a&11){t=he(s[13]);let o;for(o=0;o<t.length;o+=1){const c=Fn(s,t,o);r[o]?(r[o].p(c,a),I(r[o],1)):(r[o]=qn(c),r[o].c(),I(r[o],1),r[o].m(e.parentNode,e))}for(de(),o=t.length;o<r.length;o+=1)i(o);pe()}},i(s){if(!l){for(let a=0;a<t.length;a+=1)I(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)D(r[a]);l=!1},d(s){s&&d(e),Ne(r,s)}}}function Hn(n){let e,l=n[16]+"",t,r;return{c(){e=_("option"),t=G(l),this.h()},l(i){e=v(i,"OPTION",{});var s=b(e);t=J(s,l),s.forEach(d),this.h()},h(){e.__value=r=n[16],Ye(e,e.__value)},m(i,s){P(i,e,s),p(e,t)},p(i,s){s&1&&l!==(l=i[16]+"")&&X(t,l),s&1&&r!==(r=i[16])&&(e.__value=r,Ye(e,e.__value))},d(i){i&&d(e)}}}function Ti(n){let e,l,t,r,i,s;function a(...o){return n[7](n[16],n[19],n[20],...o)}return{c(){e=_("input"),this.h()},l(o){e=v(o,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),this.h()},h(){f(e,"id",l="input-"+n[12].input.id+"-$"+n[16].id),f(e,"placeholder",t=n[12].input.placeholder),f(e,"type",r=wt(n[12].input.type)),f(e,"class","input"),e.required=n[3]},m(o,c){P(o,e,c),i||(s=oe(e,"input",a),i=!0)},p(o,c){n=o,c&3&&l!==(l="input-"+n[12].input.id+"-$"+n[16].id)&&f(e,"id",l),c&1&&t!==(t=n[12].input.placeholder)&&f(e,"placeholder",t),c&1&&r!==(r=wt(n[12].input.type))&&f(e,"type",r),c&8&&(e.required=n[3])},d(o){o&&d(e),i=!1,s()}}}function Ai(n){let e,l,t,r,i;function s(...a){return n[6](n[16],n[19],n[20],...a)}return{c(){e=_("textarea"),this.h()},l(a){e=v(a,"TEXTAREA",{id:!0,placeholder:!0,class:!0,rows:!0}),b(e).forEach(d),this.h()},h(){f(e,"id",l="input-"+n[12].input.id+"-$"+n[16].id),f(e,"placeholder",t=n[12].input.placeholder),f(e,"class","textarea"),f(e,"rows","5"),e.required=n[3]},m(a,o){P(a,e,o),r||(i=oe(e,"input",s),r=!0)},p(a,o){n=a,o&3&&l!==(l="input-"+n[12].input.id+"-$"+n[16].id)&&f(e,"id",l),o&1&&t!==(t=n[12].input.placeholder)&&f(e,"placeholder",t),o&8&&(e.required=n[3])},d(a){a&&d(e),r=!1,i()}}}function Mi(n){let e,l;function t(){return n[9](n[12],n[13])}return e=new tr({props:{onClick:t}}),{c(){z(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,i){H(e,r,i),l=!0},p(r,i){n=r;const s={};i&3&&(s.onClick=t),e.$set(s)},i(r){l||(I(e.$$.fragment,r),l=!0)},o(r){D(e.$$.fragment,r),l=!1},d(r){q(e,r)}}}function Ki(n){let e,l;function t(){return n[8](n[12],n[13],n[16])}return e=new rr({props:{onClick:t}}),{c(){z(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,i){H(e,r,i),l=!0},p(r,i){n=r;const s={};i&3&&(s.onClick=t),e.$set(s)},i(r){l||(I(e.$$.fragment,r),l=!0)},o(r){D(e.$$.fragment,r),l=!1},d(r){q(e,r)}}}function qn(n){let e,l,t,r,i,s,a,o,c,u,h,m,w,C,g,y,k,V,S,L=he(n[12].types.values),A=[];for(let $=0;$<L.length;$+=1)A[$]=Hn(Rn(n,L,$));function M(...$){return n[5](n[16],n[19],n[20],...$)}function Q($,E){return E&1&&(u=null),u==null&&(u=!!nl($[12].input.type)),u?Ai:Ti}let F=Q(n,-1),j=F(n);const R=[Ki,Mi],K=[];function W($,E){return $[13].length>1&&$[20]+1!=$[13].length?0:1}return w=W(n),C=K[w]=R[w](n),{c(){e=_("div"),l=_("div"),t=_("div"),r=_("select");for(let $=0;$<A.length;$+=1)A[$].c();o=N(),c=_("div"),j.c(),m=N(),C.c(),g=N(),this.h()},l($){e=v($,"DIV",{class:!0,id:!0});var E=b(e);l=v(E,"DIV",{class:!0,id:!0});var U=b(l);t=v(U,"DIV",{});var Y=b(t);r=v(Y,"SELECT",{id:!0,placeholder:!0,class:!0});var se=b(r);for(let ce=0;ce<A.length;ce+=1)A[ce].l(se);se.forEach(d),Y.forEach(d),o=T(U),c=v(U,"DIV",{});var ie=b(c);j.l(ie),ie.forEach(d),U.forEach(d),m=T(E),C.l(E),g=T(E),E.forEach(d),this.h()},h(){f(r,"id",i="input-"+n[12].types.id+"-$"+n[16].id),f(r,"placeholder",s=n[12].types.placeholder),f(r,"class","select"),r.required=n[3],f(l,"class","grid grid-cols-1 gap-4 sm:grid-cols-2"),f(l,"id",h="grid-"+n[12].id),f(e,"class","flex flex-row gap-2"),f(e,"id",y="grid-"+n[12].id)},m($,E){P($,e,E),p(e,l),p(l,t),p(t,r);for(let U=0;U<A.length;U+=1)A[U]&&A[U].m(r,null);bt(r,n[16].type),p(l,o),p(l,c),j.m(c,null),p(e,m),K[w].m(e,null),p(e,g),k=!0,V||(S=oe(r,"input",M),V=!0)},p($,E){if(n=$,E&1){L=he(n[12].types.values);let Y;for(Y=0;Y<L.length;Y+=1){const se=Rn(n,L,Y);A[Y]?A[Y].p(se,E):(A[Y]=Hn(se),A[Y].c(),A[Y].m(r,null))}for(;Y<A.length;Y+=1)A[Y].d(1);A.length=L.length}(!k||E&3&&i!==(i="input-"+n[12].types.id+"-$"+n[16].id))&&f(r,"id",i),(!k||E&1&&s!==(s=n[12].types.placeholder))&&f(r,"placeholder",s),(!k||E&3&&a!==(a=n[16].type))&&bt(r,n[16].type),(!k||E&8)&&(r.required=n[3]),F===(F=Q(n,E))&&j?j.p(n,E):(j.d(1),j=F(n),j&&(j.c(),j.m(c,null))),(!k||E&1&&h!==(h="grid-"+n[12].id))&&f(l,"id",h);let U=w;w=W(n),w===U?K[w].p(n,E):(de(),D(K[U],1,1,()=>{K[U]=null}),pe(),C=K[w],C?C.p(n,E):(C=K[w]=R[w](n),C.c()),I(C,1),C.m(e,g)),(!k||E&1&&y!==(y="grid-"+n[12].id))&&f(e,"id",y)},i($){k||(I(C),k=!0)},o($){D(C),k=!1},d($){$&&d(e),Ne(A,$),j.d(),K[w].d(),V=!1,S()}}}function Un(n){let e,l,t=n[12].input.description+"",r,i;return{c(){e=_("label"),l=_("span"),r=G(t),this.h()},l(s){e=v(s,"LABEL",{class:!0,for:!0});var a=b(e);l=v(a,"SPAN",{class:!0});var o=b(l);r=J(o,t),o.forEach(d),a.forEach(d),this.h()},h(){f(l,"class","form-label-alt"),f(e,"class","form-label"),f(e,"for",i="input-"+n[12].input.id)},m(s,a){P(s,e,a),p(e,l),p(l,r)},p(s,a){a&1&&t!==(t=s[12].input.description+"")&&X(r,t),a&1&&i!==(i="input-"+s[12].input.id)&&f(e,"for",i)},d(s){s&&d(e)}}}function jn(n){let e,l=n[16]+"",t,r;return{c(){e=_("option"),t=G(l),this.h()},l(i){e=v(i,"OPTION",{});var s=b(e);t=J(s,l),s.forEach(d),this.h()},h(){e.__value=r=n[16],Ye(e,e.__value)},m(i,s){P(i,e,s),p(e,t)},p(i,s){s&1&&l!==(l=i[16]+"")&&X(t,l),s&1&&r!==(r=i[16])&&(e.__value=r,Ye(e,e.__value))},d(i){i&&d(e)}}}function Gn(n){let e,l,t=n[12].description+"",r,i;return{c(){e=_("label"),l=_("span"),r=G(t),this.h()},l(s){e=v(s,"LABEL",{class:!0,for:!0});var a=b(e);l=v(a,"SPAN",{class:!0});var o=b(l);r=J(o,t),o.forEach(d),a.forEach(d),this.h()},h(){f(l,"class","form-label-alt"),f(e,"class","form-label"),f(e,"for",i="input-"+n[12].id)},m(s,a){P(s,e,a),p(e,l),p(l,r)},p(s,a){a&1&&t!==(t=s[12].description+"")&&X(r,t),a&1&&i!==(i="input-"+s[12].id)&&f(e,"for",i)},d(s){s&&d(e)}}}function Jn(n){let e,l,t=n[12].label+"",r,i,s,a,o,c,u,h,m,w;const C=[Di,Vi,Li],g=[];function y(k,V){return V&1&&(a=null),V&1&&(o=null),a==null&&(a=!!Si(k[12])),a?0:(o==null&&(o=!!Wt(k[12])),o?1:2)}return c=y(n,-1),u=g[c]=C[c](n),{c(){e=_("div"),l=_("label"),r=G(t),s=N(),u.c(),h=N(),this.h()},l(k){e=v(k,"DIV",{id:!0,class:!0});var V=b(e);l=v(V,"LABEL",{class:!0,for:!0});var S=b(l);r=J(S,t),S.forEach(d),s=T(V),u.l(V),h=T(V),V.forEach(d),this.h()},h(){f(l,"class","form-label"),f(l,"for",i="input-"+n[12].id),f(e,"id",m=n[2]+"-"+n[12].id),f(e,"class","form-field")},m(k,V){P(k,e,V),p(e,l),p(l,r),p(e,s),g[c].m(e,null),p(e,h),w=!0},p(k,V){(!w||V&1)&&t!==(t=k[12].label+"")&&X(r,t),(!w||V&1&&i!==(i="input-"+k[12].id))&&f(l,"for",i);let S=c;c=y(k,V),c===S?g[c].p(k,V):(de(),D(g[S],1,1,()=>{g[S]=null}),pe(),u=g[c],u?u.p(k,V):(u=g[c]=C[c](k),u.c()),I(u,1),u.m(e,h)),(!w||V&5&&m!==(m=k[2]+"-"+k[12].id))&&f(e,"id",m)},i(k){w||(I(u),w=!0)},o(k){D(u),w=!1},d(k){k&&d(e),g[c].d()}}}function Fi(n){let e,l,t=he(n[0]),r=[];for(let s=0;s<t.length;s+=1)r[s]=Jn(Kn(n,t,s));const i=s=>D(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=le()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);e=le()},m(s,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(s,a);P(s,e,a),l=!0},p(s,[a]){if(a&15){t=he(s[0]);let o;for(o=0;o<t.length;o+=1){const c=Kn(s,t,o);r[o]?(r[o].p(c,a),I(r[o],1)):(r[o]=Jn(c),r[o].c(),I(r[o],1),r[o].m(e.parentNode,e))}for(de(),o=t.length;o<r.length;o+=1)i(o);pe()}},i(s){if(!l){for(let a=0;a<t.length;a+=1)I(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)D(r[a]);l=!1},d(s){s&&d(e),Ne(r,s)}}}function Ri(n,e,l){let{formId:t}=e,{formInputs:r}=e,{isRequired:i}=e,{submissionValues:s}=e;const a=(g,y)=>{s.set(g,y.currentTarget.value)},o=(g,y,k,V)=>{l(1,y[k].type=V.currentTarget.value,s,l(0,r))},c=(g,y,k,V)=>{l(1,y[k].input=V.currentTarget.value,s,l(0,r))},u=(g,y,k,V)=>{l(1,y[k].input=V.currentTarget.value,s,l(0,r))},h=(g,y,k)=>{l(1,s=s.set(g,y.filter(V=>V.id!=k.id)))},m=(g,y)=>{Wt(g)&&l(1,s=s.set(g,y.concat(Rt(g))))},w=(g,y)=>s.set(g,y.currentTarget.value),C=(g,y)=>s.set(g,y.currentTarget.value);return n.$$set=g=>{"formId"in g&&l(2,t=g.formId),"formInputs"in g&&l(0,r=g.formInputs),"isRequired"in g&&l(3,i=g.isRequired),"submissionValues"in g&&l(1,s=g.submissionValues)},[r,s,t,i,a,o,c,u,h,m,w,C]}class ll extends ee{constructor(e){super(),te(this,e,Ri,Fi,x,{formId:2,formInputs:0,isRequired:3,submissionValues:1})}}function Wn(n){let e,l="Optional",t,r,i;return r=new ll({props:{formId:n[0].id,formInputs:n[0].additional,isRequired:!1,submissionValues:n[2].additional}}),{c(){e=_("div"),e.textContent=l,t=N(),z(r.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-53izo"&&(e.textContent=l),t=T(s),O(r.$$.fragment,s),this.h()},h(){f(e,"class","divider divider-horizontal")},m(s,a){P(s,e,a),P(s,t,a),H(r,s,a),i=!0},p(s,a){const o={};a&1&&(o.formId=s[0].id),a&1&&(o.formInputs=s[0].additional),a&4&&(o.submissionValues=s[2].additional),r.$set(o)},i(s){i||(I(r.$$.fragment,s),i=!0)},o(s){D(r.$$.fragment,s),i=!1},d(s){s&&(d(e),d(t)),q(r,s)}}}function Yn(n){let e,l=n[0].control.label+"",t,r,i,s,a;return{c(){e=_("button"),t=G(l),this.h()},l(o){e=v(o,"BUTTON",{id:!0,type:!0,class:!0,form:!0});var c=b(e);t=J(c,l),c.forEach(d),this.h()},h(){f(e,"id",r=n[0].control.id),f(e,"type","submit"),f(e,"class","btn btn-primary w-full"),f(e,"form",i=n[0].id)},m(o,c){P(o,e,c),p(e,t),s||(a=oe(e,"click",n[3]),s=!0)},p(o,c){c&1&&l!==(l=o[0].control.label+"")&&X(t,l),c&1&&r!==(r=o[0].control.id)&&f(e,"id",r),c&1&&i!==(i=o[0].id)&&f(e,"form",i)},d(o){o&&d(e),s=!1,a()}}}function Bi(n){let e,l,t,r,i,s,a=An(n[0].control),o;l=new ll({props:{formId:n[0].id,formInputs:n[0].required,isRequired:!0,submissionValues:n[2].required}});let c=n[0].required.length>0&&n[0].additional.length>0&&Wn(n),u=a&&Yn(n);return{c(){e=_("div"),z(l.$$.fragment),t=N(),c&&c.c(),r=N(),i=_("div"),s=_("div"),u&&u.c(),this.h()},l(h){e=v(h,"DIV",{class:!0});var m=b(e);O(l.$$.fragment,m),t=T(m),c&&c.l(m),r=T(m),i=v(m,"DIV",{class:!0});var w=b(i);s=v(w,"DIV",{class:!0});var C=b(s);u&&u.l(C),C.forEach(d),w.forEach(d),m.forEach(d),this.h()},h(){f(s,"class","form-control justify-between"),f(i,"class","form-field pt-5"),f(e,"class","form-group")},m(h,m){P(h,e,m),H(l,e,null),p(e,t),c&&c.m(e,null),p(e,r),p(e,i),p(i,s),u&&u.m(s,null),o=!0},p(h,[m]){const w={};m&1&&(w.formId=h[0].id),m&1&&(w.formInputs=h[0].required),m&4&&(w.submissionValues=h[2].required),l.$set(w),h[0].required.length>0&&h[0].additional.length>0?c?(c.p(h,m),m&1&&I(c,1)):(c=Wn(h),c.c(),I(c,1),c.m(e,r)):c&&(de(),D(c,1,1,()=>{c=null}),pe()),m&1&&(a=An(h[0].control)),a?u?u.p(h,m):(u=Yn(h),u.c(),u.m(s,null)):u&&(u.d(1),u=null)},i(h){o||(I(l.$$.fragment,h),I(c),o=!0)},o(h){D(l.$$.fragment,h),D(c),o=!1},d(h){h&&d(e),q(l),c&&c.d(),u&&u.d()}}}function zi(n,e,l){let t,{form:r}=e,{onSubmit:i}=e;const s=Ii(r),a=()=>i(t);return n.$$set=o=>{"form"in o&&l(0,r=o.form),"onSubmit"in o&&l(1,i=o.onSubmit)},l(2,t=s),[r,i,t,a]}class Oi extends ee{constructor(e){super(),te(this,e,zi,Bi,x,{form:0,onSubmit:1})}}function Hi(n){let e,l,t,r,i,s,a,o,c,u,h,m=n[0].name+"",w,C,g,y=n[0].description+"",k,V,S,L,A,M,Q,F,j;return A=new Oi({props:{form:n[0],onSubmit:n[6]}}),{c(){e=_("input"),l=N(),t=_("div"),r=_("label"),i=N(),s=_("div"),a=_("label"),o=G("‚úï"),c=N(),u=_("div"),h=_("h2"),w=G(m),C=N(),g=_("p"),k=G(y),V=N(),S=_("section"),L=_("form"),z(A.$$.fragment),this.h()},l(R){e=v(R,"INPUT",{class:!0,type:!0,id:!0}),l=T(R),t=v(R,"DIV",{class:!0});var K=b(t);r=v(K,"LABEL",{class:!0,for:!0}),b(r).forEach(d),i=T(K),s=v(K,"DIV",{class:!0});var W=b(s);a=v(W,"LABEL",{for:!0,class:!0});var $=b(a);o=J($,"‚úï"),$.forEach(d),c=T(W),u=v(W,"DIV",{class:!0});var E=b(u);h=v(E,"H2",{class:!0});var U=b(h);w=J(U,m),U.forEach(d),C=T(E),g=v(E,"P",{class:!0});var Y=b(g);k=J(Y,y),Y.forEach(d),E.forEach(d),V=T(W),S=v(W,"SECTION",{});var se=b(S);L=v(se,"FORM",{id:!0});var ie=b(L);O(A.$$.fragment,ie),ie.forEach(d),se.forEach(d),W.forEach(d),K.forEach(d),this.h()},h(){f(e,"class","modal-state"),f(e,"type","checkbox"),f(e,"id",n[4]),f(r,"class","modal-overlay"),f(r,"for",n[4]),f(a,"for",n[4]),f(a,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),f(h,"class","text-center text-2xl font-semibold"),f(g,"class","mx-auto max-w-xs text-center text-sm text-content2"),f(u,"class","flex flex-col gap-2"),f(L,"id",M=n[0].id),f(s,"class","modal-content flex w-full flex-col gap-5 p-7"),f(t,"class","modal")},m(R,K){P(R,e,K),n[5](e),P(R,l,K),P(R,t,K),p(t,r),p(t,i),p(t,s),p(s,a),p(a,o),p(s,c),p(s,u),p(u,h),p(h,w),p(u,C),p(u,g),p(g,k),p(s,V),p(s,S),p(S,L),H(A,L,null),Q=!0,F||(j=oe(L,"submit",ml(n[7])),F=!0)},p(R,[K]){(!Q||K&1)&&m!==(m=R[0].name+"")&&X(w,m),(!Q||K&1)&&y!==(y=R[0].description+"")&&X(k,y);const W={};K&1&&(W.form=R[0]),K&4&&(W.onSubmit=R[6]),A.$set(W),(!Q||K&1&&M!==(M=R[0].id))&&f(L,"id",M)},i(R){Q||(I(A.$$.fragment,R),Q=!0)},o(R){D(A.$$.fragment,R),Q=!1},d(R){R&&(d(e),d(l),d(t)),n[5](null),q(A),F=!1,j()}}}function qi(n,e,l){let{form:t}=e,{onSubmit:r}=e;const i=`modal-${t.id}`;let s,a;qt(()=>a.click());function o(h){at[h?"unshift":"push"](()=>{a=h,l(3,a)})}const c=h=>l(2,s=h),u=()=>r(s);return n.$$set=h=>{"form"in h&&l(0,t=h.form),"onSubmit"in h&&l(1,r=h.onSubmit)},[t,r,s,a,i,o,c,u]}class Yt extends ee{constructor(e){super(),te(this,e,qi,Hi,x,{form:0,onSubmit:1})}}function Ui(n){return{value:n,readonly:!1,type:"contacts-loaded"}}function lt(n){return{value:n,readonly:!1,type:"contacts-updated"}}function ji(n){return{value:n,readonly:!1,type:"contacts-saved"}}function Gi(n,e){return{value:n,url:e,readonly:!1,type:"contacts-shared"}}function Ji(n,e){return{value:n,isMissingPublicKey:e,readonly:e,type:"contacts-decrypted"}}function Wi(n){return{value:[],error:n,readonly:!1,type:"decrypt-contacts-failed"}}function Yi(n){return{value:[],error:n,readonly:!1,type:"contacts-initialization-failed"}}function Zi(n,e){return{value:n,error:e,readonly:!1,type:"save-contacts-failed"}}function Xi(n,e){return{value:n,error:e,readonly:!1,type:"share-contacts-failed"}}function Qi(n){return{value:n,readonly:!0,type:"import-public-key-failed"}}const xi=n=>re(n,"contacts-loaded"),es=n=>re(n,"contacts-saved"),rl=n=>re(n,"contacts-shared"),ts=n=>re(n,"contacts-decrypted"),Ys=n=>re(n,"decrypt-contacts-failed"),Zn=n=>re(n,"contacts-initialization-failed"),ns=n=>re(n,"save-contacts-failed"),ls=n=>re(n,"share-contacts-failed"),rs=n=>re(n,"import-public-key-failed");class Zs extends kt{constructor(){super(lt([]));ue(this,"symmetricKey");ue(this,"asymmetricKey");super.on((l,t)=>{const r=is(l.submission);t(lt([...this.state.value,r]))},Rl),super.on(async(l,t)=>{try{const r=Ie();try{const i=await os();if(i){this.symmetricKey=i.symmetric,this.asymmetricKey=i.asymmetric,t(Ui(i.contactsList));return}}catch(i){console.error(i)}this.asymmetricKey=await r.asymmetricCrypto.generate(),this.symmetricKey=await r.symmetricCrypto.generate(),t(lt(this.state.value))}catch(r){const i=Pe(r);De(i),t(Yi(i))}},Fl),super.on(async(l,t)=>{this.asymmetricKey=l.asymmetricKeyPair,this.symmetricKey=l.symmetricKey,t(lt(l.contacts))},Ol),super.on(async(l,t)=>{try{await as(this.state.value,this.symmetricKey,this.asymmetricKey),t(ji(this.state.value))}catch(r){const i=Pe(r);De(i),t(Zi(this.state.value,i))}},Bl),super.on(async(l,t)=>{try{const r=Ie(),i=Xn(l.submission),s=await r.symmetricCrypto.generate(),a=await il(s,i,this.state.value);let o=`${window.location.origin}/${a.ref}/${a.hash}`;yl&&(o=`${window.location.origin}?ref=${a.ref}&hash=${a.hash}`),t(Gi(this.state.value,new URL(o)))}catch(r){const i=Pe(r);De(i),t(Xi(this.state.value,i))}},zl),super.on(async(l,t)=>{const r=Ie();try{const i=cs(l.submission),s=await r.contactsManager.fetch(l.ref,l.hash),a=await ss(i,s);this.asymmetricKey=a.keyPair,this.symmetricKey=a.symmetricKey,t(Ji(a.contactsList,this.asymmetricKey.private==this.asymmetricKey.public))}catch(i){const s=Pe(i);De(s),t(Wi(s))}},ql),super.on(async(l,t)=>{const r=Ie(),i=Xn(l.submission),s={public:i,private:this.asymmetricKey.private};await r.asymmetricCrypto.match(s)?(this.asymmetricKey.public=i,t(lt(this.state.value))):t(Qi(this.state.value))},Hl)}}function is(n){var r,i,s,a,o;const e=[...n.required,...n.additional],l=(r=e.find(c=>c[0].id=="birthday"))==null?void 0:r[1],t=((i=e.find(c=>c[0].id=="phone-number"))==null?void 0:i[1])??[];return{name:(s=e.find(c=>c[0].id=="name"))==null?void 0:s[1],email:(a=e.find(c=>c[0].id=="email"))==null?void 0:a[1],phoneNumbers:Ft(t)?t.filter(c=>!!c.input&&c.input.trim().length>0&&!!c.type).map(c=>({value:c.input,type:c.type})):[],birthDate:l?new Date(l.toString()):void 0,gender:(o=e.find(c=>c[0].id=="gender"))==null?void 0:o[1]}}async function il(n,e,l){const t=Ie(),r=await t.symmetricCrypto.encrypt(n,JSON.stringify(l));if(typeof r=="string")throw"AES encryption is only supported right now";const i=r.data,s=await t.asymmetricCrypto.encrypt(e,r.iv),a=await t.asymmetricCrypto.encrypt(e,n.toString()),o={key:btoa(a),iv:btoa(s),contacts:btoa(i)};return t.contactsManager.add(btoa(JSON.stringify(o)))}async function ss(n,e){const l=Ie(),t=Vl(e),r=ze.private(await l.asymmetricCrypto.decrypt(n,t.key)),i=await l.asymmetricCrypto.decrypt(n,t.iv),s=await l.symmetricCrypto.decrypt(r,{data:t.contacts,iv:i}),a=await l.cryptoCache.pair(n);return{keyPair:a||{private:n,public:n},symmetricKey:r,contactsList:[...JSON.parse(s)].map(o=>({...o,birthDate:new Date(o.birthDate)}))}}async function as(n,e,l){const t=Ie(),r=await il(e,l.public,n);await t.browserStorage.store("local-contacts-list",JSON.stringify({asymmetric:{public:btoa(l.public.toString()),private:btoa(l.private.toString())},symmetric:btoa(e.toString()),contactsList:n,hash:r.hash,ref:r.ref}))}async function os(){const e=await Ie().browserStorage.lookup("local-contacts-list");return e?JSON.parse(e,(t,r)=>{switch(t){case"symmetric":return ze.private(atob(r));case"asymmetric":return{public:$e.public(atob(r.public)),private:$e.private(atob(r.private))};case"contactsList":return[...r].map(i=>({...i,birthDate:new Date(i.birthDate)}));default:return r}}):void 0}function Xn(n){var t;const l=((t=[...n.required,...n.additional].find(r=>r[0].id=="public-key"))==null?void 0:t[1])??"";return $e.public(l)}function cs(n){var t;const l=((t=[...n.required,...n.additional].find(r=>r[0].id=="private-key"))==null?void 0:t[1])??"";return $e.private(l)}function us(){return{type:"new-key-pair"}}const fs=n=>re(n,"new-key-pair");function ds(){return{type:"crypto-initialized"}}function ps(n){return{value:n,type:"generation-success"}}function hs(n){return{value:n,type:"generation-failure"}}const ms=n=>re(n,"generation-success"),_s=n=>re(n,"generation-failure");class vs extends kt{constructor(){super(ds()),super.on(async(e,l)=>{const t=Ie();try{const r=await t.asymmetricCrypto.generate();l(ps(r)),t.cryptoCache.cache(r)}catch(r){const i=Pe(r);De(i),l(hs(i))}},fs)}}function Pt(){return{type:"form-started"}}function Nt(n){return{value:n,type:"form-submitted"}}const bs=n=>re(n,"form-started"),gs=n=>re(n,"form-submitted");function ys(n){return{value:n,type:"form-initial"}}function ws(n){return{value:n,type:"form-in-progress"}}function ks(n,e){return{value:n,submission:e,type:"form-finish"}}function $s(n,e,l){return{value:n,required:e,additional:l,type:"form-validation"}}const st=n=>re(n,"form-in-progress"),vt=n=>re(n,"form-finish");class Zt extends kt{constructor(e){super(ys(e)),super.on((l,t)=>{t(ws(this.state.value))},bs),super.on((l,t)=>{const r=this.validate(l.value);r.additional.size+r.required.size>0?t($s(this.state.value,r.required,r.additional)):t(ks(this.state.value,l.value))},gs)}}class Cs extends Zt{constructor(e){super(Es(e))}validate(e){return jt(`validation form... ${e}`),{additional:new Map,required:new Map}}}function Es(n){const e=n.form.newContact;return{id:"new-contact",name:e.name(),description:e.description(),required:[{id:"name",description:e.descriptions.name(),label:e.labels.name(),placeholder:e.placeholders.name(),type:"raw"},{id:"email",description:e.descriptions.email(),label:e.labels.email(),placeholder:e.placeholders.email(),type:"email"}],additional:[{id:"phone-number",label:e.labels.phoneNumber(),count:1,input:{id:"phone-number",description:e.descriptions.phoneNumber(),label:e.labels.phoneNumber(),placeholder:e.placeholders.phoneNumber(),type:"phone-number"},types:{id:"phone-number-type",description:e.descriptions.phoneNumberType(),label:e.labels.phoneNumberType(),placeholder:e.placeholders.phoneNumberType(),type:"list",values:Object.values(e.values.phoneNumberType).map(l=>l())}},{id:"birthday",description:e.descriptions.birthday(),label:e.labels.birthday(),placeholder:e.placeholders.birthday(),type:"date"},{id:"gender",description:e.descriptions.gender(),label:e.labels.gender(),placeholder:e.placeholders.gender(),type:"list",values:Object.values(e.values.gender).map(l=>l())}],control:{id:"new-contact-control",label:e.labels.control(),type:"button"}}}class Ss extends Zt{constructor(e){super(Is(e))}validate(e){return jt(`validation form... ${e}`),{additional:new Map,required:new Map}}}function Is(n){const e=n.form.shareContacts;return{id:"share-contacts",name:e.name(),description:e.description(),required:[{id:"public-key",description:e.descriptions.publicKey(),label:e.labels.publicKey(),placeholder:e.placeholders.publicKey(),type:"area"}],additional:[],control:{id:"share-contacts-control",label:e.labels.control(),type:"button"}}}function Ls(n,e){return{title:n,message:e,type:"show-warning-notification"}}function Tt(n,e){return{title:n,message:e,type:"show-error-notification"}}const Vs=n=>re(n,"show-info-notification"),Ds=n=>re(n,"show-warning-notification");function At(n){return{type:"notification-update",value:n}}class Ps extends kt{constructor(){super(At([])),super.on(async(e,l)=>{const t={title:e.title,message:e.message,type:Ns(e)};l(At([t,...this.state.value])),setTimeout(()=>l(At([...this.state.value.filter(r=>r!=t)])),3500)},e=>e!==void 0)}}function Ns(n){return Vs(n)?"info":Ds(n)?"warning":"error"}class Ts extends Zt{constructor(e){super(As(e))}validate(e){return jt(`validation form... ${e}`),{additional:new Map,required:new Map}}}function As(n){const e=n.form.importPublicKey;return{id:"import-public-key",name:e.name(),description:e.description(),required:[{id:"public-key",description:e.descriptions.publicKey(),label:e.labels.publicKey(),placeholder:e.placeholders.publicKey(),type:"area"}],additional:[],control:{id:"import-public-key-control",label:e.labels.control(),type:"button"}}}export{Zs as C,Gs as D,Us as E,Zt as F,Js as L,Yt as M,Ps as N,rt as R,Tt as S,qs as a,Ws as b,Qn as c,zs as d,he as e,Pt as f,Nt as g,vt as h,st as i,Ys as j,jt as l,Hs as p,js as r};

import{s as z,e as v,o as x,n as P}from"./scheduler.0f1e1341.js";import{S as D,i as E,r as $,u as _,v as g,d as m,t as p,w as b,g as C,s as j,m as A,h as F,j as R,f as d,c as q,n as B,k as L,a as y,x as w,o as G,e as S,p as K,b as V}from"./index.5b24a853.js";import{p as H}from"./stores.6ada9c0f.js";import{S as J,L as T}from"./no-contacts-found.551bd3d0.js";import{F as O,l as Q,R as M,C as U,c as W,f as X,i as I,g as Y,h as Z,D as ee,j as te,S as re,M as ae,N as ne,b as oe}from"./reactor.1dbe0e08.js";import"./paths.1b9701b9.js";function se(o){let e,r;return e=new J({props:{name:"locked-book",alt:"an illustration of a book covered with a lock",size:o[0],format:o[1]}}),{c(){$(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,n){g(e,t,n),r=!0},p(t,[n]){const a={};n&1&&(a.size=t[0]),n&2&&(a.format=t[1]),e.$set(a)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function ce(o,e,r){let{size:t="m"}=e,{format:n="webp"}=e;return o.$$set=a=>{"size"in a&&r(0,t=a.size),"format"in a&&r(1,n=a.format)},[t,n]}class ie extends D{constructor(e){super(),E(this,e,ce,se,z,{size:0,format:1})}}function le(o){let e,r,t,n,a,s=o[0].states.encryptedContacts()+"",u,c;return t=new ie({props:{size:"m"}}),{c(){e=C("div"),r=C("div"),$(t.$$.fragment),n=j(),a=C("p"),u=A(s),this.h()},l(i){e=F(i,"DIV",{class:!0});var l=R(e);r=F(l,"DIV",{class:!0});var k=R(r);_(t.$$.fragment,k),k.forEach(d),n=q(l),a=F(l,"P",{class:!0});var h=R(a);u=B(h,s),h.forEach(d),l.forEach(d),this.h()},h(){L(r,"class","opacity-60 grayscale"),L(a,"class","text-lg"),L(e,"class","flex flex-col items-center gap-4")},m(i,l){y(i,e,l),w(e,r),g(t,r,null),w(e,n),w(e,a),w(a,u),c=!0},p(i,[l]){(!c||l&1)&&s!==(s=i[0].states.encryptedContacts()+"")&&G(u,s)},i(i){c||(m(t.$$.fragment,i),c=!0)},o(i){p(t.$$.fragment,i),c=!1},d(i){i&&d(e),b(t)}}}function fe(o,e,r){let t;return v(o,T,n=>r(0,t=n)),[t]}class ue extends D{constructor(e){super(),E(this,e,fe,le,z,{})}}class me extends O{constructor(e){super(pe(e))}validate(e){return Q(`validation form... ${e}`),{additional:new Map,required:new Map}}}function pe(o){const e=o.form.decryptContacts;return{id:"import-contacts",name:e.name(),description:e.description(),required:[{id:"private-key",label:e.labels.publicKey(),description:e.descriptions.publicKey(),placeholder:e.placeholders.publicKey(),type:"area"}],additional:[],control:{id:"submit",label:e.labels.control(),type:"button"}}}function N(o){let e,r;return e=new ae({props:{form:o[0].value,onSubmit:o[8]}}),{c(){$(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,n){g(e,t,n),r=!0},p(t,n){const a={};n&1&&(a.form=t[0].value),e.$set(a)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function de(o){let e=I(o[0]),r,t,n=e&&N(o);return{c(){n&&n.c(),r=S()},l(a){n&&n.l(a),r=S()},m(a,s){n&&n.m(a,s),y(a,r,s),t=!0},p(a,s){s&1&&(e=I(a[0])),e?n?(n.p(a,s),s&1&&m(n,1)):(n=N(a),n.c(),m(n,1),n.m(r.parentNode,r)):n&&(K(),p(n,1,1,()=>{n=null}),V())},i(a){t||(m(n),t=!0)},o(a){p(n),t=!1},d(a){a&&d(r),n&&n.d(a)}}}function $e(o){let e,r,t;return r=new ue({}),{c(){e=C("div"),$(r.$$.fragment),this.h()},l(n){e=F(n,"DIV",{class:!0});var a=R(e);_(r.$$.fragment,a),a.forEach(d),this.h()},h(){L(e,"class","flex flex-col justify-center h-screen")},m(n,a){y(n,e,a),g(r,e,null),t=!0},p:P,i(n){t||(m(r.$$.fragment,n),t=!0)},o(n){p(r.$$.fragment,n),t=!1},d(n){n&&d(e),b(r)}}}function _e(o){let e,r;return e=new oe({props:{contactsReactor:o[4]}}),{c(){$(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,n){g(e,t,n),r=!0},p:P,i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function ge(o){let e,r,t,n;const a=[_e,$e],s=[];function u(c,i){return c[1].value.length>0?0:1}return e=u(o),r=s[e]=a[e](o),{c(){r.c(),t=S()},l(c){r.l(c),t=S()},m(c,i){s[e].m(c,i),y(c,t,i),n=!0},p(c,i){let l=e;e=u(c),e===l?s[e].p(c,i):(K(),p(s[l],1,1,()=>{s[l]=null}),V(),r=s[e],r?r.p(c,i):(r=s[e]=a[e](c),r.c()),m(r,1),r.m(t.parentNode,t))},i(c){n||(m(r),n=!0)},o(c){p(r),n=!1},d(c){c&&d(t),s[e].d(c)}}}function be(o){let e,r,t,n;return e=new M({props:{reactor:o[5],listener:o[9],$$slots:{default:[de]},$$scope:{ctx:o}}}),t=new M({props:{reactor:o[4],listener:o[10],$$slots:{default:[ge]},$$scope:{ctx:o}}}),{c(){$(e.$$.fragment),r=j(),$(t.$$.fragment)},l(a){_(e.$$.fragment,a),r=q(a),_(t.$$.fragment,a)},m(a,s){g(e,a,s),y(a,r,s),g(t,a,s),n=!0},p(a,[s]){const u={};s&8193&&(u.$$scope={dirty:s,ctx:a}),e.$set(u);const c={};s&8194&&(c.$$scope={dirty:s,ctx:a}),t.$set(c)},i(a){n||(m(e.$$.fragment,a),m(t.$$.fragment,a),n=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),n=!1},d(a){a&&d(r),b(e,a),b(t,a)}}}function he(o,e,r){let t,n,a,s;v(o,T,f=>r(11,t=f)),v(o,H,f=>r(12,n=f));const{ref:u,hash:c}=n.params,i=new U;v(o,i,f=>r(1,s=f));const l=new me(t);v(o,l,f=>r(0,a=f));const k=W(ne),h=t.notification.decryptFailed;return x(()=>l.add(X())),[a,s,u,c,i,l,k,h,f=>{l.add(Y(f))},f=>{Z(f)&&i.add(ee(u,c,f.submission))},f=>{te(f)&&k.add(re(h.title(),h.message()))}]}class ze extends D{constructor(e){super(),E(this,e,he,be,z,{})}}export{ze as P};

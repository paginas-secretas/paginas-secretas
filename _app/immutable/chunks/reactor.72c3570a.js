var Zl=Object.defineProperty;var Xl=(l,e,r)=>e in l?Zl(l,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[e]=r;var Et=(l,e,r)=>(Xl(l,typeof e!="symbol"?e+"":e,r),r);import{s as x,c as Tt,u as Nt,g as Pt,d as Mt,o as Kt,b as nt,t as Yl,i as Ge,n as X,e as me,r as Ql,f as nl,h as rl,j as xl,k as en}from"./scheduler.ad18e0d3.js";import{S as ee,i as te,d as S,t as D,g as _,s as N,m as G,h as v,c as P,j as b,f as d,n as J,k as f,a as T,x as h,C as se,B as _e,e as ne,y as Le,o as Y,z as Me,A as Ke,r as R,u as q,v as B,w as O,D as je,p as fe,b as de,E as tn,F as pt}from"./index.83d2023c.js";import{L as Ce,S as At}from"./static-image.68038311.js";import"./paths.f09f5fa9.js";import{b as ql,i as oe,e as he,N as ln,S as It,c as nn,R as zt,w as Ee,d as xe,f as Bl,A as mt,g as et,l as Ft}from"./reactor.a41a1a08.js";import{N as rn}from"./no-contacts-found.c310d9ce.js";function an(l){let e;const r=l[3].default,t=Tt(r,l,l[2],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,i){t&&t.m(n,i),e=!0},p(n,[i]){t&&t.p&&(!e||i&4)&&Nt(t,r,n,n[2],e?Mt(r,n[2],i,null):Pt(n[2]),null)},i(n){e||(S(t,n),e=!0)},o(n){D(t,n),e=!1},d(n){t&&t.d(n)}}}function sn(l,e,r){let{$$slots:t={},$$scope:n}=e,{reactor:i}=e,{listener:a=void 0}=e;const s="caller"in i?ql(i):i;if(a!==void 0){const o=a;Kt(()=>s.subscribe(o))}return l.$$set=o=>{"reactor"in o&&r(0,i=o.reactor),"listener"in o&&r(1,a=o.listener),"$$scope"in o&&r(2,n=o.$$scope)},[i,a,n,t]}class tt extends ee{constructor(e){super(),te(this,e,sn,an,x,{reactor:0,listener:1})}}function on(l){const e=atob(l.contacts);return{...JSON.parse(e,(t,n)=>typeof n=="string"?atob(n):n)}}function cn(l){return{type:"add-contact",submission:l}}function un(l){return{type:"share-contacts",submission:l}}function fn(l){return{type:"import-public-key",submission:l}}function fa(l,e,r){return{type:"decrypt-contacts",submission:r,ref:l,hash:e}}function da(){return{type:"load-contacts-list"}}function dn(){return{type:"save-contacts"}}const hn=l=>oe(l,"load-contacts-list"),pn=l=>oe(l,"add-contact"),mn=l=>oe(l,"save-contacts"),_n=l=>oe(l,"share-contacts"),vn=l=>oe(l,"import-contacts"),bn=l=>oe(l,"import-public-key"),gn=l=>oe(l,"decrypt-contacts");function wn(l){let e,r,t,n,i,a,s,o,c,u,p,m,y,C,g,w,k,V,I,L,M,K=l[3].label+"",Q,z,j,F;const A=l[7].default,W=Tt(A,l,l[6],null);return{c(){e=_("input"),r=N(),t=_("div"),n=_("label"),i=N(),a=_("div"),s=_("label"),o=G("‚úï"),c=N(),u=_("div"),p=_("h2"),m=G(l[1]),y=N(),C=_("p"),g=G(l[2]),w=N(),k=_("section"),W&&W.c(),V=N(),I=_("div"),L=_("div"),M=_("button"),Q=G(K),this.h()},l($){e=v($,"INPUT",{class:!0,type:!0,id:!0}),r=P($),t=v($,"DIV",{class:!0});var E=b(t);n=v(E,"LABEL",{class:!0,for:!0}),b(n).forEach(d),i=P(E),a=v(E,"DIV",{class:!0});var U=b(a);s=v(U,"LABEL",{for:!0,class:!0});var Z=b(s);o=J(Z,"‚úï"),Z.forEach(d),c=P(U),u=v(U,"DIV",{class:!0});var ie=b(u);p=v(ie,"H2",{class:!0});var re=b(p);m=J(re,l[1]),re.forEach(d),y=P(ie),C=v(ie,"P",{class:!0});var ce=b(C);g=J(ce,l[2]),ce.forEach(d),ie.forEach(d),w=P(U),k=v(U,"SECTION",{});var ve=b(k);W&&W.l(ve),V=P(ve),I=v(ve,"DIV",{class:!0});var ge=b(I);L=v(ge,"DIV",{class:!0});var be=b(L);M=v(be,"BUTTON",{type:!0,class:!0});var ye=b(M);Q=J(ye,K),ye.forEach(d),be.forEach(d),ge.forEach(d),ve.forEach(d),U.forEach(d),E.forEach(d),this.h()},h(){f(e,"class","modal-state"),f(e,"type","checkbox"),f(e,"id",l[4]),f(n,"class","modal-overlay"),f(n,"for",l[4]),f(s,"for",l[4]),f(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),f(p,"class","text-center text-2xl font-semibold"),f(C,"class","mx-auto max-w-xs text-center text-sm text-content2"),f(u,"class","flex flex-col gap-2"),f(M,"type","submit"),f(M,"class","btn btn-primary w-full"),f(L,"class","justify-between"),f(I,"class","pt-5"),f(a,"class","modal-content flex w-full flex-col gap-5 p-7"),f(t,"class","modal")},m($,E){T($,e,E),l[8](e),T($,r,E),T($,t,E),h(t,n),h(t,i),h(t,a),h(a,s),h(s,o),h(a,c),h(a,u),h(u,p),h(p,m),h(u,y),h(u,C),h(C,g),h(a,w),h(a,k),W&&W.m(k,null),h(k,V),h(k,I),h(I,L),h(L,M),h(M,Q),z=!0,j||(F=se(M,"click",l[3].callback),j=!0)},p($,[E]){W&&W.p&&(!z||E&64)&&Nt(W,A,$,$[6],z?Mt(A,$[6],E,null):Pt($[6]),null)},i($){z||(S(W,$),z=!0)},o($){D(W,$),z=!1},d($){$&&(d(e),d(r),d(t)),l[8](null),W&&W.d($),j=!1,F()}}}function yn(l,e,r){let{$$slots:t={},$$scope:n}=e,{value:i}=e;const a=i.title,s=i.subtitle,o={label:i.action[0],callback:i.action[1]},c=`alert-${new Date().valueOf()}`;let u;Kt(()=>u.click());function p(m){nt[m?"unshift":"push"](()=>{u=m,r(0,u)})}return l.$$set=m=>{"value"in m&&r(5,i=m.value),"$$scope"in m&&r(6,n=m.$$scope)},[u,a,s,o,c,i,n,t,p]}class Ht extends ee{constructor(e){super(),te(this,e,yn,wn,x,{value:5})}}function dt(l){return Yl().finally(l)}function kn(l){try{return new URL(l),!0}catch{return!1}}function $n(l){let e,r,t='<svg width="32" height="32" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" stroke-width="2" d="M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"></path></svg>',n,i,a;return{c(){e=_("span"),r=_("button"),r.innerHTML=t,this.h()},l(s){e=v(s,"SPAN",{class:!0,"data-tooltip":!0});var o=b(e);r=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),_e(r)!=="svelte-1nnivgr"&&(r.innerHTML=t),o.forEach(d),this.h()},h(){f(r,"class","btn btn-circle h-16 w-16 bg-blue-600"),f(e,"class","tooltip tooltip-top"),f(e,"data-tooltip",n=l[1].new())},m(s,o){T(s,e,o),h(e,r),i||(a=se(r,"click",function(){Ge(l[0])&&l[0].apply(this,arguments)}),i=!0)},p(s,[o]){l=s,o&2&&n!==(n=l[1].new())&&f(e,"data-tooltip",n)},i:X,o:X,d(s){s&&d(e),i=!1,a()}}}function Cn(l,e,r){let t;me(l,Ce,i=>r(1,t=i));let{onClick:n}=e;return l.$$set=i=>{"onClick"in i&&r(0,n=i.onClick)},[n,t]}class En extends ee{constructor(e){super(),te(this,e,Cn,$n,x,{onClick:0})}}function In(l){let e,r,t='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 16 16"><path fill="currentColor" d="M5.008 2H2.282c-.181 0-.245.002-.275.007c-.005.03-.007.094-.007.275v11.436c0 .181.002.245.007.275c.03.005.094.007.275.007h11.436c.181 0 .245-.002.275-.007c.005-.03.007-.094.007-.275V4.62c0-.13-.001-.18-.004-.204a2.654 2.654 0 0 0-.141-.147L11.73 2.145a2.654 2.654 0 0 0-.147-.141A2.654 2.654 0 0 0 11.38 2h-.388c.005.08.008.172.008.282v2.436c0 .446-.046.607-.134.77a.909.909 0 0 1-.378.378c-.163.088-.324.134-.77.134H6.282c-.446 0-.607-.046-.77-.134a.909.909 0 0 1-.378-.378C5.046 5.325 5 5.164 5 4.718V2.282c0-.11.003-.202.008-.282M2.282 1h9.098c.259 0 .348.01.447.032a.87.87 0 0 1 .273.113c.086.054.156.11.338.293l2.124 2.124c.182.182.239.252.293.338a.87.87 0 0 1 .113.273c.023.1.032.188.032.447v9.098c0 .446-.046.607-.134.77a.909.909 0 0 1-.378.378c-.163.088-.324.134-.77.134H2.282c-.446 0-.607-.046-.77-.134a.909.909 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77V2.282c0-.446.046-.607.134-.77a.909.909 0 0 1 .378-.378c.163-.088.324-.134.77-.134M6 2.282v2.436c0 .181.002.245.007.275c.03.005.094.007.275.007h3.436c.181 0 .245-.002.275-.007c.005-.03.007-.094.007-.275V2.282c0-.181-.002-.245-.007-.275A2.248 2.248 0 0 0 9.718 2H6.282c-.181 0-.245.002-.275.007c-.005.03-.007.094-.007.275M8 12a2 2 0 1 1 0-4a2 2 0 0 1 0 4m0-1a1 1 0 1 0 0-2a1 1 0 0 0 0 2"></path></svg>',n,i,a;return{c(){e=_("span"),r=_("button"),r.innerHTML=t,this.h()},l(s){e=v(s,"SPAN",{class:!0,"data-tooltip":!0});var o=b(e);r=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),_e(r)!=="svelte-17hxhlb"&&(r.innerHTML=t),o.forEach(d),this.h()},h(){f(r,"class","btn btn-circle h-16 w-16 bg-blue-600"),f(e,"class","tooltip tooltip-top"),f(e,"data-tooltip",n=l[1].saveList())},m(s,o){T(s,e,o),h(e,r),i||(a=se(r,"click",function(){Ge(l[0])&&l[0].apply(this,arguments)}),i=!0)},p(s,[o]){l=s,o&2&&n!==(n=l[1].saveList())&&f(e,"data-tooltip",n)},i:X,o:X,d(s){s&&d(e),i=!1,a()}}}function Sn(l,e,r){let t;me(l,Ce,i=>r(1,t=i));let{onClick:n}=e;return l.$$set=i=>{"onClick"in i&&r(0,n=i.onClick)},[n,t]}class Ln extends ee{constructor(e){super(),te(this,e,Sn,In,x,{onClick:0})}}function Vn(l){let e,r='<svg width="24" height="24" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"></path></svg>',t,n;return{c(){e=_("div"),e.innerHTML=r,this.h()},l(i){e=v(i,"DIV",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),_e(e)!=="svelte-1tmc88r"&&(e.innerHTML=r),this.h()},h(){f(e,"class","flex items-center"),f(e,"aria-hidden","true")},m(i,a){T(i,e,a),t||(n=se(e,"click",function(){Ge(l[0])&&l[0].apply(this,arguments)}),t=!0)},p(i,[a]){l=i},i:X,o:X,d(i){i&&d(e),t=!1,n()}}}function Dn(l,e,r){let{onClick:t}=e;return l.$$set=n=>{"onClick"in n&&r(0,t=n.onClick)},[t]}class Tn extends ee{constructor(e){super(),te(this,e,Dn,Vn,x,{onClick:0})}}function Nn(l){let e,r='<svg width="24" height="24" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><rect width="10" height="1.5" x="3" y="7.25" fill="currentColor" rx=".5"></rect></svg>',t,n;return{c(){e=_("div"),e.innerHTML=r,this.h()},l(i){e=v(i,"DIV",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),_e(e)!=="svelte-qklh5e"&&(e.innerHTML=r),this.h()},h(){f(e,"class","flex items-center"),f(e,"aria-hidden","true")},m(i,a){T(i,e,a),t||(n=se(e,"click",function(){Ge(l[0])&&l[0].apply(this,arguments)}),t=!0)},p(i,[a]){l=i},i:X,o:X,d(i){i&&d(e),t=!1,n()}}}function Pn(l,e,r){let{onClick:t}=e;return l.$$set=n=>{"onClick"in n&&r(0,t=n.onClick)},[t]}class Mn extends ee{constructor(e){super(),te(this,e,Pn,Nn,x,{onClick:0})}}function il(l,e,r){const t=l.slice();return t[9]=e[r],t}function al(l){let e,r,t=he(l[0]),n=[];for(let i=0;i<t.length;i+=1)n[i]=sl(il(l,t,i));return{c(){e=_("div"),r=_("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var a=b(e);r=v(a,"DIV",{class:!0});var s=b(r);for(let o=0;o<n.length;o+=1)n[o].l(s);s.forEach(d),a.forEach(d),this.h()},h(){f(r,"class","dropdown-menu"),f(e,"class","dropdown dropdown-open")},m(i,a){T(i,e,a),h(e,r);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,null)},p(i,a){if(a&19){t=he(i[0]);let s;for(s=0;s<t.length;s+=1){const o=il(i,t,s);n[s]?n[s].p(o,a):(n[s]=sl(o),n[s].c(),n[s].m(r,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(i){i&&d(e),Le(n,i)}}}function sl(l){let e,r=l[9]+"",t,n,i,a;function s(){return l[8](l[9])}return{c(){e=_("div"),t=G(r),n=N(),this.h()},l(o){e=v(o,"DIV",{tabindex:!0,class:!0,"aria-hidden":!0});var c=b(e);t=J(c,r),n=P(c),c.forEach(d),this.h()},h(){f(e,"tabindex","-1"),f(e,"class","dropdown-item text-sm"),f(e,"aria-hidden","")},m(o,c){T(o,e,c),h(e,t),h(e,n),i||(a=se(e,"click",s),i=!0)},p(o,c){l=o,c&1&&r!==(r=l[9]+"")&&Y(t,r)},d(o){o&&d(e),i=!1,a()}}}function Kn(l){let e,r,t='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M10.5 5A1.5 1.5 0 0 1 12 3.5h.01a1.5 1.5 0 0 1 1.5 1.5v.01a1.5 1.5 0 0 1-1.5 1.5H12a1.5 1.5 0 0 1-1.5-1.5V5Zm0 7a1.5 1.5 0 0 1 1.5-1.5h.01a1.5 1.5 0 0 1 1.5 1.5v.01a1.5 1.5 0 0 1-1.5 1.5H12a1.5 1.5 0 0 1-1.5-1.5V12Zm1.5 5.5a1.5 1.5 0 0 0-1.5 1.5v.01a1.5 1.5 0 0 0 1.5 1.5h.01a1.5 1.5 0 0 0 1.5-1.5V19a1.5 1.5 0 0 0-1.5-1.5H12Z" clip-rule="evenodd"></path></svg>',n,i,a,s,o,c=l[4]&&al(l);return{c(){e=_("div"),r=_("div"),r.innerHTML=t,i=N(),c&&c.c(),a=ne(),this.h()},l(u){e=v(u,"DIV",{class:!0,"aria-hidden":!0});var p=b(e);r=v(p,"DIV",{"data-svelte-h":!0}),_e(r)!=="svelte-1t510vs"&&(r.innerHTML=t),p.forEach(d),i=P(u),c&&c.l(u),a=ne(),this.h()},h(){f(e,"class",n="flex items-center "+(l[2]?"cursor-default":"cursor-pointer")),f(e,"aria-hidden","true")},m(u,p){T(u,e,p),h(e,r),l[6](e),T(u,i,p),c&&c.m(u,p),T(u,a,p),s||(o=[se(window,"click",l[5]),se(e,"click",l[7])],s=!0)},p(u,[p]){p&4&&n!==(n="flex items-center "+(u[2]?"cursor-default":"cursor-pointer"))&&f(e,"class",n),u[4]?c?c.p(u,p):(c=al(u),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},i:X,o:X,d(u){u&&(d(e),d(i),d(a)),l[6](null),c&&c.d(u),s=!1,Ql(o)}}}function An(l,e,r){let t,{values:n}=e,{onClick:i}=e,{disabled:a=!1}=e,s;const o=m=>{m.target instanceof Node&&s.contains(m.target)==!1&&r(4,t=!1)};function c(m){nt[m?"unshift":"push"](()=>{s=m,r(3,s)})}const u=()=>r(4,t=!t&&!a),p=m=>{i(m),r(4,t=!1)};return l.$$set=m=>{"values"in m&&r(0,n=m.values),"onClick"in m&&r(1,i=m.onClick),"disabled"in m&&r(2,a=m.disabled)},r(4,t=!1),[n,i,a,s,t,o,c,u,p]}class zn extends ee{constructor(e){super(),te(this,e,An,Kn,x,{values:0,onClick:1,disabled:2})}}function Fn(l){let e,r,t,n,i,a,s,o;return{c(){e=_("button"),r=_("span"),t=Me("svg"),n=Me("g"),i=Me("path"),a=Me("path"),this.h()},l(c){e=v(c,"BUTTON",{});var u=b(e);r=v(u,"SPAN",{class:!0,"data-tooltip":!0});var p=b(r);t=Ke(p,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var m=b(t);n=Ke(m,"g",{fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,opacity:!0});var y=b(n);i=Ke(y,"path",{d:!0}),b(i).forEach(d),a=Ke(y,"path",{d:!0}),b(a).forEach(d),y.forEach(d),m.forEach(d),p.forEach(d),u.forEach(d),this.h()},h(){f(i,"d","M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2H9V5Z"),f(a,"d","M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"),f(n,"fill","none"),f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-width","1.5"),f(n,"opacity","0.85"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"width","24"),f(t,"height","24"),f(t,"viewBox","0 0 24 24"),f(r,"class","tooltip-primary tooltip tooltip-left"),f(r,"data-tooltip",l[2])},m(c,u){T(c,e,u),h(e,r),h(r,t),h(t,n),h(n,i),h(n,a),s||(o=se(e,"click",l[4]),s=!0)},p(c,[u]){u&4&&f(r,"data-tooltip",c[2])},i:X,o:X,d(c){c&&d(e),s=!1,o()}}}function Hn(l,e,r){let t,n,i;me(l,Ce,o=>r(3,i=o));let{onCopy:a}=e;const s=()=>{navigator.clipboard.writeText(a()),r(1,t=!0)};return l.$$set=o=>{"onCopy"in o&&r(0,a=o.onCopy)},l.$$.update=()=>{l.$$.dirty&10&&r(2,n=t?i.copiedAction():i.copyAction())},r(1,t=!1),[a,t,n,i,s]}class Ol extends ee{constructor(e){super(),te(this,e,Hn,Fn,x,{onCopy:0})}}function Rn(l){let e,r,t,n,i,a,s,o=l[1].downloadAction+"",c,u,p,m;return{c(){e=_("button"),r=_("span"),t=Me("svg"),n=Me("path"),i=Me("path"),a=N(),s=_("a"),c=G(o),u=G("..."),this.h()},l(y){e=v(y,"BUTTON",{});var C=b(e);r=v(C,"SPAN",{class:!0,"data-tooltip":!0});var g=b(r);t=Ke(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var w=b(t);n=Ke(w,"path",{fill:!0,d:!0}),b(n).forEach(d),i=Ke(w,"path",{fill:!0,d:!0}),b(i).forEach(d),w.forEach(d),g.forEach(d),a=P(C),s=v(C,"A",{href:!0,download:!0});var k=b(s);c=J(k,o),u=J(k,"..."),k.forEach(d),C.forEach(d),this.h()},h(){f(n,"fill","currentColor"),f(n,"d","m9 9.114l1.85-1.943a.52.52 0 0 1 .77 0c.214.228.214.6 0 .829l-1.95 2.05a1.552 1.552 0 0 1-2.31 0L5.41 8a.617.617 0 0 1 0-.829a.52.52 0 0 1 .77 0L8 9.082V.556C8 .249 8.224 0 8.5 0s.5.249.5.556z"),f(i,"fill","currentColor"),f(i,"d","M16 13.006V10h-1v3.006a.995.995 0 0 1-.994.994H3.01a.995.995 0 0 1-.994-.994V10h-1v3.006c0 1.1.892 1.994 1.994 1.994h10.996c1.1 0 1.994-.893 1.994-1.994"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"width","24"),f(t,"height","24"),f(t,"viewBox","0 0 16 16"),f(r,"class","tooltip-primary tooltip tooltip-left"),f(r,"data-tooltip",l[3]),f(s,"href","#download"),f(s,"download",""),s.hidden=!0},m(y,C){T(y,e,C),h(e,r),h(r,t),h(t,n),h(t,i),h(e,a),h(e,s),h(s,c),h(s,u),l[5](s),p||(m=se(e,"click",l[6]),p=!0)},p(y,[C]){C&8&&f(r,"data-tooltip",y[3]),C&2&&o!==(o=y[1].downloadAction+"")&&Y(c,o)},i:X,o:X,d(y){y&&d(e),l[5](null),p=!1,m()}}}function qn(l,e,r){let t,n,i;me(l,Ce,u=>r(1,i=u));let{onDownload:a}=e,s;function o(u){nt[u?"unshift":"push"](()=>{s=u,r(2,s)})}const c=()=>{const u=a(),p=window.URL.createObjectURL(new Blob([u.content],{type:u.type}));r(2,s.download=u.name,s),r(2,s.href=p,s),s.click(),dt(()=>window.URL.revokeObjectURL(p))};return l.$$set=u=>{"onDownload"in u&&r(0,a=u.onDownload)},l.$$.update=()=>{l.$$.dirty&18&&r(3,n=t?i.downloadedAction():i.downloadAction())},r(4,t=!1),[a,i,s,n,t,o,c]}class Bn extends ee{constructor(e){super(),te(this,e,qn,Rn,x,{onDownload:0})}}function On(l){let e,r,t='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M11.351 1.091a4.528 4.528 0 0 1 3.44 3.16c.215.724.247 1.49.093 2.23a4.583 4.583 0 0 1-4.437 3.6c-.438 0-.874-.063-1.293-.19l-.8.938l-.379.175H7v1.5l-.5.5H5v1.5l-.5.5h-3l-.5-.5v-2.307l.146-.353L6.12 6.87a4.464 4.464 0 0 1-.2-1.405a4.528 4.528 0 0 1 5.431-4.375zm1.318 7.2a3.568 3.568 0 0 0 1.239-2.005l.004.005A3.543 3.543 0 0 0 9.72 2.08a3.576 3.576 0 0 0-2.8 3.4c-.01.456.07.908.239 1.33l-.11.543L2 12.404v1.6h2v-1.5l.5-.5H6v-1.5l.5-.5h1.245l.876-1.016l.561-.14a3.47 3.47 0 0 0 1.269.238a3.568 3.568 0 0 0 2.218-.795zm-.838-2.732a1 1 0 1 0-1.662-1.11a1 1 0 0 0 1.662 1.11z" clip-rule="evenodd"></path></svg>',n,i,a;return{c(){e=_("span"),r=_("button"),r.innerHTML=t,this.h()},l(s){e=v(s,"SPAN",{class:!0,"data-tooltip":!0});var o=b(e);r=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),_e(r)!=="svelte-1owadpb"&&(r.innerHTML=t),o.forEach(d),this.h()},h(){f(r,"class","btn btn-circle h-16 w-16 bg-orange-600"),f(e,"class","tooltip tooltip-top"),f(e,"data-tooltip",n=l[1].addPublicKey())},m(s,o){T(s,e,o),h(e,r),i||(a=se(r,"click",function(){Ge(l[0])&&l[0].apply(this,arguments)}),i=!0)},p(s,[o]){l=s,o&2&&n!==(n=l[1].addPublicKey())&&f(e,"data-tooltip",n)},i:X,o:X,d(s){s&&d(e),i=!1,a()}}}function Un(l,e,r){let t;me(l,Ce,i=>r(1,t=i));let{onClick:n}=e;return l.$$set=i=>{"onClick"in i&&r(0,n=i.onClick)},[n,t]}class jn extends ee{constructor(e){super(),te(this,e,Un,On,x,{onClick:0})}}function Gn(l){let e,r=l[0].message+"",t;return{c(){e=_("div"),t=G(r),this.h()},l(n){e=v(n,"DIV",{class:!0});var i=b(e);t=J(i,r),i.forEach(d),this.h()},h(){f(e,"class","break-words whitespace-pre-wrap")},m(n,i){T(n,e,i),h(e,t)},p(n,i){i&1&&r!==(r=n[0].message+"")&&Y(t,r)},d(n){n&&d(e)}}}function Jn(l){let e,r,t=l[0].message+"",n,i;return{c(){e=_("div"),r=_("a"),n=G(t),this.h()},l(a){e=v(a,"DIV",{class:!0});var s=b(e);r=v(s,"A",{class:!0,href:!0});var o=b(r);n=J(o,t),o.forEach(d),s.forEach(d),this.h()},h(){f(r,"class","link link-primary"),f(r,"href",i=l[0].message),f(e,"class","break-all")},m(a,s){T(a,e,s),h(e,r),h(r,n)},p(a,s){s&1&&t!==(t=a[0].message+"")&&Y(n,t),s&1&&i!==(i=a[0].message)&&f(r,"href",i)},d(a){a&&d(e)}}}function Wn(l){let e,r,t,n,i;r=new Ol({props:{onCopy:l[2]}});function a(c,u){return c[1]?Jn:Gn}let o=a(l)(l);return{c(){e=_("div"),R(r.$$.fragment),t=N(),o.c(),n=ne(),this.h()},l(c){e=v(c,"DIV",{class:!0});var u=b(e);q(r.$$.fragment,u),u.forEach(d),t=P(c),o.l(c),n=ne(),this.h()},h(){f(e,"class","flex justify-end")},m(c,u){T(c,e,u),B(r,e,null),T(c,t,u),o.m(c,u),T(c,n,u),i=!0},p(c,u){const p={};u&1&&(p.onCopy=c[2]),r.$set(p),o.p(c,u)},i(c){i||(S(r.$$.fragment,c),i=!0)},o(c){D(r.$$.fragment,c),i=!1},d(c){c&&(d(e),d(t),d(n)),O(r),o.d(c)}}}function Zn(l){let e,r;return e=new Ht({props:{value:l[0],$$slots:{default:[Wn]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,[n]){const i={};n&1&&(i.value=t[0]),n&9&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function Xn(l,e,r){let{value:t}=e;const n=kn(t.message),i=()=>t.message;return l.$$set=a=>{"value"in a&&r(0,t=a.value)},[t,n,i]}class Yn extends ee{constructor(e){super(),te(this,e,Xn,Zn,x,{value:0})}}function Qn(l){let e,r;return e=new wr({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p:X,i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function xn(l){let e;const r=l[2].default,t=Tt(r,l,l[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,i){t&&t.m(n,i),e=!0},p(n,i){t&&t.p&&(!e||i&8)&&Nt(t,r,n,n[3],e?Mt(r,n[3],i,null):Pt(n[3]),null)},i(n){e||(S(t,n),e=!0)},o(n){D(t,n),e=!1},d(n){t&&t.d(n)}}}function ol(l){let e,r,t="Stack-trace",n,i,a=l[0].error.stack+"",s;return{c(){e=_("details"),r=_("summary"),r.textContent=t,n=N(),i=_("div"),s=G(a),this.h()},l(o){e=v(o,"DETAILS",{});var c=b(e);r=v(c,"SUMMARY",{"data-svelte-h":!0}),_e(r)!=="svelte-r7k50o"&&(r.textContent=t),n=P(c),i=v(c,"DIV",{class:!0});var u=b(i);s=J(u,a),u.forEach(d),c.forEach(d),this.h()},h(){f(i,"class","break-words whitespace-pre-wrap")},m(o,c){T(o,e,c),h(e,r),h(e,n),h(e,i),h(i,s)},p(o,c){c&1&&a!==(a=o[0].error.stack+"")&&Y(s,a)},d(o){o&&d(e)}}}function er(l){let e,r,t,n,i;const a=[xn,Qn],s=[];function o(u,p){return u[1]?0:1}e=o(l),r=s[e]=a[e](l);let c=l[0].error&&ol(l);return{c(){r.c(),t=N(),c&&c.c(),n=ne()},l(u){r.l(u),t=P(u),c&&c.l(u),n=ne()},m(u,p){s[e].m(u,p),T(u,t,p),c&&c.m(u,p),T(u,n,p),i=!0},p(u,p){r.p(u,p),u[0].error?c?c.p(u,p):(c=ol(u),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},i(u){i||(S(r),i=!0)},o(u){D(r),i=!1},d(u){u&&(d(t),d(n)),s[e].d(u),c&&c.d(u)}}}function tr(l){let e,r;return e=new Ht({props:{value:l[0],$$slots:{default:[er]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,[n]){const i={};n&1&&(i.value=t[0]),n&9&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function lr(l,e,r){let{$$slots:t={},$$scope:n}=e,{value:i}=e;const a=e.$$slots!==void 0;return l.$$set=s=>{r(4,e=nl(nl({},e),rl(s))),"value"in s&&r(0,i=s.value),"$$scope"in s&&r(3,n=s.$$scope)},e=rl(e),[i,a,t,n]}class Ul extends ee{constructor(e){super(),te(this,e,lr,tr,x,{value:0})}}function cl(l,e,r){const t=l.slice();return t[5]=e[r],t}function ul(l){let e,r=l[5].tab+"",t,n,i,a,s;function o(){return l[4](l[5])}return{c(){e=_("div"),t=G(r),n=N(),this.h()},l(c){e=v(c,"DIV",{class:!0,"aria-hidden":!0});var u=b(e);t=J(u,r),n=P(u),u.forEach(d),this.h()},h(){f(e,"class",i="tab px-6 "+(l[1]===l[5]?"tab-active tab-underline":"")),f(e,"aria-hidden","true")},m(c,u){T(c,e,u),h(e,t),h(e,n),a||(s=se(e,"click",o),a=!0)},p(c,u){l=c,u&1&&r!==(r=l[5].tab+"")&&Y(t,r),u&3&&i!==(i="tab px-6 "+(l[1]===l[5]?"tab-active tab-underline":""))&&f(e,"class",i)},d(c){c&&d(e),a=!1,s()}}}function nr(l){let e,r,t,n,i,a,s,o,c,u,p=l[1].value+"",m,y;r=new Ol({props:{onCopy:l[2]}}),n=new Bn({props:{onDownload:l[3]}});let C=he(l[0].tabs),g=[];for(let w=0;w<C.length;w+=1)g[w]=ul(cl(l,C,w));return{c(){e=_("div"),R(r.$$.fragment),t=N(),R(n.$$.fragment),i=N(),a=_("div"),s=_("div");for(let w=0;w<g.length;w+=1)g[w].c();o=N(),c=_("div"),u=_("div"),m=G(p),this.h()},l(w){e=v(w,"DIV",{class:!0});var k=b(e);q(r.$$.fragment,k),t=P(k),q(n.$$.fragment,k),k.forEach(d),i=P(w),a=v(w,"DIV",{class:!0});var V=b(a);s=v(V,"DIV",{class:!0});var I=b(s);for(let K=0;K<g.length;K+=1)g[K].l(I);I.forEach(d),o=P(V),c=v(V,"DIV",{class:!0});var L=b(c);u=v(L,"DIV",{class:!0});var M=b(u);m=J(M,p),M.forEach(d),L.forEach(d),V.forEach(d),this.h()},h(){f(e,"class","flex justify-end gap-2"),f(s,"class","tabs"),f(u,"class","break-words whitespace-pre-wrap"),f(c,"class","break-all"),f(a,"class","flex flex-col items-center gap-4")},m(w,k){T(w,e,k),B(r,e,null),h(e,t),B(n,e,null),T(w,i,k),T(w,a,k),h(a,s);for(let V=0;V<g.length;V+=1)g[V]&&g[V].m(s,null);h(a,o),h(a,c),h(c,u),h(u,m),y=!0},p(w,k){const V={};k&2&&(V.onCopy=w[2]),r.$set(V);const I={};if(k&2&&(I.onDownload=w[3]),n.$set(I),k&3){C=he(w[0].tabs);let L;for(L=0;L<C.length;L+=1){const M=cl(w,C,L);g[L]?g[L].p(M,k):(g[L]=ul(M),g[L].c(),g[L].m(s,null))}for(;L<g.length;L+=1)g[L].d(1);g.length=C.length}(!y||k&2)&&p!==(p=w[1].value+"")&&Y(m,p)},i(w){y||(S(r.$$.fragment,w),S(n.$$.fragment,w),y=!0)},o(w){D(r.$$.fragment,w),D(n.$$.fragment,w),y=!1},d(w){w&&(d(e),d(i),d(a)),O(r),O(n),Le(g,w)}}}function rr(l){let e,r;return e=new Ht({props:{value:l[0],$$slots:{default:[nr]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,[n]){const i={};n&1&&(i.value=t[0]),n&259&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function ir(l,e,r){let t,{value:n}=e;const i=()=>t.value,a=()=>({name:t.tab,content:t.value,type:"text/plain"}),s=o=>r(1,t=o);return l.$$set=o=>{"value"in o&&r(0,n=o.value)},l.$$.update=()=>{l.$$.dirty&1&&r(1,t=n.tabs[0])},[n,t,i,a,s]}class ar extends ee{constructor(e){super(),te(this,e,ir,rr,x,{value:0})}}function sr(l){let e,r;return e=new At({props:{name:"bug",alt:"a bug reading a book",size:l[0],format:l[1]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,[n]){const i={};n&1&&(i.size=t[0]),n&2&&(i.format=t[1]),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function or(l,e,r){let{size:t="m"}=e,{format:n="webp"}=e;return l.$$set=i=>{"size"in i&&r(0,t=i.size),"format"in i&&r(1,n=i.format)},[t,n]}class cr extends ee{constructor(e){super(),te(this,e,or,sr,x,{size:0,format:1})}}function ur(l){let e,r;return e=new At({props:{name:"logo",alt:"application logo",size:l[0],format:l[1]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,[n]){const i={};n&1&&(i.size=t[0]),n&2&&(i.format=t[1]),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function fr(l,e,r){let{size:t="m"}=e,{format:n="webp"}=e;return l.$$set=i=>{"size"in i&&r(0,t=i.size),"format"in i&&r(1,n=i.format)},[t,n]}class dr extends ee{constructor(e){super(),te(this,e,fr,ur,x,{size:0,format:1})}}function hr(l){let e,r;return e=new At({props:{name:"keys",alt:"an illustration of two keys",size:l[0],format:l[1]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,[n]){const i={};n&1&&(i.size=t[0]),n&2&&(i.format=t[1]),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function pr(l,e,r){let{size:t="m"}=e,{format:n="webp"}=e;return l.$$set=i=>{"size"in i&&r(0,t=i.size),"format"in i&&r(1,n=i.format)},[t,n]}class mr extends ee{constructor(e){super(),te(this,e,pr,hr,x,{size:0,format:1})}}function _r(l){let e,r,t,n,i,a=l[0].states.emptyContactList()+"",s,o;return t=new dr({props:{size:"lg"}}),{c(){e=_("div"),r=_("div"),R(t.$$.fragment),n=N(),i=_("p"),s=G(a),this.h()},l(c){e=v(c,"DIV",{class:!0});var u=b(e);r=v(u,"DIV",{class:!0});var p=b(r);q(t.$$.fragment,p),p.forEach(d),n=P(u),i=v(u,"P",{class:!0});var m=b(i);s=J(m,a),m.forEach(d),u.forEach(d),this.h()},h(){f(r,"class","opacity-60 grayscale"),f(i,"class","text-lg"),f(e,"class","flex flex-col items-center gap-4")},m(c,u){T(c,e,u),h(e,r),B(t,r,null),h(e,n),h(e,i),h(i,s),o=!0},p(c,[u]){(!o||u&1)&&a!==(a=c[0].states.emptyContactList()+"")&&Y(s,a)},i(c){o||(S(t.$$.fragment,c),o=!0)},o(c){D(t.$$.fragment,c),o=!1},d(c){c&&d(e),O(t)}}}function vr(l,e,r){let t;return me(l,Ce,n=>r(0,t=n)),[t]}class br extends ee{constructor(e){super(),te(this,e,vr,_r,x,{})}}function gr(l){let e,r,t,n,i,a="Oops... üêûüò¨",s;return t=new cr({props:{size:"m"}}),{c(){e=_("div"),r=_("div"),R(t.$$.fragment),n=N(),i=_("p"),i.textContent=a,this.h()},l(o){e=v(o,"DIV",{class:!0});var c=b(e);r=v(c,"DIV",{class:!0});var u=b(r);q(t.$$.fragment,u),u.forEach(d),n=P(c),i=v(c,"P",{class:!0,"data-svelte-h":!0}),_e(i)!=="svelte-8g485"&&(i.textContent=a),c.forEach(d),this.h()},h(){f(r,"class","opacity-60 grayscale"),f(i,"class","text-lg"),f(e,"class","flex flex-col items-center gap-4")},m(o,c){T(o,e,c),h(e,r),B(t,r,null),h(e,n),h(e,i),s=!0},p:X,i(o){s||(S(t.$$.fragment,o),s=!0)},o(o){D(t.$$.fragment,o),s=!1},d(o){o&&d(e),O(t)}}}class wr extends ee{constructor(e){super(),te(this,e,null,gr,x,{})}}function yr(l){let e,r,t,n;return t=new mr({props:{size:"m"}}),{c(){e=_("div"),r=_("div"),R(t.$$.fragment),this.h()},l(i){e=v(i,"DIV",{class:!0});var a=b(e);r=v(a,"DIV",{class:!0});var s=b(r);q(t.$$.fragment,s),s.forEach(d),a.forEach(d),this.h()},h(){f(r,"class","opacity-60 grayscale"),f(e,"class","flex flex-col items-center")},m(i,a){T(i,e,a),h(e,r),B(t,r,null),n=!0},p:X,i(i){n||(S(t.$$.fragment,i),n=!0)},o(i){D(t.$$.fragment,i),n=!1},d(i){i&&d(e),O(t)}}}class kr extends ee{constructor(e){super(),te(this,e,null,yr,x,{})}}function fl(l,e,r){const t=l.slice();return t[2]=e[r],t}function dl(l){let e,r,t,n=l[2].value+"",i,a,s,o=l[2].type+"",c,u;return{c(){e=_("div"),r=_("div"),t=_("p"),i=G(n),a=N(),s=_("p"),c=G(o),u=N(),this.h()},l(p){e=v(p,"DIV",{id:!0});var m=b(e);r=v(m,"DIV",{class:!0});var y=b(r);t=v(y,"P",{class:!0});var C=b(t);i=J(C,n),C.forEach(d),a=P(y),s=v(y,"P",{});var g=b(s);c=J(g,o),g.forEach(d),y.forEach(d),u=P(m),m.forEach(d),this.h()},h(){f(t,"class","font-bold"),f(r,"class","flex flex-col"),f(e,"id","phone")},m(p,m){T(p,e,m),h(e,r),h(r,t),h(t,i),h(r,a),h(r,s),h(s,c),h(e,u)},p(p,m){m&1&&n!==(n=p[2].value+"")&&Y(i,n),m&1&&o!==(o=p[2].type+"")&&Y(c,o)},d(p){p&&d(e)}}}function $r(l){var jt;let e,r,t,n,i=l[0].name.split(" ").reduce(hl,"")+"",a,s,o,c,u=l[0].name+"",p,m,y,C=l[0].gender+"",g,w,k,V,I=l[1].contactInformation.personalInformation()+"",L,M,K,Q,z,j,F,A='<svg width="24" height="24" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" fill-rule="evenodd" d="M14.95 3.684L8.637 8.912a1 1 0 0 1-1.276 0l-6.31-5.228A.999.999 0 0 0 1 4v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4a.999.999 0 0 0-.05-.316M2 2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m-.21 1l5.576 4.603a1 1 0 0 0 1.27.003L14.268 3z"></path></svg>',W,$,E,U=l[0].email+"",Z,ie,re,ce,ve='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M6.998 1.998h2.004v2.004H6.998zm4 0h2.004v2.004h-2.004zm4 0h2.004v2.004h-2.004zM9 5v5h2V5h2v5h2V5h2v5h4v10h2v2H1v-2h2V10h4V5zm-4 7v3h1.162L9 15.946l3-1l3 1L17.838 15H19v-3zm14 5h-.838L15 18.054l-3-1l-3 1L5.838 17H5v3h14z"></path></svg>',ge,be,ye,Ve=(((jt=l[0].birthDate)==null?void 0:jt.toDateString())??"-")+"",Ae,Je,De,Te=l[1].contactInformation.birthday()+"",H,vt,ke,ze,We=l[1].contactInformation.phoneNumbers()+"",rt,bt,Ze,gt,Ne,Ie,Fe,Ot='<svg width="24" height="24" viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M39.156 50.934c4.078 0 6.774-1.102 9.164-3.774c.188-.187.352-.398.54-.586c1.406-1.57 2.062-3.117 2.062-4.593c0-1.688-.984-3.258-3.07-4.712l-6.82-4.734c-2.11-1.453-4.571-1.617-6.54.328l-1.804 1.805c-.54.539-1.008.563-1.547.234c-1.242-.797-3.797-3.023-5.532-4.757c-1.828-1.805-3.609-3.82-4.523-5.297c-.328-.54-.281-.985.258-1.524l1.781-1.805c1.969-1.968 1.805-4.453.352-6.538l-4.758-6.82c-1.43-2.087-3-3.048-4.688-3.071c-1.476-.024-3.023.656-4.593 2.062c-.211.188-.399.352-.61.516c-2.648 2.39-3.75 5.086-3.75 9.14c0 6.704 4.125 14.86 11.696 22.43c7.523 7.524 15.703 11.696 22.382 11.696m.024-3.61c-5.977.117-13.64-4.476-19.711-10.523c-6.117-6.094-10.922-14.016-10.805-19.992c.047-2.579.938-4.805 2.79-6.399c.14-.14.28-.258.444-.375c.68-.61 1.454-.937 2.11-.937c.703 0 1.312.257 1.758.96l4.547 6.82c.492.727.539 1.548-.188 2.274l-2.062 2.063c-1.641 1.617-1.5 3.586-.328 5.156c1.335 1.805 3.656 4.43 5.437 6.211c1.805 1.805 4.64 4.336 6.445 5.695c1.57 1.172 3.563 1.29 5.18-.328l2.062-2.062c.727-.727 1.524-.68 2.25-.211l6.82 4.547c.704.468.985 1.054.985 1.758c0 .68-.328 1.43-.96 2.132a5.82 5.82 0 0 1-.352.446c-1.617 1.828-3.844 2.718-6.422 2.765"></path></svg>',wt,Pe,yt,$e,He,Xe=l[1].contactInformation.addresses()+"",it,kt,Ye,$t,Se,Ut='<div id="email" class="flex flex-row gap-2"><div><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M12 3a7 7 0 0 0-7 7c0 2.862 1.782 5.623 3.738 7.762A26.158 26.158 0 0 0 12 20.758a26.14 26.14 0 0 0 3.262-2.994C17.218 15.623 19 12.863 19 10a7 7 0 0 0-7-7m0 20.214l-.567-.39l-.003-.002l-.006-.005l-.02-.014l-.075-.053a25.34 25.34 0 0 1-1.214-.94a28.157 28.157 0 0 1-2.853-2.698C5.218 16.876 3 13.637 3 10a9 9 0 0 1 18 0c0 3.637-2.218 6.877-4.262 9.112a28.145 28.145 0 0 1-3.796 3.44a16.794 16.794 0 0 1-.345.251l-.021.014l-.006.005l-.002.001zM12 8a2 2 0 1 0 0 4a2 2 0 0 0 0-4m-4 2a4 4 0 1 1 8 0a4 4 0 0 1-8 0"></path></svg></div> <div class="flex flex-col"><p class="font-bold">TODO</p> <p>TODO</p></div></div>',Re=he(l[0].phoneNumbers),ue=[];for(let le=0;le<Re.length;le+=1)ue[le]=dl(fl(l,Re,le));return{c(){e=_("div"),r=_("div"),t=_("div"),n=_("span"),a=G(i),s=N(),o=_("div"),c=_("p"),p=G(u),m=N(),y=_("p"),g=G(C),w=N(),k=_("div"),V=_("p"),L=G(I),M=N(),K=_("div"),Q=N(),z=_("div"),j=_("div"),F=_("div"),F.innerHTML=A,W=N(),$=_("div"),E=_("p"),Z=G(U),ie=N(),re=_("div"),ce=_("div"),ce.innerHTML=ve,ge=N(),be=_("div"),ye=_("p"),Ae=G(Ve),Je=N(),De=_("p"),H=G(Te),vt=N(),ke=_("div"),ze=_("p"),rt=G(We),bt=N(),Ze=_("div"),gt=N(),Ne=_("div"),Ie=_("div"),Fe=_("div"),Fe.innerHTML=Ot,wt=N(),Pe=_("div");for(let le=0;le<ue.length;le+=1)ue[le].c();yt=N(),$e=_("div"),He=_("p"),it=G(Xe),kt=N(),Ye=_("div"),$t=N(),Se=_("div"),Se.innerHTML=Ut,this.h()},l(le){e=v(le,"DIV",{class:!0});var ae=b(e);r=v(ae,"DIV",{class:!0});var we=b(r);t=v(we,"DIV",{class:!0});var pe=b(t);n=v(pe,"SPAN",{class:!0});var Qe=b(n);a=J(Qe,i),Qe.forEach(d),pe.forEach(d),s=P(we),o=v(we,"DIV",{class:!0});var at=b(o);c=v(at,"P",{class:!0});var Gt=b(c);p=J(Gt,u),Gt.forEach(d),m=P(at),y=v(at,"P",{class:!0});var Jt=b(y);g=J(Jt,C),Jt.forEach(d),at.forEach(d),we.forEach(d),w=P(ae),k=v(ae,"DIV",{class:!0});var qe=b(k);V=v(qe,"P",{class:!0});var Wt=b(V);L=J(Wt,I),Wt.forEach(d),M=P(qe),K=v(qe,"DIV",{class:!0}),b(K).forEach(d),Q=P(qe),z=v(qe,"DIV",{id:!0,class:!0});var st=b(z);j=v(st,"DIV",{id:!0,class:!0});var ot=b(j);F=v(ot,"DIV",{"data-svelte-h":!0}),_e(F)!=="svelte-5sgduc"&&(F.innerHTML=A),W=P(ot),$=v(ot,"DIV",{class:!0});var Zt=b($);E=v(Zt,"P",{class:!0});var Xt=b(E);Z=J(Xt,U),Xt.forEach(d),Zt.forEach(d),ot.forEach(d),ie=P(st),re=v(st,"DIV",{id:!0,class:!0});var ct=b(re);ce=v(ct,"DIV",{"data-svelte-h":!0}),_e(ce)!=="svelte-wngxr8"&&(ce.innerHTML=ve),ge=P(ct),be=v(ct,"DIV",{class:!0});var ut=b(be);ye=v(ut,"P",{class:!0});var Yt=b(ye);Ae=J(Yt,Ve),Yt.forEach(d),Je=P(ut),De=v(ut,"P",{});var Qt=b(De);H=J(Qt,Te),Qt.forEach(d),ut.forEach(d),ct.forEach(d),st.forEach(d),qe.forEach(d),vt=P(ae),ke=v(ae,"DIV",{class:!0});var Be=b(ke);ze=v(Be,"P",{class:!0});var xt=b(ze);rt=J(xt,We),xt.forEach(d),bt=P(Be),Ze=v(Be,"DIV",{class:!0}),b(Ze).forEach(d),gt=P(Be),Ne=v(Be,"DIV",{id:!0,class:!0});var el=b(Ne);Ie=v(el,"DIV",{class:!0});var ft=b(Ie);Fe=v(ft,"DIV",{"data-svelte-h":!0}),_e(Fe)!=="svelte-jvl1rq"&&(Fe.innerHTML=Ot),wt=P(ft),Pe=v(ft,"DIV",{class:!0});var tl=b(Pe);for(let Ct=0;Ct<ue.length;Ct+=1)ue[Ct].l(tl);tl.forEach(d),ft.forEach(d),el.forEach(d),Be.forEach(d),yt=P(ae),$e=v(ae,"DIV",{class:!0});var Oe=b($e);He=v(Oe,"P",{class:!0});var ll=b(He);it=J(ll,Xe),ll.forEach(d),kt=P(Oe),Ye=v(Oe,"DIV",{class:!0}),b(Ye).forEach(d),$t=P(Oe),Se=v(Oe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),_e(Se)!=="svelte-f1kuvr"&&(Se.innerHTML=Ut),Oe.forEach(d),ae.forEach(d),this.h()},h(){f(n,"class","text-2xl"),f(t,"class","avatar h-20 w-20"),f(c,"class","text-2xl font-extrabold"),f(y,"class","text-lg"),f(o,"class","flex flex-col items-center"),f(r,"class","flex flex-col gap-2 items-center"),f(V,"class","text-xl font-bold"),f(K,"class","divider divider-horizontal"),f(E,"class","font-bold"),f($,"class","flex flex-col"),f(j,"id","email"),f(j,"class","flex flex-row gap-2"),f(ye,"class","font-bold"),f(be,"class","flex flex-col"),f(re,"id","birthDate"),f(re,"class","flex flex-row gap-2"),f(z,"id","personal-info"),f(z,"class","grid grid-cols-2 px-5"),f(k,"class","py-10"),f(ze,"class","text-xl font-bold"),f(Ze,"class","divider divider-horizontal"),f(Pe,"class","flex flex-col gap-3"),f(Ie,"class","flex flex-row gap-2"),f(Ne,"id","phone-numbers"),f(Ne,"class","flex flex-col gap-4 px-5"),f(ke,"class","py-10"),f(He,"class","text-xl font-bold"),f(Ye,"class","divider divider-horizontal"),f(Se,"id","addresses"),f(Se,"class","flex flex-col gap-4 px-5"),f($e,"class","py-10"),f(e,"class","pt-5 overflow-auto grow")},m(le,ae){T(le,e,ae),h(e,r),h(r,t),h(t,n),h(n,a),h(r,s),h(r,o),h(o,c),h(c,p),h(o,m),h(o,y),h(y,g),h(e,w),h(e,k),h(k,V),h(V,L),h(k,M),h(k,K),h(k,Q),h(k,z),h(z,j),h(j,F),h(j,W),h(j,$),h($,E),h(E,Z),h(z,ie),h(z,re),h(re,ce),h(re,ge),h(re,be),h(be,ye),h(ye,Ae),h(be,Je),h(be,De),h(De,H),h(e,vt),h(e,ke),h(ke,ze),h(ze,rt),h(ke,bt),h(ke,Ze),h(ke,gt),h(ke,Ne),h(Ne,Ie),h(Ie,Fe),h(Ie,wt),h(Ie,Pe);for(let we=0;we<ue.length;we+=1)ue[we]&&ue[we].m(Pe,null);h(e,yt),h(e,$e),h($e,He),h(He,it),h($e,kt),h($e,Ye),h($e,$t),h($e,Se)},p(le,[ae]){var we;if(ae&1&&i!==(i=le[0].name.split(" ").reduce(hl,"")+"")&&Y(a,i),ae&1&&u!==(u=le[0].name+"")&&Y(p,u),ae&1&&C!==(C=le[0].gender+"")&&Y(g,C),ae&2&&I!==(I=le[1].contactInformation.personalInformation()+"")&&Y(L,I),ae&1&&U!==(U=le[0].email+"")&&Y(Z,U),ae&1&&Ve!==(Ve=(((we=le[0].birthDate)==null?void 0:we.toDateString())??"-")+"")&&Y(Ae,Ve),ae&2&&Te!==(Te=le[1].contactInformation.birthday()+"")&&Y(H,Te),ae&2&&We!==(We=le[1].contactInformation.phoneNumbers()+"")&&Y(rt,We),ae&1){Re=he(le[0].phoneNumbers);let pe;for(pe=0;pe<Re.length;pe+=1){const Qe=fl(le,Re,pe);ue[pe]?ue[pe].p(Qe,ae):(ue[pe]=dl(Qe),ue[pe].c(),ue[pe].m(Pe,null))}for(;pe<ue.length;pe+=1)ue[pe].d(1);ue.length=Re.length}ae&2&&Xe!==(Xe=le[1].contactInformation.addresses()+"")&&Y(it,Xe)},i:X,o:X,d(le){le&&d(e),Le(ue,le)}}}const hl=(l,e)=>`${l}${e.charAt(0)}`;function Cr(l,e,r){let t;me(l,Ce,i=>r(1,t=i));let{contact:n}=e;return l.$$set=i=>{"contact"in i&&r(0,n=i.contact)},[n,t]}class Er extends ee{constructor(e){super(),te(this,e,Cr,$r,x,{contact:0})}}function Ir(l){let e,r,t,n='<svg width="24" height="24" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M8.195 0c4.527 0 8.196 3.62 8.196 8.084a7.989 7.989 0 0 1-1.977 5.267l5.388 5.473a.686.686 0 0 1-.015.98a.71.71 0 0 1-.993-.014l-5.383-5.47a8.23 8.23 0 0 1-5.216 1.849C3.67 16.169 0 12.549 0 8.084C0 3.62 3.67 0 8.195 0m0 1.386c-3.75 0-6.79 2.999-6.79 6.698c0 3.7 3.04 6.699 6.79 6.699s6.791-3 6.791-6.699c0-3.7-3.04-6.698-6.79-6.698"></path></svg>',i,a,s,o,c;return{c(){e=_("div"),r=_("div"),t=_("div"),t.innerHTML=n,i=N(),a=_("input"),this.h()},l(u){e=v(u,"DIV",{class:!0});var p=b(e);r=v(p,"DIV",{class:!0});var m=b(r);t=v(m,"DIV",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-1acvcya"&&(t.innerHTML=n),i=P(m),a=v(m,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),m.forEach(d),p.forEach(d),this.h()},h(){f(t,"class","grid place-items-center h-full w-12 ml-2 text-white"),f(a,"class","peer h-full w-full outline-none text-sm text-white pr-2 bg-gray-800"),f(a,"type","text"),f(a,"id","contacts-search-bar"),f(a,"placeholder",s=l[2].searchBarPlaceholder()),a.disabled=l[1],f(r,"class","relative flex items-center w-full h-12 rounded-3xl focus-within:shadow-lg overflow-hidden bg-gray-800"),f(e,"class","max-w-md")},m(u,p){T(u,e,p),h(e,r),h(r,t),h(r,i),h(r,a),je(a,l[0]),o||(c=se(a,"input",l[3]),o=!0)},p(u,[p]){p&4&&s!==(s=u[2].searchBarPlaceholder())&&f(a,"placeholder",s),p&2&&(a.disabled=u[1]),p&1&&a.value!==u[0]&&je(a,u[0])},i:X,o:X,d(u){u&&d(e),o=!1,c()}}}function Sr(l,e,r){let t;me(l,Ce,s=>r(2,t=s));let{value:n}=e,{disabled:i=!1}=e;function a(){n=this.value,r(0,n)}return l.$$set=s=>{"value"in s&&r(0,n=s.value),"disabled"in s&&r(1,i=s.disabled)},[n,i,t,a]}class Lr extends ee{constructor(e){super(),te(this,e,Sr,Ir,x,{value:0,disabled:1})}}function Vr(l){let e,r,t,n,i=l[0].name.split(" ").reduce(pl,"")+"",a,s,o,c,u,p=l[0].name+"",m,y,C,g=l[0].gender+"",w,k,V;return{c(){e=_("a"),r=_("div"),t=_("div"),n=_("span"),a=G(i),s=N(),o=_("div"),c=_("p"),u=_("b"),m=G(p),y=N(),C=_("p"),w=G(g),this.h()},l(I){e=v(I,"A",{href:!0});var L=b(e);r=v(L,"DIV",{class:!0});var M=b(r);t=v(M,"DIV",{class:!0});var K=b(t);n=v(K,"SPAN",{class:!0});var Q=b(n);a=J(Q,i),Q.forEach(d),K.forEach(d),s=P(M),o=v(M,"DIV",{class:!0});var z=b(o);c=v(z,"P",{});var j=b(c);u=v(j,"B",{});var F=b(u);m=J(F,p),F.forEach(d),j.forEach(d),y=P(z),C=v(z,"P",{});var A=b(C);w=J(A,g),A.forEach(d),z.forEach(d),M.forEach(d),L.forEach(d),this.h()},h(){f(n,"class","text-lg"),f(t,"class","avatar ml-1"),f(o,"class","flex flex-col my-1"),f(r,"class","flex flex-row gap-4 items-center hover:rounded-xl hover:bg-slate-800 hover:cli"),f(e,"href","#top")},m(I,L){T(I,e,L),h(e,r),h(r,t),h(t,n),h(n,a),h(r,s),h(r,o),h(o,c),h(c,u),h(u,m),h(o,y),h(o,C),h(C,w),k||(V=se(e,"click",function(){Ge(l[1])&&l[1].apply(this,arguments)}),k=!0)},p(I,[L]){l=I,L&1&&i!==(i=l[0].name.split(" ").reduce(pl,"")+"")&&Y(a,i),L&1&&p!==(p=l[0].name+"")&&Y(m,p),L&1&&g!==(g=l[0].gender+"")&&Y(w,g)},i:X,o:X,d(I){I&&d(e),k=!1,V()}}}const pl=(l,e)=>`${l}${e.charAt(0)}`;function Dr(l,e,r){let{contact:t}=e,{onClick:n}=e;return l.$$set=i=>{"contact"in i&&r(0,t=i.contact),"onClick"in i&&r(1,n=i.onClick)},[t,n]}class Tr extends ee{constructor(e){super(),te(this,e,Dr,Vr,x,{contact:0,onClick:1})}}function ml(l,e,r){const t=l.slice();return t[3]=e[r],t}function _l(l){let e,r,t,n;function i(){return l[2](l[3])}return r=new Tr({props:{contact:l[3],onClick:i}}),{c(){e=_("li"),R(r.$$.fragment),t=N(),this.h()},l(a){e=v(a,"LI",{class:!0});var s=b(e);q(r.$$.fragment,s),t=P(s),s.forEach(d),this.h()},h(){f(e,"class","px-4 py-3")},m(a,s){T(a,e,s),B(r,e,null),h(e,t),n=!0},p(a,s){l=a;const o={};s&1&&(o.contact=l[3]),s&3&&(o.onClick=i),r.$set(o)},i(a){n||(S(r.$$.fragment,a),n=!0)},o(a){D(r.$$.fragment,a),n=!1},d(a){a&&d(e),O(r)}}}function Nr(l){let e,r,t=he(l[0]),n=[];for(let a=0;a<t.length;a+=1)n[a]=_l(ml(l,t,a));const i=a=>D(n[a],1,1,()=>{n[a]=null});return{c(){e=_("ul");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=v(a,"UL",{class:!0});var s=b(e);for(let o=0;o<n.length;o+=1)n[o].l(s);s.forEach(d),this.h()},h(){f(e,"class","overflow-auto grow")},m(a,s){T(a,e,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null);r=!0},p(a,[s]){if(s&3){t=he(a[0]);let o;for(o=0;o<t.length;o+=1){const c=ml(a,t,o);n[o]?(n[o].p(c,s),S(n[o],1)):(n[o]=_l(c),n[o].c(),S(n[o],1),n[o].m(e,null))}for(fe(),o=t.length;o<n.length;o+=1)i(o);de()}},i(a){if(!r){for(let s=0;s<t.length;s+=1)S(n[s]);r=!0}},o(a){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)D(n[s]);r=!1},d(a){a&&d(e),Le(n,a)}}}function Pr(l,e,r){let{contactsList:t}=e,{onContactSelected:n}=e;const i=a=>n(a);return l.$$set=a=>{"contactsList"in a&&r(0,t=a.contactsList),"onContactSelected"in a&&r(1,n=a.onContactSelected)},[t,n,i]}class Mr extends ee{constructor(e){super(),te(this,e,Pr,Nr,x,{contactsList:0,onContactSelected:1})}}function Kr(l){let e,r,t;return r=new rn({}),{c(){e=_("div"),R(r.$$.fragment),this.h()},l(n){e=v(n,"DIV",{class:!0});var i=b(e);q(r.$$.fragment,i),i.forEach(d),this.h()},h(){f(e,"class","flex grow items-center justify-center")},m(n,i){T(n,e,i),B(r,e,null),t=!0},p:X,i(n){t||(S(r.$$.fragment,n),t=!0)},o(n){D(r.$$.fragment,n),t=!1},d(n){n&&d(e),O(r)}}}function Ar(l){let e,r;return e=new Mr({props:{contactsList:l[5],onContactSelected:l[1]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,n){const i={};n&32&&(i.contactsList=t[5]),n&2&&(i.onContactSelected=t[1]),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function zr(l){let e,r,t,n,i,a,s,o,c,u,p,m,y;function C(I){l[11](I)}let g={disabled:l[2]};l[3]!==void 0&&(g.value=l[3]),n=new Lr({props:g}),nt.push(()=>tn(n,"value",C)),s=new zn({props:{values:l[4].filter(vl).map(bl),onClick:l[12]}});const w=[Ar,Kr],k=[];function V(I,L){return I[5].length>0||I[0].length===0?0:1}return c=V(l),u=k[c]=w[c](l),{c(){e=_("div"),r=_("div"),t=_("div"),R(n.$$.fragment),a=N(),R(s.$$.fragment),o=N(),u.c(),p=N(),m=_("div"),this.h()},l(I){e=v(I,"DIV",{class:!0});var L=b(e);r=v(L,"DIV",{class:!0});var M=b(r);t=v(M,"DIV",{class:!0});var K=b(t);q(n.$$.fragment,K),K.forEach(d),a=P(M),q(s.$$.fragment,M),M.forEach(d),o=P(L),u.l(L),L.forEach(d),p=P(I),m=v(I,"DIV",{class:!0}),b(m).forEach(d),this.h()},h(){f(t,"class","flex-grow mx-4"),f(r,"class","flex flex-row justify-between items-center"),f(e,"class","flex flex-col grow gap-4 my-4"),f(m,"class","divider divider-vertical w-min")},m(I,L){T(I,e,L),h(e,r),h(r,t),B(n,t,null),h(r,a),B(s,r,null),h(e,o),k[c].m(e,null),T(I,p,L),T(I,m,L),y=!0},p(I,[L]){const M={};L&4&&(M.disabled=I[2]),!i&&L&8&&(i=!0,M.value=I[3],xl(()=>i=!1)),n.$set(M);const K={};L&16&&(K.values=I[4].filter(vl).map(bl)),L&16&&(K.onClick=I[12]),s.$set(K);let Q=c;c=V(I),c===Q?k[c].p(I,L):(fe(),D(k[Q],1,1,()=>{k[Q]=null}),de(),u=k[c],u?u.p(I,L):(u=k[c]=w[c](I),u.c()),S(u,1),u.m(e,null))},i(I){y||(S(n.$$.fragment,I),S(s.$$.fragment,I),S(u),y=!0)},o(I){D(n.$$.fragment,I),D(s.$$.fragment,I),D(u),y=!1},d(I){I&&(d(e),d(p),d(m)),O(n),O(s),k[c].d()}}}const vl=l=>!l.disabled,bl=l=>l.option;function Fr(l,e,r){let t,n,i,a,s,o;me(l,Ce,w=>r(10,o=w));let{contactsList:c}=e,{readonly:u}=e,{onContactSelected:p}=e,{onShareSelected:m}=e,{onGenerateKeyPairSelected:y}=e;function C(w){t=w,r(3,t)}const g=w=>{var k;return(k=s.find(V=>V.option===w))==null?void 0:k.callback()};return l.$$set=w=>{"contactsList"in w&&r(0,c=w.contactsList),"readonly"in w&&r(6,u=w.readonly),"onContactSelected"in w&&r(1,p=w.onContactSelected),"onShareSelected"in w&&r(7,m=w.onShareSelected),"onGenerateKeyPairSelected"in w&&r(8,y=w.onGenerateKeyPairSelected)},l.$$.update=()=>{l.$$.dirty&8&&r(9,n=new RegExp(t,"i")),l.$$.dirty&513&&r(5,i=c.filter(w=>n.test(w.name))),l.$$.dirty&1&&r(2,a=c.length===0),l.$$.dirty&1476&&r(4,s=[{option:o.share().toString(),callback:m,disabled:a||u},{option:o.generateKeyPair().toString(),callback:y,disabled:!1}])},r(3,t=""),[c,p,a,t,s,i,u,m,y,n,o,C,g]}class Hr extends ee{constructor(e){super(),te(this,e,Fr,zr,x,{contactsList:0,readonly:6,onContactSelected:1,onShareSelected:7,onGenerateKeyPairSelected:8})}}function gl(l){let e,r;return e=new Ul({props:{value:{title:l[17].title(),subtitle:l[17].subtitle(),action:[l[17].action(),l[25]],error:l[2].error}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,n){const i={};n[0]&5&&(i.value={title:t[17].title(),subtitle:t[17].subtitle(),action:[t[17].action(),t[25]],error:t[2].error}),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function Rr(l){let e,r,t;return r=new br({}),{c(){e=_("div"),R(r.$$.fragment),this.h()},l(n){e=v(n,"DIV",{class:!0});var i=b(e);q(r.$$.fragment,i),i.forEach(d),this.h()},h(){f(e,"class","flex grow items-center justify-center")},m(n,i){T(n,e,i),B(r,e,null),t=!0},p:X,i(n){t||(S(r.$$.fragment,n),t=!0)},o(n){D(r.$$.fragment,n),t=!1},d(n){n&&d(e),O(r)}}}function qr(l){let e,r;return e=new Er({props:{contact:l[4]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,n){const i={};n[0]&16&&(i.contact=t[4]),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function Br(l){let e,r;return e=new Yn({props:{value:{title:l[16].title(),subtitle:l[16].subtitle(),message:l[2].url.toString(),action:[l[16].action(),l[27]]}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,n){const i={};n[0]&4&&(i.value={title:t[16].title(),subtitle:t[16].subtitle(),message:t[2].url.toString(),action:[t[16].action(),t[27]]}),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function Or(l){let e,r;return e=new qt({props:{form:l[5].value,onSubmit:l[26]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,n){const i={};n[0]&32&&(i.form=t[5].value),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function Ur(l){let e,r,t,n,i,a;const s=[Or,Br],o=[];function c(u,p){return p[0]&32&&(e=null),p[0]&36&&(r=null),e==null&&(e=!!lt(u[5])),e?0:(r==null&&(r=!!(ht(u[5])&&Jl(u[2]))),r?1:-1)}return~(t=c(l,[-1,-1]))&&(n=o[t]=s[t](l)),{c(){n&&n.c(),i=ne()},l(u){n&&n.l(u),i=ne()},m(u,p){~t&&o[t].m(u,p),T(u,i,p),a=!0},p(u,p){let m=t;t=c(u,p),t===m?~t&&o[t].p(u,p):(n&&(fe(),D(o[m],1,1,()=>{o[m]=null}),de()),~t?(n=o[t],n?n.p(u,p):(n=o[t]=s[t](u),n.c()),S(n,1),n.m(i.parentNode,i)):n=null)},i(u){a||(S(n),a=!0)},o(u){D(n),a=!1},d(u){u&&d(i),~t&&o[t].d(u)}}}function wl(l){let e,r;return e=new qt({props:{form:l[6].value,onSubmit:l[29]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,n){const i={};n[0]&64&&(i.form=t[6].value),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function jr(l){let e=lt(l[6]),r,t,n=e&&wl(l);return{c(){n&&n.c(),r=ne()},l(i){n&&n.l(i),r=ne()},m(i,a){n&&n.m(i,a),T(i,r,a),t=!0},p(i,a){a[0]&64&&(e=lt(i[6])),e?n?(n.p(i,a),a[0]&64&&S(n,1)):(n=wl(i),n.c(),S(n,1),n.m(r.parentNode,r)):n&&(fe(),D(n,1,1,()=>{n=null}),de())},i(i){t||(S(n),t=!0)},o(i){D(n),t=!1},d(i){i&&d(r),n&&n.d(i)}}}function Gr(l){let e,r;return e=new Ul({props:{value:{title:l[15].title(),subtitle:l[15].subtitle(),action:[l[15].action(),l[32]],error:l[7].value},$$slots:{default:[Wr]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,n){const i={};n[0]&128&&(i.value={title:t[15].title(),subtitle:t[15].subtitle(),action:[t[15].action(),t[32]],error:t[7].value}),n[1]&512&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function Jr(l){let e,r;return e=new ar({props:{value:{title:l[14].title(),subtitle:l[14].subtitle(),tabs:[{tab:l[14].tabs.public(),value:l[7].value.public.toString()},{tab:l[14].tabs.private(),value:l[7].value.private.toString()}],action:[l[14].action(),l[31]]}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,n){const i={};n[0]&128&&(i.value={title:t[14].title(),subtitle:t[14].subtitle(),tabs:[{tab:t[14].tabs.public(),value:t[7].value.public.toString()},{tab:t[14].tabs.private(),value:t[7].value.private.toString()}],action:[t[14].action(),t[31]]}),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function Wr(l){let e,r;return e=new kr({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function Zr(l){let e,r,t,n,i,a;const s=[Jr,Gr],o=[];function c(u,p){return p[0]&128&&(e=null),p[0]&128&&(r=null),e==null&&(e=!!Oi(u[7])),e?0:(r==null&&(r=!!Ui(u[7])),r?1:-1)}return~(t=c(l,[-1,-1]))&&(n=o[t]=s[t](l)),{c(){n&&n.c(),i=ne()},l(u){n&&n.l(u),i=ne()},m(u,p){~t&&o[t].m(u,p),T(u,i,p),a=!0},p(u,p){let m=t;t=c(u,p),t===m?~t&&o[t].p(u,p):(n&&(fe(),D(o[m],1,1,()=>{o[m]=null}),de()),~t?(n=o[t],n?n.p(u,p):(n=o[t]=s[t](u),n.c()),S(n,1),n.m(i.parentNode,i)):n=null)},i(u){a||(S(n),a=!0)},o(u){D(n),a=!1},d(u){u&&d(i),~t&&o[t].d(u)}}}function yl(l){let e,r;return e=new qt({props:{form:l[8].value,onSubmit:l[33]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,n){const i={};n[0]&256&&(i.form=t[8].value),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function Xr(l){let e=lt(l[8]),r,t,n=e&&yl(l);return{c(){n&&n.c(),r=ne()},l(i){n&&n.l(i),r=ne()},m(i,a){n&&n.m(i,a),T(i,r,a),t=!0},p(i,a){a[0]&256&&(e=lt(i[8])),e?n?(n.p(i,a),a[0]&256&&S(n,1)):(n=yl(i),n.c(),S(n,1),n.m(r.parentNode,r)):n&&(fe(),D(n,1,1,()=>{n=null}),de())},i(i){t||(S(n),t=!0)},o(i){D(n),t=!1},d(i){i&&d(r),n&&n.d(i)}}}function Yr(l){let e,r;return e=new jn({props:{onClick:l[37]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p:X,i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function Qr(l){let e,r,t,n;e=new En({props:{onClick:l[35]}});let i=l[3]&&kl(l);return{c(){R(e.$$.fragment),r=N(),i&&i.c(),t=ne()},l(a){q(e.$$.fragment,a),r=P(a),i&&i.l(a),t=ne()},m(a,s){B(e,a,s),T(a,r,s),i&&i.m(a,s),T(a,t,s),n=!0},p(a,s){a[3]?i?(i.p(a,s),s[0]&8&&S(i,1)):(i=kl(a),i.c(),S(i,1),i.m(t.parentNode,t)):i&&(fe(),D(i,1,1,()=>{i=null}),de())},i(a){n||(S(e.$$.fragment,a),S(i),n=!0)},o(a){D(e.$$.fragment,a),D(i),n=!1},d(a){a&&(d(r),d(t)),O(e,a),i&&i.d(a)}}}function kl(l){let e,r;return e=new Ln({props:{onClick:l[36]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,n){const i={};n[0]&1&&(i.onClick=t[36]),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function xr(l){let e,r,t,n,i=Hl(l[2]),a,s,o,c,u,p,m,y,C,g,w,k,V,I,L,M;t=new Hr({props:{contactsList:l[1],readonly:l[2].readonly,onContactSelected:l[22],onShareSelected:l[23],onGenerateKeyPairSelected:l[24]}});let K=i&&gl(l);const Q=[qr,Rr],z=[];function j($,E){return $[4]?0:1}s=j(l),o=z[s]=Q[s](l),u=new tt({props:{reactor:l[9],listener:l[28],$$slots:{default:[Ur]},$$scope:{ctx:l}}}),m=new tt({props:{reactor:l[11],listener:l[30],$$slots:{default:[jr]},$$scope:{ctx:l}}}),C=new tt({props:{reactor:l[12],$$slots:{default:[Zr]},$$scope:{ctx:l}}}),w=new tt({props:{reactor:l[10],listener:l[34],$$slots:{default:[Xr]},$$scope:{ctx:l}}});const F=[Qr,Yr],A=[];function W($,E){return $[2].readonly?1:0}return I=W(l),L=A[I]=F[I](l),{c(){e=_("div"),r=_("div"),R(t.$$.fragment),n=N(),K&&K.c(),a=N(),o.c(),c=N(),R(u.$$.fragment),p=N(),R(m.$$.fragment),y=N(),R(C.$$.fragment),g=N(),R(w.$$.fragment),k=N(),V=_("div"),L.c(),this.h()},l($){e=v($,"DIV",{class:!0});var E=b(e);r=v(E,"DIV",{class:!0});var U=b(r);q(t.$$.fragment,U),U.forEach(d),n=P(E),K&&K.l(E),a=P(E),o.l(E),c=P(E),q(u.$$.fragment,E),p=P(E),q(m.$$.fragment,E),y=P(E),q(C.$$.fragment,E),g=P(E),q(w.$$.fragment,E),k=P(E),V=v(E,"DIV",{class:!0});var Z=b(V);L.l(Z),Z.forEach(d),E.forEach(d),this.h()},h(){f(r,"class","flex w-1/4"),f(V,"class","flex flex-col fixed bottom-10 right-8 gap-3"),f(e,"class","flex flex-row h-screen")},m($,E){T($,e,E),h(e,r),B(t,r,null),h(e,n),K&&K.m(e,null),h(e,a),z[s].m(e,null),h(e,c),B(u,e,null),h(e,p),B(m,e,null),h(e,y),B(C,e,null),h(e,g),B(w,e,null),h(e,k),h(e,V),A[I].m(V,null),M=!0},p($,E){const U={};E[0]&2&&(U.contactsList=$[1]),E[0]&4&&(U.readonly=$[2].readonly),E[0]&16&&(U.onContactSelected=$[22]),t.$set(U),E[0]&4&&(i=Hl($[2])),i?K?(K.p($,E),E[0]&4&&S(K,1)):(K=gl($),K.c(),S(K,1),K.m(e,a)):K&&(fe(),D(K,1,1,()=>{K=null}),de());let Z=s;s=j($),s===Z?z[s].p($,E):(fe(),D(z[Z],1,1,()=>{z[Z]=null}),de(),o=z[s],o?o.p($,E):(o=z[s]=Q[s]($),o.c()),S(o,1),o.m(e,c));const ie={};E[0]&1&&(ie.listener=$[28]),E[0]&36|E[1]&512&&(ie.$$scope={dirty:E,ctx:$}),u.$set(ie);const re={};E[0]&1&&(re.listener=$[30]),E[0]&64|E[1]&512&&(re.$$scope={dirty:E,ctx:$}),m.$set(re);const ce={};E[0]&128|E[1]&512&&(ce.$$scope={dirty:E,ctx:$}),C.$set(ce);const ve={};E[0]&1&&(ve.listener=$[34]),E[0]&256|E[1]&512&&(ve.$$scope={dirty:E,ctx:$}),w.$set(ve);let ge=I;I=W($),I===ge?A[I].p($,E):(fe(),D(A[ge],1,1,()=>{A[ge]=null}),de(),L=A[I],L?L.p($,E):(L=A[I]=F[I]($),L.c()),S(L,1),L.m(V,null))},i($){M||(S(t.$$.fragment,$),S(K),S(o),S(u.$$.fragment,$),S(m.$$.fragment,$),S(C.$$.fragment,$),S(w.$$.fragment,$),S(L),M=!0)},o($){D(t.$$.fragment,$),D(K),D(o),D(u.$$.fragment,$),D(m.$$.fragment,$),D(C.$$.fragment,$),D(w.$$.fragment,$),D(L),M=!1},d($){$&&d(e),O(t),K&&K.d(),z[s].d(),O(u),O(m),O(C),O(w),A[I].d()}}}function ei(l){let e,r;return e=new tt({props:{reactor:l[0],listener:l[38],$$slots:{default:[xr]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){B(e,t,n),r=!0},p(t,n){const i={};n[0]&1&&(i.reactor=t[0]),n[0]&511|n[1]&512&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){O(e,t)}}}function ti(l,e,r){let t,n,i,a,s=X,o=()=>(s(),s=en(C,H=>r(2,a=H)),C),c,u,p,m,y;me(l,Ce,H=>r(39,c=H)),l.$$.on_destroy.push(()=>s());let{contactsReactor:C}=e;o();const g=new ea(c);me(l,g,H=>r(5,u=H));const w=new Qi(c);me(l,w,H=>r(8,y=H));const k=new la(c);me(l,k,H=>r(6,p=H));const V=new ji;me(l,V,H=>r(7,m=H));const I=ql(ln),L=c.alert.generateKeyPair,M=c.alert.generatePublicKeyFailure,K=c.alert.sharedContactsList,Q=c.alert.initializationFailure,z=c.notification.saveFailed,j=c.notification.shareFailed,F=c.notification.missingPublicKey,A=c.notification.importPublicKeyFailed,W=H=>r(4,n=H),$=()=>{g.reset(),dt(()=>g.add(St()))},E=()=>{V.reset(),dt(()=>V.add(Fi()))},U=()=>{C.reset()},Z=H=>{g.add(Lt(H))},ie=()=>{g.reset()},re=H=>{ht(H)&&C.add(un(H.submission))},ce=H=>{k.add(Lt(H))},ve=H=>{ht(H)&&C.add(fn(H.submission))},ge=()=>{V.reset()},be=()=>{V.reset()},ye=H=>{w.add(Lt(H))},Ve=H=>{ht(H)&&C.add(cn(H.submission))},Ae=()=>{w.reset(),dt(()=>w.add(St()))},Je=()=>C.add(dn()),De=()=>{k.add(St())},Te=H=>{Di(H)?I.add(It(z.title(),z.message())):Ti(H)?I.add(It(j.title(),j.message())):Ni(H)?I.add(It(A.title(),A.message())):Vi(H)&&H.isMissingPublicKey&&I.add(nn(F.title(),F.message()))};return l.$$set=H=>{"contactsReactor"in H&&o(r(0,C=H.contactsReactor))},l.$$.update=()=>{l.$$.dirty[0]&4&&r(1,t=a.value),l.$$.dirty[0]&2&&r(4,n=t.at(-1)),l.$$.dirty[0]&4&&r(3,i=!Li(a)&&!Jl(a)&&a.value.length>0)},[C,t,a,i,n,u,p,m,y,g,w,k,V,I,L,M,K,Q,z,j,F,A,W,$,E,U,Z,ie,re,ce,ve,ge,be,ye,Ve,Ae,Je,De,Te]}class ha extends ee{constructor(e){super(),te(this,e,ti,ei,x,{contactsReactor:0},null,[-1,-1])}}function li(l){return!Rt(l)&&l.type==="list"}function Rt(l){return"types"in l}function Vt(l){return typeof l!="string"}function jl(l){return l==="area"}function $l(l){return l.type==="button"}function Cl(){return""}function Dt(l){return{id:`${new Date().getMilliseconds()}`,input:"",type:l.types.values[0]}}function ni(l){const e=l.additional,r=l.required;return{additional:new Map(e.map(t=>[t,"count"in t?Array(t.count).fill(Dt(t)):Cl()])),required:new Map(r.map(t=>[t,"count"in t?Array(t.count).fill(Dt(t)):Cl()]))}}function _t(l){switch(l){case"email":return"email";case"number":return"number";case"phone-number":return"tel";case"secret":return"password";case"date":return"date";case"raw":default:return"text"}}function El(l,e,r){const t=l.slice();t[12]=e[r];const n=t[1].get(t[12])??[];return t[13]=n,t}function Il(l,e,r){const t=l.slice();return t[16]=e[r],t[19]=e,t[20]=r,t}function Sl(l,e,r){const t=l.slice();return t[16]=e[r],t}function Ll(l,e,r){const t=l.slice();return t[16]=e[r],t}function ri(l){let e,r,t;function n(o,c){return c&1&&(e=null),e==null&&(e=!!jl(o[12].type)),e?oi:si}let i=n(l,-1),a=i(l),s=l[12].description&&Vl(l);return{c(){a.c(),r=N(),s&&s.c(),t=ne()},l(o){a.l(o),r=P(o),s&&s.l(o),t=ne()},m(o,c){a.m(o,c),T(o,r,c),s&&s.m(o,c),T(o,t,c)},p(o,c){i===(i=n(o,c))&&a?a.p(o,c):(a.d(1),a=i(o),a&&(a.c(),a.m(r.parentNode,r))),o[12].description?s?s.p(o,c):(s=Vl(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i:X,o:X,d(o){o&&(d(r),d(t)),a.d(o),s&&s.d(o)}}}function ii(l){let e=Vt(l[13]),r,t,n,i=e&&Dl(l),a=l[12].input.description&&Pl(l);return{c(){i&&i.c(),r=N(),a&&a.c(),t=ne()},l(s){i&&i.l(s),r=P(s),a&&a.l(s),t=ne()},m(s,o){i&&i.m(s,o),T(s,r,o),a&&a.m(s,o),T(s,t,o),n=!0},p(s,o){o&3&&(e=Vt(s[13])),e?i?(i.p(s,o),o&3&&S(i,1)):(i=Dl(s),i.c(),S(i,1),i.m(r.parentNode,r)):i&&(fe(),D(i,1,1,()=>{i=null}),de()),s[12].input.description?a?a.p(s,o):(a=Pl(s),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(s){n||(S(i),n=!0)},o(s){D(i),n=!1},d(s){s&&(d(r),d(t)),i&&i.d(s),a&&a.d(s)}}}function ai(l){let e,r,t,n,i,a,s,o,c=he(l[12].values),u=[];for(let y=0;y<c.length;y+=1)u[y]=Ml(Ll(l,c,y));function p(...y){return l[4](l[12],...y)}let m=l[12].description&&Kl(l);return{c(){e=_("select");for(let y=0;y<u.length;y+=1)u[y].c();i=N(),m&&m.c(),a=ne(),this.h()},l(y){e=v(y,"SELECT",{id:!0,placeholder:!0,class:!0});var C=b(e);for(let g=0;g<u.length;g+=1)u[g].l(C);C.forEach(d),i=P(y),m&&m.l(y),a=ne(),this.h()},h(){f(e,"id",r="input-"+l[12].id),f(e,"placeholder",t=l[12].placeholder),f(e,"class","select max-w-full"),e.required=l[3]},m(y,C){T(y,e,C);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(e,null);pt(e,l[12].placeholder),T(y,i,C),m&&m.m(y,C),T(y,a,C),s||(o=se(e,"input",p),s=!0)},p(y,C){if(l=y,C&1){c=he(l[12].values);let g;for(g=0;g<c.length;g+=1){const w=Ll(l,c,g);u[g]?u[g].p(w,C):(u[g]=Ml(w),u[g].c(),u[g].m(e,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=c.length}C&1&&r!==(r="input-"+l[12].id)&&f(e,"id",r),C&1&&t!==(t=l[12].placeholder)&&f(e,"placeholder",t),C&1&&n!==(n=l[12].placeholder)&&pt(e,l[12].placeholder),C&8&&(e.required=l[3]),l[12].description?m?m.p(l,C):(m=Kl(l),m.c(),m.m(a.parentNode,a)):m&&(m.d(1),m=null)},i:X,o:X,d(y){y&&(d(e),d(i),d(a)),Le(u,y),m&&m.d(y),s=!1,o()}}}function si(l){let e,r,t,n,i,a;function s(...o){return l[11](l[12],...o)}return{c(){e=_("input"),this.h()},l(o){e=v(o,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),this.h()},h(){f(e,"id",r="input-"+l[12].id),f(e,"placeholder",t=l[12].placeholder),f(e,"type",n=_t(l[12].type)),f(e,"class","input max-w-full"),e.required=l[3]},m(o,c){T(o,e,c),i||(a=se(e,"input",s),i=!0)},p(o,c){l=o,c&1&&r!==(r="input-"+l[12].id)&&f(e,"id",r),c&1&&t!==(t=l[12].placeholder)&&f(e,"placeholder",t),c&1&&n!==(n=_t(l[12].type))&&f(e,"type",n),c&8&&(e.required=l[3])},d(o){o&&d(e),i=!1,a()}}}function oi(l){let e,r,t,n,i;function a(...s){return l[10](l[12],...s)}return{c(){e=_("textarea"),this.h()},l(s){e=v(s,"TEXTAREA",{id:!0,placeholder:!0,class:!0,rows:!0}),b(e).forEach(d),this.h()},h(){f(e,"id",r="input-"+l[12].id),f(e,"placeholder",t=l[12].placeholder),f(e,"class","textarea max-w-full"),f(e,"rows","5"),e.required=l[3]},m(s,o){T(s,e,o),n||(i=se(e,"input",a),n=!0)},p(s,o){l=s,o&1&&r!==(r="input-"+l[12].id)&&f(e,"id",r),o&1&&t!==(t=l[12].placeholder)&&f(e,"placeholder",t),o&8&&(e.required=l[3])},d(s){s&&d(e),n=!1,i()}}}function Vl(l){let e,r,t=l[12].description+"",n,i;return{c(){e=_("label"),r=_("span"),n=G(t),this.h()},l(a){e=v(a,"LABEL",{class:!0,for:!0});var s=b(e);r=v(s,"SPAN",{class:!0});var o=b(r);n=J(o,t),o.forEach(d),s.forEach(d),this.h()},h(){f(r,"class","form-label-alt"),f(e,"class","form-label"),f(e,"for",i="input-"+l[12].id)},m(a,s){T(a,e,s),h(e,r),h(r,n)},p(a,s){s&1&&t!==(t=a[12].description+"")&&Y(n,t),s&1&&i!==(i="input-"+a[12].id)&&f(e,"for",i)},d(a){a&&d(e)}}}function Dl(l){let e,r,t=he(l[13]),n=[];for(let a=0;a<t.length;a+=1)n[a]=Nl(Il(l,t,a));const i=a=>D(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ne()},l(a){for(let s=0;s<n.length;s+=1)n[s].l(a);e=ne()},m(a,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(a,s);T(a,e,s),r=!0},p(a,s){if(s&11){t=he(a[13]);let o;for(o=0;o<t.length;o+=1){const c=Il(a,t,o);n[o]?(n[o].p(c,s),S(n[o],1)):(n[o]=Nl(c),n[o].c(),S(n[o],1),n[o].m(e.parentNode,e))}for(fe(),o=t.length;o<n.length;o+=1)i(o);de()}},i(a){if(!r){for(let s=0;s<t.length;s+=1)S(n[s]);r=!0}},o(a){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)D(n[s]);r=!1},d(a){a&&d(e),Le(n,a)}}}function Tl(l){let e,r=l[16]+"",t,n;return{c(){e=_("option"),t=G(r),this.h()},l(i){e=v(i,"OPTION",{});var a=b(e);t=J(a,r),a.forEach(d),this.h()},h(){e.__value=n=l[16],je(e,e.__value)},m(i,a){T(i,e,a),h(e,t)},p(i,a){a&1&&r!==(r=i[16]+"")&&Y(t,r),a&1&&n!==(n=i[16])&&(e.__value=n,je(e,e.__value))},d(i){i&&d(e)}}}function ci(l){let e,r,t,n,i,a;function s(...o){return l[7](l[16],l[19],l[20],...o)}return{c(){e=_("input"),this.h()},l(o){e=v(o,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),this.h()},h(){f(e,"id",r="input-"+l[12].input.id+"-$"+l[16].id),f(e,"placeholder",t=l[12].input.placeholder),f(e,"type",n=_t(l[12].input.type)),f(e,"class","input"),e.required=l[3]},m(o,c){T(o,e,c),i||(a=se(e,"input",s),i=!0)},p(o,c){l=o,c&3&&r!==(r="input-"+l[12].input.id+"-$"+l[16].id)&&f(e,"id",r),c&1&&t!==(t=l[12].input.placeholder)&&f(e,"placeholder",t),c&1&&n!==(n=_t(l[12].input.type))&&f(e,"type",n),c&8&&(e.required=l[3])},d(o){o&&d(e),i=!1,a()}}}function ui(l){let e,r,t,n,i;function a(...s){return l[6](l[16],l[19],l[20],...s)}return{c(){e=_("textarea"),this.h()},l(s){e=v(s,"TEXTAREA",{id:!0,placeholder:!0,class:!0,rows:!0}),b(e).forEach(d),this.h()},h(){f(e,"id",r="input-"+l[12].input.id+"-$"+l[16].id),f(e,"placeholder",t=l[12].input.placeholder),f(e,"class","textarea"),f(e,"rows","5"),e.required=l[3]},m(s,o){T(s,e,o),n||(i=se(e,"input",a),n=!0)},p(s,o){l=s,o&3&&r!==(r="input-"+l[12].input.id+"-$"+l[16].id)&&f(e,"id",r),o&1&&t!==(t=l[12].input.placeholder)&&f(e,"placeholder",t),o&8&&(e.required=l[3])},d(s){s&&d(e),n=!1,i()}}}function fi(l){let e,r;function t(){return l[9](l[12],l[13])}return e=new Tn({props:{onClick:t}}),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,i){B(e,n,i),r=!0},p(n,i){l=n;const a={};i&3&&(a.onClick=t),e.$set(a)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){O(e,n)}}}function di(l){let e,r;function t(){return l[8](l[12],l[13],l[16])}return e=new Mn({props:{onClick:t}}),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,i){B(e,n,i),r=!0},p(n,i){l=n;const a={};i&3&&(a.onClick=t),e.$set(a)},i(n){r||(S(e.$$.fragment,n),r=!0)},o(n){D(e.$$.fragment,n),r=!1},d(n){O(e,n)}}}function Nl(l){let e,r,t,n,i,a,s,o,c,u,p,m,y,C,g,w,k,V,I,L=he(l[12].types.values),M=[];for(let $=0;$<L.length;$+=1)M[$]=Tl(Sl(l,L,$));function K(...$){return l[5](l[16],l[19],l[20],...$)}function Q($,E){return E&1&&(u=null),u==null&&(u=!!jl($[12].input.type)),u?ui:ci}let z=Q(l,-1),j=z(l);const F=[di,fi],A=[];function W($,E){return $[13].length>1&&$[20]+1!=$[13].length?0:1}return y=W(l),C=A[y]=F[y](l),{c(){e=_("div"),r=_("div"),t=_("div"),n=_("select");for(let $=0;$<M.length;$+=1)M[$].c();o=N(),c=_("div"),j.c(),m=N(),C.c(),g=N(),this.h()},l($){e=v($,"DIV",{class:!0,id:!0});var E=b(e);r=v(E,"DIV",{class:!0,id:!0});var U=b(r);t=v(U,"DIV",{});var Z=b(t);n=v(Z,"SELECT",{id:!0,placeholder:!0,class:!0});var ie=b(n);for(let ce=0;ce<M.length;ce+=1)M[ce].l(ie);ie.forEach(d),Z.forEach(d),o=P(U),c=v(U,"DIV",{});var re=b(c);j.l(re),re.forEach(d),U.forEach(d),m=P(E),C.l(E),g=P(E),E.forEach(d),this.h()},h(){f(n,"id",i="input-"+l[12].types.id+"-$"+l[16].id),f(n,"placeholder",a=l[12].types.placeholder),f(n,"class","select"),n.required=l[3],f(r,"class","grid grid-cols-1 gap-4 sm:grid-cols-2"),f(r,"id",p="grid-"+l[12].id),f(e,"class","flex flex-row gap-2"),f(e,"id",w="grid-"+l[12].id)},m($,E){T($,e,E),h(e,r),h(r,t),h(t,n);for(let U=0;U<M.length;U+=1)M[U]&&M[U].m(n,null);pt(n,l[16].type),h(r,o),h(r,c),j.m(c,null),h(e,m),A[y].m(e,null),h(e,g),k=!0,V||(I=se(n,"input",K),V=!0)},p($,E){if(l=$,E&1){L=he(l[12].types.values);let Z;for(Z=0;Z<L.length;Z+=1){const ie=Sl(l,L,Z);M[Z]?M[Z].p(ie,E):(M[Z]=Tl(ie),M[Z].c(),M[Z].m(n,null))}for(;Z<M.length;Z+=1)M[Z].d(1);M.length=L.length}(!k||E&3&&i!==(i="input-"+l[12].types.id+"-$"+l[16].id))&&f(n,"id",i),(!k||E&1&&a!==(a=l[12].types.placeholder))&&f(n,"placeholder",a),(!k||E&3&&s!==(s=l[16].type))&&pt(n,l[16].type),(!k||E&8)&&(n.required=l[3]),z===(z=Q(l,E))&&j?j.p(l,E):(j.d(1),j=z(l),j&&(j.c(),j.m(c,null))),(!k||E&1&&p!==(p="grid-"+l[12].id))&&f(r,"id",p);let U=y;y=W(l),y===U?A[y].p(l,E):(fe(),D(A[U],1,1,()=>{A[U]=null}),de(),C=A[y],C?C.p(l,E):(C=A[y]=F[y](l),C.c()),S(C,1),C.m(e,g)),(!k||E&1&&w!==(w="grid-"+l[12].id))&&f(e,"id",w)},i($){k||(S(C),k=!0)},o($){D(C),k=!1},d($){$&&d(e),Le(M,$),j.d(),A[y].d(),V=!1,I()}}}function Pl(l){let e,r,t=l[12].input.description+"",n,i;return{c(){e=_("label"),r=_("span"),n=G(t),this.h()},l(a){e=v(a,"LABEL",{class:!0,for:!0});var s=b(e);r=v(s,"SPAN",{class:!0});var o=b(r);n=J(o,t),o.forEach(d),s.forEach(d),this.h()},h(){f(r,"class","form-label-alt"),f(e,"class","form-label"),f(e,"for",i="input-"+l[12].input.id)},m(a,s){T(a,e,s),h(e,r),h(r,n)},p(a,s){s&1&&t!==(t=a[12].input.description+"")&&Y(n,t),s&1&&i!==(i="input-"+a[12].input.id)&&f(e,"for",i)},d(a){a&&d(e)}}}function Ml(l){let e,r=l[16]+"",t,n;return{c(){e=_("option"),t=G(r),this.h()},l(i){e=v(i,"OPTION",{});var a=b(e);t=J(a,r),a.forEach(d),this.h()},h(){e.__value=n=l[16],je(e,e.__value)},m(i,a){T(i,e,a),h(e,t)},p(i,a){a&1&&r!==(r=i[16]+"")&&Y(t,r),a&1&&n!==(n=i[16])&&(e.__value=n,je(e,e.__value))},d(i){i&&d(e)}}}function Kl(l){let e,r,t=l[12].description+"",n,i;return{c(){e=_("label"),r=_("span"),n=G(t),this.h()},l(a){e=v(a,"LABEL",{class:!0,for:!0});var s=b(e);r=v(s,"SPAN",{class:!0});var o=b(r);n=J(o,t),o.forEach(d),s.forEach(d),this.h()},h(){f(r,"class","form-label-alt"),f(e,"class","form-label"),f(e,"for",i="input-"+l[12].id)},m(a,s){T(a,e,s),h(e,r),h(r,n)},p(a,s){s&1&&t!==(t=a[12].description+"")&&Y(n,t),s&1&&i!==(i="input-"+a[12].id)&&f(e,"for",i)},d(a){a&&d(e)}}}function Al(l){let e,r,t=l[12].label+"",n,i,a,s,o,c,u,p,m,y;const C=[ai,ii,ri],g=[];function w(k,V){return V&1&&(s=null),V&1&&(o=null),s==null&&(s=!!li(k[12])),s?0:(o==null&&(o=!!Rt(k[12])),o?1:2)}return c=w(l,-1),u=g[c]=C[c](l),{c(){e=_("div"),r=_("label"),n=G(t),a=N(),u.c(),p=N(),this.h()},l(k){e=v(k,"DIV",{id:!0,class:!0});var V=b(e);r=v(V,"LABEL",{class:!0,for:!0});var I=b(r);n=J(I,t),I.forEach(d),a=P(V),u.l(V),p=P(V),V.forEach(d),this.h()},h(){f(r,"class","form-label"),f(r,"for",i="input-"+l[12].id),f(e,"id",m=l[2]+"-"+l[12].id),f(e,"class","form-field")},m(k,V){T(k,e,V),h(e,r),h(r,n),h(e,a),g[c].m(e,null),h(e,p),y=!0},p(k,V){(!y||V&1)&&t!==(t=k[12].label+"")&&Y(n,t),(!y||V&1&&i!==(i="input-"+k[12].id))&&f(r,"for",i);let I=c;c=w(k,V),c===I?g[c].p(k,V):(fe(),D(g[I],1,1,()=>{g[I]=null}),de(),u=g[c],u?u.p(k,V):(u=g[c]=C[c](k),u.c()),S(u,1),u.m(e,p)),(!y||V&5&&m!==(m=k[2]+"-"+k[12].id))&&f(e,"id",m)},i(k){y||(S(u),y=!0)},o(k){D(u),y=!1},d(k){k&&d(e),g[c].d()}}}function hi(l){let e,r,t=he(l[0]),n=[];for(let a=0;a<t.length;a+=1)n[a]=Al(El(l,t,a));const i=a=>D(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ne()},l(a){for(let s=0;s<n.length;s+=1)n[s].l(a);e=ne()},m(a,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(a,s);T(a,e,s),r=!0},p(a,[s]){if(s&15){t=he(a[0]);let o;for(o=0;o<t.length;o+=1){const c=El(a,t,o);n[o]?(n[o].p(c,s),S(n[o],1)):(n[o]=Al(c),n[o].c(),S(n[o],1),n[o].m(e.parentNode,e))}for(fe(),o=t.length;o<n.length;o+=1)i(o);de()}},i(a){if(!r){for(let s=0;s<t.length;s+=1)S(n[s]);r=!0}},o(a){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)D(n[s]);r=!1},d(a){a&&d(e),Le(n,a)}}}function pi(l,e,r){let{formId:t}=e,{formInputs:n}=e,{isRequired:i}=e,{submissionValues:a}=e;const s=(g,w)=>{a.set(g,w.currentTarget.value)},o=(g,w,k,V)=>{r(1,w[k].type=V.currentTarget.value,a,r(0,n))},c=(g,w,k,V)=>{r(1,w[k].input=V.currentTarget.value,a,r(0,n))},u=(g,w,k,V)=>{r(1,w[k].input=V.currentTarget.value,a,r(0,n))},p=(g,w,k)=>{r(1,a=a.set(g,w.filter(V=>V.id!=k.id)))},m=(g,w)=>{Rt(g)&&r(1,a=a.set(g,w.concat(Dt(g))))},y=(g,w)=>a.set(g,w.currentTarget.value),C=(g,w)=>a.set(g,w.currentTarget.value);return l.$$set=g=>{"formId"in g&&r(2,t=g.formId),"formInputs"in g&&r(0,n=g.formInputs),"isRequired"in g&&r(3,i=g.isRequired),"submissionValues"in g&&r(1,a=g.submissionValues)},[n,a,t,i,s,o,c,u,p,m,y,C]}class Gl extends ee{constructor(e){super(),te(this,e,pi,hi,x,{formId:2,formInputs:0,isRequired:3,submissionValues:1})}}function zl(l){let e,r="Optional",t,n,i;return n=new Gl({props:{formId:l[0].id,formInputs:l[0].additional,isRequired:!1,submissionValues:l[2].additional}}),{c(){e=_("div"),e.textContent=r,t=N(),R(n.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-53izo"&&(e.textContent=r),t=P(a),q(n.$$.fragment,a),this.h()},h(){f(e,"class","divider divider-horizontal")},m(a,s){T(a,e,s),T(a,t,s),B(n,a,s),i=!0},p(a,s){const o={};s&1&&(o.formId=a[0].id),s&1&&(o.formInputs=a[0].additional),s&4&&(o.submissionValues=a[2].additional),n.$set(o)},i(a){i||(S(n.$$.fragment,a),i=!0)},o(a){D(n.$$.fragment,a),i=!1},d(a){a&&(d(e),d(t)),O(n,a)}}}function Fl(l){let e,r=l[0].control.label+"",t,n,i,a,s;return{c(){e=_("button"),t=G(r),this.h()},l(o){e=v(o,"BUTTON",{id:!0,type:!0,class:!0,form:!0});var c=b(e);t=J(c,r),c.forEach(d),this.h()},h(){f(e,"id",n=l[0].control.id),f(e,"type","submit"),f(e,"class","btn btn-primary w-full"),f(e,"form",i=l[0].id)},m(o,c){T(o,e,c),h(e,t),a||(s=se(e,"click",l[3]),a=!0)},p(o,c){c&1&&r!==(r=o[0].control.label+"")&&Y(t,r),c&1&&n!==(n=o[0].control.id)&&f(e,"id",n),c&1&&i!==(i=o[0].id)&&f(e,"form",i)},d(o){o&&d(e),a=!1,s()}}}function mi(l){let e,r,t,n,i,a,s=$l(l[0].control),o;r=new Gl({props:{formId:l[0].id,formInputs:l[0].required,isRequired:!0,submissionValues:l[2].required}});let c=l[0].required.length>0&&l[0].additional.length>0&&zl(l),u=s&&Fl(l);return{c(){e=_("div"),R(r.$$.fragment),t=N(),c&&c.c(),n=N(),i=_("div"),a=_("div"),u&&u.c(),this.h()},l(p){e=v(p,"DIV",{class:!0});var m=b(e);q(r.$$.fragment,m),t=P(m),c&&c.l(m),n=P(m),i=v(m,"DIV",{class:!0});var y=b(i);a=v(y,"DIV",{class:!0});var C=b(a);u&&u.l(C),C.forEach(d),y.forEach(d),m.forEach(d),this.h()},h(){f(a,"class","form-control justify-between"),f(i,"class","form-field pt-5"),f(e,"class","form-group")},m(p,m){T(p,e,m),B(r,e,null),h(e,t),c&&c.m(e,null),h(e,n),h(e,i),h(i,a),u&&u.m(a,null),o=!0},p(p,[m]){const y={};m&1&&(y.formId=p[0].id),m&1&&(y.formInputs=p[0].required),m&4&&(y.submissionValues=p[2].required),r.$set(y),p[0].required.length>0&&p[0].additional.length>0?c?(c.p(p,m),m&1&&S(c,1)):(c=zl(p),c.c(),S(c,1),c.m(e,n)):c&&(fe(),D(c,1,1,()=>{c=null}),de()),m&1&&(s=$l(p[0].control)),s?u?u.p(p,m):(u=Fl(p),u.c(),u.m(a,null)):u&&(u.d(1),u=null)},i(p){o||(S(r.$$.fragment,p),S(c),o=!0)},o(p){D(r.$$.fragment,p),D(c),o=!1},d(p){p&&d(e),O(r),c&&c.d(),u&&u.d()}}}function _i(l,e,r){let t,{form:n}=e,{onSubmit:i}=e;const a=ni(n),s=()=>i(t);return l.$$set=o=>{"form"in o&&r(0,n=o.form),"onSubmit"in o&&r(1,i=o.onSubmit)},r(2,t=a),[n,i,t,s]}class vi extends ee{constructor(e){super(),te(this,e,_i,mi,x,{form:0,onSubmit:1})}}function bi(l){let e,r,t,n,i,a,s,o,c,u,p,m=l[0].name+"",y,C,g,w=l[0].description+"",k,V,I,L,M,K,Q,z,j;return M=new vi({props:{form:l[0],onSubmit:l[6]}}),{c(){e=_("input"),r=N(),t=_("div"),n=_("label"),i=N(),a=_("div"),s=_("label"),o=G("‚úï"),c=N(),u=_("div"),p=_("h2"),y=G(m),C=N(),g=_("p"),k=G(w),V=N(),I=_("section"),L=_("form"),R(M.$$.fragment),this.h()},l(F){e=v(F,"INPUT",{class:!0,type:!0,id:!0}),r=P(F),t=v(F,"DIV",{class:!0});var A=b(t);n=v(A,"LABEL",{class:!0,for:!0}),b(n).forEach(d),i=P(A),a=v(A,"DIV",{class:!0});var W=b(a);s=v(W,"LABEL",{for:!0,class:!0});var $=b(s);o=J($,"‚úï"),$.forEach(d),c=P(W),u=v(W,"DIV",{class:!0});var E=b(u);p=v(E,"H2",{class:!0});var U=b(p);y=J(U,m),U.forEach(d),C=P(E),g=v(E,"P",{class:!0});var Z=b(g);k=J(Z,w),Z.forEach(d),E.forEach(d),V=P(W),I=v(W,"SECTION",{});var ie=b(I);L=v(ie,"FORM",{id:!0});var re=b(L);q(M.$$.fragment,re),re.forEach(d),ie.forEach(d),W.forEach(d),A.forEach(d),this.h()},h(){f(e,"class","modal-state"),f(e,"type","checkbox"),f(e,"id",l[4]),f(n,"class","modal-overlay"),f(n,"for",l[4]),f(s,"for",l[4]),f(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),f(p,"class","text-center text-2xl font-semibold"),f(g,"class","mx-auto max-w-xs text-center text-sm text-content2"),f(u,"class","flex flex-col gap-2"),f(L,"id",K=l[0].id),f(a,"class","modal-content flex w-full flex-col gap-5 p-7"),f(t,"class","modal")},m(F,A){T(F,e,A),l[5](e),T(F,r,A),T(F,t,A),h(t,n),h(t,i),h(t,a),h(a,s),h(s,o),h(a,c),h(a,u),h(u,p),h(p,y),h(u,C),h(u,g),h(g,k),h(a,V),h(a,I),h(I,L),B(M,L,null),Q=!0,z||(j=se(L,"submit",l[7]),z=!0)},p(F,[A]){(!Q||A&1)&&m!==(m=F[0].name+"")&&Y(y,m),(!Q||A&1)&&w!==(w=F[0].description+"")&&Y(k,w);const W={};A&1&&(W.form=F[0]),A&4&&(W.onSubmit=F[6]),M.$set(W),(!Q||A&1&&K!==(K=F[0].id))&&f(L,"id",K)},i(F){Q||(S(M.$$.fragment,F),Q=!0)},o(F){D(M.$$.fragment,F),Q=!1},d(F){F&&(d(e),d(r),d(t)),l[5](null),O(M),z=!1,j()}}}function gi(l,e,r){let{form:t}=e,{onSubmit:n}=e;const i=`modal-${t.id}`;let a,s;Kt(()=>s.click());function o(p){nt[p?"unshift":"push"](()=>{s=p,r(3,s)})}const c=p=>r(2,a=p),u=()=>n(a);return l.$$set=p=>{"form"in p&&r(0,t=p.form),"onSubmit"in p&&r(1,n=p.onSubmit)},[t,n,a,s,i,o,c,u]}class qt extends ee{constructor(e){super(),te(this,e,gi,bi,x,{form:0,onSubmit:1})}}function Ue(l){return{value:l,readonly:!1,type:"contacts-updated"}}function wi(l){return{value:l,readonly:!1,type:"contacts-saved"}}function yi(l,e){return{value:l,url:e,readonly:!1,type:"contacts-shared"}}function ki(l,e){return{value:l,isMissingPublicKey:e,readonly:e,type:"contacts-decrypted"}}function $i(l){return{value:[],error:l,readonly:!1,type:"decrypt-contacts-failed"}}function Ci(l){return{value:[],error:l,readonly:!1,type:"contacts-initialization-failed"}}function Ei(l,e){return{value:l,error:e,readonly:!1,type:"save-contacts-failed"}}function Ii(l,e){return{value:l,error:e,readonly:!1,type:"share-contacts-failed"}}function Si(l){return{value:l,readonly:!0,type:"import-public-key-failed"}}const Li=l=>oe(l,"contacts-saved"),Jl=l=>oe(l,"contacts-shared"),Vi=l=>oe(l,"contacts-decrypted"),pa=l=>oe(l,"decrypt-contacts-failed"),Hl=l=>oe(l,"contacts-initialization-failed"),Di=l=>oe(l,"save-contacts-failed"),Ti=l=>oe(l,"share-contacts-failed"),Ni=l=>oe(l,"import-public-key-failed");class ma extends zt{constructor(){super(Ue([]));Et(this,"symmetricKey");Et(this,"asymmetricKey");super.on((r,t)=>{const n=Pi(r.submission);t(Ue([...this.state.value,n]))},pn),super.on(async(r,t)=>{try{const n=Ee();try{const i=await Ai();if(i){this.symmetricKey=i.symmetric,this.asymmetricKey=i.asymmetric,t(Ue(i.contactsList));return}}catch(i){console.error(i)}this.asymmetricKey=await n.asymmetricCrypto.generate(),this.symmetricKey=await n.symmetricCrypto.generate(),t(Ue(this.state.value))}catch(n){const i=et(n);xe(i),t(Ci(i))}},hn),super.on(async(r,t)=>{this.asymmetricKey=r.asymmetricKeyPair,this.symmetricKey=r.symmetricKey,t(Ue(r.contacts))},vn),super.on(async(r,t)=>{try{await Ki(this.state.value,this.symmetricKey,this.asymmetricKey),t(wi(this.state.value))}catch(n){const i=et(n);xe(i),t(Ei(this.state.value,i))}},mn),super.on(async(r,t)=>{try{const n=Ee(),i=Rl(r.submission),a=await n.symmetricCrypto.generate(),s=await Wl(a,i,this.state.value);t(yi(this.state.value,new URL(`${window.location.origin}/${s.ref}/${s.hash}`)))}catch(n){const i=et(n);xe(i),t(Ii(this.state.value,i))}},_n),super.on(async(r,t)=>{const n=Ee();try{const i=zi(r.submission),a=await n.contactsManager.fetch(r.ref,r.hash),s=await Mi(i,a);this.asymmetricKey=s.keyPair,this.symmetricKey=s.symmetricKey,t(ki(s.contactsList,this.asymmetricKey.private==this.asymmetricKey.public))}catch(i){const a=et(i);xe(a),t($i(a))}},gn),super.on(async(r,t)=>{const n=Ee(),i=Rl(r.submission),a={public:i,private:this.asymmetricKey.private};await n.asymmetricCrypto.match(a)?(this.asymmetricKey.public=i,t(Ue(this.state.value))):t(Si(this.state.value))},bn)}}function Pi(l){var n,i,a,s,o;const e=[...l.required,...l.additional],r=(n=e.find(c=>c[0].id=="birthday"))==null?void 0:n[1],t=((i=e.find(c=>c[0].id=="phone-number"))==null?void 0:i[1])??[];return{name:(a=e.find(c=>c[0].id=="name"))==null?void 0:a[1],email:(s=e.find(c=>c[0].id=="email"))==null?void 0:s[1],phoneNumbers:Vt(t)?t.filter(c=>!!c.input&&c.input.trim().length>0&&!!c.type).map(c=>({value:c.input,type:c.type})):[],birthDate:r?new Date(r.toString()):void 0,gender:(o=e.find(c=>c[0].id=="gender"))==null?void 0:o[1]}}async function Wl(l,e,r){const t=Ee(),n=await t.symmetricCrypto.encrypt(l,JSON.stringify(r));if(typeof n=="string")throw"AES encryption is only supported right now";const i=n.data,a=await t.asymmetricCrypto.encrypt(e,n.iv),s=await t.asymmetricCrypto.encrypt(e,l.toString()),o={key:btoa(s),iv:btoa(a),contacts:btoa(i)};return t.contactsManager.add(btoa(JSON.stringify(o)))}async function Mi(l,e){const r=Ee(),t=on(e),n=Bl.private(await r.asymmetricCrypto.decrypt(l,t.key)),i=await r.asymmetricCrypto.decrypt(l,t.iv),a=await r.symmetricCrypto.decrypt(n,{data:t.contacts,iv:i}),s=await r.cryptoCache.pair(l);return{keyPair:s||{private:l,public:l},symmetricKey:n,contactsList:[...JSON.parse(a)].map(o=>({...o,birthDate:new Date(o.birthDate)}))}}async function Ki(l,e,r){const t=Ee(),n=await Wl(e,r.public,l);await t.browserStorage.store("local-contacts-list",JSON.stringify({asymmetric:{public:btoa(r.public.toString()),private:btoa(r.private.toString())},symmetric:btoa(e.toString()),contactsList:l,hash:n.hash,ref:n.ref}))}async function Ai(){const e=await Ee().browserStorage.lookup("local-contacts-list");return e?JSON.parse(e,(t,n)=>{switch(t){case"symmetric":return Bl.private(atob(n));case"asymmetric":return{public:mt.public(atob(n.public)),private:mt.private(atob(n.private))};case"contactsList":return[...n].map(i=>({...i,birthDate:new Date(i.birthDate)}));default:return n}}):void 0}function Rl(l){var t;const r=((t=[...l.required,...l.additional].find(n=>n[0].id=="public-key"))==null?void 0:t[1])??"";return mt.public(r)}function zi(l){var t;const r=((t=[...l.required,...l.additional].find(n=>n[0].id=="private-key"))==null?void 0:t[1])??"";return mt.private(r)}function Fi(){return{type:"new-key-pair"}}const Hi=l=>oe(l,"new-key-pair");function Ri(){return{type:"crypto-initialized"}}function qi(l){return{value:l,type:"generation-success"}}function Bi(l){return{value:l,type:"generation-failure"}}const Oi=l=>oe(l,"generation-success"),Ui=l=>oe(l,"generation-failure");class ji extends zt{constructor(){super(Ri()),super.on(async(e,r)=>{const t=Ee();try{const n=await t.asymmetricCrypto.generate();r(qi(n)),t.cryptoCache.cache(n)}catch(n){const i=et(n);xe(i),r(Bi(i))}},Hi)}}function St(){return{type:"form-started"}}function Lt(l){return{value:l,type:"form-submitted"}}const Gi=l=>oe(l,"form-started"),Ji=l=>oe(l,"form-submitted");function Wi(l){return{value:l,type:"form-initial"}}function Zi(l){return{value:l,type:"form-in-progress"}}function Xi(l,e){return{value:l,submission:e,type:"form-finish"}}function Yi(l,e,r){return{value:l,required:e,additional:r,type:"form-validation"}}const lt=l=>oe(l,"form-in-progress"),ht=l=>oe(l,"form-finish");class Bt extends zt{constructor(e){super(Wi(e)),super.on((r,t)=>{t(Zi(this.state.value))},Gi),super.on((r,t)=>{const n=this.validate(r.value);n.additional.size+n.required.size>0?t(Yi(this.state.value,n.required,n.additional)):t(Xi(this.state.value,r.value))},Ji)}}class Qi extends Bt{constructor(e){super(xi(e))}validate(e){return Ft(`validation form... ${e}`),{additional:new Map,required:new Map}}}function xi(l){const e=l.form.newContact;return{id:"new-contact",name:e.name(),description:e.description(),required:[{id:"name",description:e.descriptions.name(),label:e.labels.name(),placeholder:e.placeholders.name(),type:"raw"},{id:"email",description:e.descriptions.email(),label:e.labels.email(),placeholder:e.placeholders.email(),type:"email"}],additional:[{id:"phone-number",label:e.labels.phoneNumber(),count:1,input:{id:"phone-number",description:e.descriptions.phoneNumber(),label:e.labels.phoneNumber(),placeholder:e.placeholders.phoneNumber(),type:"phone-number"},types:{id:"phone-number-type",description:e.descriptions.phoneNumberType(),label:e.labels.phoneNumberType(),placeholder:e.placeholders.phoneNumberType(),type:"list",values:Object.values(e.values.phoneNumberType).map(r=>r())}},{id:"birthday",description:e.descriptions.birthday(),label:e.labels.birthday(),placeholder:e.placeholders.birthday(),type:"date"},{id:"gender",description:e.descriptions.gender(),label:e.labels.gender(),placeholder:e.placeholders.gender(),type:"list",values:Object.values(e.values.gender).map(r=>r())}],control:{id:"new-contact-control",label:e.labels.control(),type:"button"}}}class ea extends Bt{constructor(e){super(ta(e))}validate(e){return Ft(`validation form... ${e}`),{additional:new Map,required:new Map}}}function ta(l){const e=l.form.shareContacts;return{id:"share-contacts",name:e.name(),description:e.description(),required:[{id:"public-key",description:e.descriptions.publicKey(),label:e.labels.publicKey(),placeholder:e.placeholders.publicKey(),type:"area"}],additional:[],control:{id:"share-contacts-control",label:e.labels.control(),type:"button"}}}class la extends Bt{constructor(e){super(na(e))}validate(e){return Ft(`validation form... ${e}`),{additional:new Map,required:new Map}}}function na(l){const e=l.form.importPublicKey;return{id:"import-public-key",name:e.name(),description:e.description(),required:[{id:"public-key",description:e.descriptions.publicKey(),label:e.labels.publicKey(),placeholder:e.placeholders.publicKey(),type:"area"}],additional:[],control:{id:"import-public-key-control",label:e.labels.control(),type:"button"}}}export{ma as C,fa as D,Bt as F,da as L,qt as M,tt as R,ha as a,St as b,Lt as c,ht as d,pa as e,lt as i};

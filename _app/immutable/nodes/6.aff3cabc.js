import{S as T,L as j,d as A,s as x}from"../chunks/static-image.68038311.js";import{l as B}from"../chunks/no-contacts-found.c310d9ce.js";import{s as z,e as k,o as G,n as P}from"../chunks/scheduler.ad18e0d3.js";import{S as M,i as D,r as _,u as $,v as g,d as m,t as p,w as b,g as L,s as q,m as H,h as C,j as F,f as d,c as K,n as J,k as R,a as y,x as w,o as Q,e as S,p as V,b as O}from"../chunks/index.83d2023c.js";import{p as U}from"../chunks/stores.fb90cdee.js";import{F as W,R as E,C as X,b as Y,i as I,c as Z,d as ee,D as te,e as re,M as ae,a as oe}from"../chunks/reactor.72c3570a.js";import"../chunks/paths.f09f5fa9.js";import{l as ne,b as se,S as ce,N as ie}from"../chunks/reactor.a41a1a08.js";function le(n){let e,r;return e=new T({props:{name:"locked-book",alt:"an illustration of a book covered with a lock",size:n[0],format:n[1]}}),{c(){_(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,o){g(e,t,o),r=!0},p(t,[o]){const a={};o&1&&(a.size=t[0]),o&2&&(a.format=t[1]),e.$set(a)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function fe(n,e,r){let{size:t="m"}=e,{format:o="webp"}=e;return n.$$set=a=>{"size"in a&&r(0,t=a.size),"format"in a&&r(1,o=a.format)},[t,o]}class ue extends M{constructor(e){super(),D(this,e,fe,le,z,{size:0,format:1})}}function me(n){let e,r,t,o,a,s=n[0].states.encryptedContacts()+"",u,c;return t=new ue({props:{size:"m"}}),{c(){e=L("div"),r=L("div"),_(t.$$.fragment),o=q(),a=L("p"),u=H(s),this.h()},l(i){e=C(i,"DIV",{class:!0});var l=F(e);r=C(l,"DIV",{class:!0});var v=F(r);$(t.$$.fragment,v),v.forEach(d),o=K(l),a=C(l,"P",{class:!0});var h=F(a);u=J(h,s),h.forEach(d),l.forEach(d),this.h()},h(){R(r,"class","opacity-60 grayscale"),R(a,"class","text-lg"),R(e,"class","flex flex-col items-center gap-4")},m(i,l){y(i,e,l),w(e,r),g(t,r,null),w(e,o),w(e,a),w(a,u),c=!0},p(i,[l]){(!c||l&1)&&s!==(s=i[0].states.encryptedContacts()+"")&&Q(u,s)},i(i){c||(m(t.$$.fragment,i),c=!0)},o(i){p(t.$$.fragment,i),c=!1},d(i){i&&d(e),b(t)}}}function pe(n,e,r){let t;return k(n,j,o=>r(0,t=o)),[t]}class de extends M{constructor(e){super(),D(this,e,pe,me,z,{})}}class _e extends W{constructor(e){super($e(e))}validate(e){return ne(`validation form... ${e}`),{additional:new Map,required:new Map}}}function $e(n){const e=n.form.decryptContacts;return{id:"import-contacts",name:e.name(),description:e.description(),required:[{id:"private-key",label:e.labels.publicKey(),description:e.descriptions.publicKey(),placeholder:e.placeholders.publicKey(),type:"area"}],additional:[],control:{id:"submit",label:e.labels.control(),type:"button"}}}const ge=async()=>{const n=A();await B(n),x(n)},je=Object.freeze(Object.defineProperty({__proto__:null,load:ge},Symbol.toStringTag,{value:"Module"}));function N(n){let e,r;return e=new ae({props:{form:n[0].value,onSubmit:n[8]}}),{c(){_(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,o){g(e,t,o),r=!0},p(t,o){const a={};o&1&&(a.form=t[0].value),e.$set(a)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function be(n){let e=I(n[0]),r,t,o=e&&N(n);return{c(){o&&o.c(),r=S()},l(a){o&&o.l(a),r=S()},m(a,s){o&&o.m(a,s),y(a,r,s),t=!0},p(a,s){s&1&&(e=I(a[0])),e?o?(o.p(a,s),s&1&&m(o,1)):(o=N(a),o.c(),m(o,1),o.m(r.parentNode,r)):o&&(V(),p(o,1,1,()=>{o=null}),O())},i(a){t||(m(o),t=!0)},o(a){p(o),t=!1},d(a){a&&d(r),o&&o.d(a)}}}function he(n){let e,r,t;return r=new de({}),{c(){e=L("div"),_(r.$$.fragment),this.h()},l(o){e=C(o,"DIV",{class:!0});var a=F(e);$(r.$$.fragment,a),a.forEach(d),this.h()},h(){R(e,"class","flex flex-col justify-center h-screen")},m(o,a){y(o,e,a),g(r,e,null),t=!0},p:P,i(o){t||(m(r.$$.fragment,o),t=!0)},o(o){p(r.$$.fragment,o),t=!1},d(o){o&&d(e),b(r)}}}function ve(n){let e,r;return e=new oe({props:{contactsReactor:n[4]}}),{c(){_(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,o){g(e,t,o),r=!0},p:P,i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function ke(n){let e,r,t,o;const a=[ve,he],s=[];function u(c,i){return c[1].value.length>0?0:1}return e=u(n),r=s[e]=a[e](n),{c(){r.c(),t=S()},l(c){r.l(c),t=S()},m(c,i){s[e].m(c,i),y(c,t,i),o=!0},p(c,i){let l=e;e=u(c),e===l?s[e].p(c,i):(V(),p(s[l],1,1,()=>{s[l]=null}),O(),r=s[e],r?r.p(c,i):(r=s[e]=a[e](c),r.c()),m(r,1),r.m(t.parentNode,t))},i(c){o||(m(r),o=!0)},o(c){p(r),o=!1},d(c){c&&d(t),s[e].d(c)}}}function ye(n){let e,r,t,o;return e=new E({props:{reactor:n[5],listener:n[9],$$slots:{default:[be]},$$scope:{ctx:n}}}),t=new E({props:{reactor:n[4],listener:n[10],$$slots:{default:[ke]},$$scope:{ctx:n}}}),{c(){_(e.$$.fragment),r=q(),_(t.$$.fragment)},l(a){$(e.$$.fragment,a),r=K(a),$(t.$$.fragment,a)},m(a,s){g(e,a,s),y(a,r,s),g(t,a,s),o=!0},p(a,[s]){const u={};s&8193&&(u.$$scope={dirty:s,ctx:a}),e.$set(u);const c={};s&8194&&(c.$$scope={dirty:s,ctx:a}),t.$set(c)},i(a){o||(m(e.$$.fragment,a),m(t.$$.fragment,a),o=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),o=!1},d(a){a&&d(r),b(e,a),b(t,a)}}}function we(n,e,r){let t,o,a,s;k(n,j,f=>r(11,t=f)),k(n,U,f=>r(12,o=f));const{ref:u,hash:c}=o.params,i=new X;k(n,i,f=>r(1,s=f));const l=new _e(t);k(n,l,f=>r(0,a=f));const v=se(ie),h=t.notification.decryptFailed;return G(()=>l.add(Y())),[a,s,u,c,i,l,v,h,f=>{l.add(Z(f))},f=>{ee(f)&&i.add(te(u,c,f.submission))},f=>{re(f)&&v.add(ce(h.title(),h.message()))}]}class Pe extends M{constructor(e){super(),D(this,e,we,ye,z,{})}}export{Pe as component,je as universal};
